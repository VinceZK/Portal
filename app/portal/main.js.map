{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/custom.reuse.strategy.ts","./src/app/dialog.service.ts","./src/app/error-page/error-page.component.ts","./src/app/error-page/error-page.component.html","./src/app/external-app/external-app-routing.module.ts","./src/app/external-app/external-app.component.ts","./src/app/external-app/external-app.component.html","./src/app/external-app/external-app.module.ts","./src/app/head-bar/head-bar.component.ts","./src/app/head-bar/head-bar.component.html","./src/app/history.service.ts","./src/app/identity.service.ts","./src/app/mockup/mockup-routing.module.ts","./src/app/mockup/mockup.component.ts","./src/app/mockup/mockup.module.ts","./src/app/msgStore.ts","./src/app/not-found/not-found.component.ts","./src/app/not-found/not-found.component.html","./src/app/role.ts","./src/app/share.service.ts","./src/app/side-menu/side-menu.component.ts","./src/app/side-menu/side-menu.component.html","./src/app/user/user-detail/async-validators.ts","./src/app/user/user-detail/user-address/user-address.component.ts","./src/app/user/user-detail/user-address/user-address.component.html","./src/app/user/user-detail/user-basic/user-basic.component.ts","./src/app/user/user-detail/user-basic/user-basic.component.html","./src/app/user/user-detail/user-detail.component.ts","./src/app/user/user-detail/user-detail.component.html","./src/app/user/user-detail/user-email/user-email.component.ts","./src/app/user/user-detail/user-email/user-email.component.html","./src/app/user/user-detail/user-personalization/user-personalization.component.ts","./src/app/user/user-detail/user-personalization/user-personalization.component.html","./src/app/user/user-detail/user-role/user-role.component.ts","./src/app/user/user-detail/user-role/user-role.component.html","./src/app/user/user-list/user-list.component.ts","./src/app/user/user-list/user-list.component.html","./src/app/work-protection.guard.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport {NotFoundComponent} from \"./not-found/not-found.component\";\nimport {ErrorPageComponent} from \"./error-page/error-page.component\";\nimport {UserListComponent} from \"./user/user-list/user-list.component\";\nimport {UserDetailComponent} from \"./user/user-detail/user-detail.component\";\nimport {WorkProtectionGuard} from \"./work-protection.guard\";\n\nconst routes: Routes = [\n  // The dashboard app is lazy loading\n  // { path: 'users', loadChildren: 'app/user/user.module#UserModule'},\n  { path: 'users', component: UserListComponent},\n  { path: 'users/:userID', component: UserDetailComponent, canDeactivate: [WorkProtectionGuard]},\n  { path: 'dashboard', loadChildren: () => import('app/dashboard/dashboard.module').then(m => m.DashboardModule)},\n  { path: 'handsontable', loadChildren: () => import('app/handsontable/handsontable.module').then(m => m.HandsontableModule)},\n  { path: 'errors', component: ErrorPageComponent },\n  { path: 'pageNotFound', component: NotFoundComponent },\n  { path: '**', component: NotFoundComponent }\n];\n\n@NgModule({\n  exports: [ RouterModule ],\n  imports: [ RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' }) ]\n})\nexport class AppRoutingModule {}\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {SideMenuComponent} from \"./side-menu/side-menu.component\";\nimport {ActivatedRoute, NavigationEnd, Router} from \"@angular/router\";\nimport {HistoryService} from \"./history.service\";\nimport {filter, map, mergeMap} from \"rxjs/operators\";\nimport {IdentityService} from \"./identity.service\";\nimport {ShareService} from \"./share.service\";\nimport {of} from \"rxjs\";\nimport {EntityService} from \"jor-angular\";\nimport {environment} from \"../environments/environment\";\nimport {App} from \"./role\";\nimport {MessageService} from \"ui-message-angular\";\nimport {LogonService} from \"ui-logon-angular\";\nimport {msgStore} from './msgStore';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  @ViewChild(SideMenuComponent, { static: true })\n  private sideMenu: SideMenuComponent;\n\n  isCollapsed = false;\n  constructor(private router: Router,\n              private activatedRoute: ActivatedRoute,\n              private identityService: IdentityService,\n              private shareService: ShareService,\n              private historyService: HistoryService,\n              private entityService: EntityService,\n              private messageService: MessageService,\n              private logonService: LogonService\n  ) {\n    this.entityService.setOriginalHost(environment.originalHost);\n    this.logonService.setHost(environment.originalHost);\n    this.logonService.session().subscribe( data => {\n      this.identityService.setSession( data );\n      this.messageService.setMessageStore(msgStore, this.identityService.Session.LANGUAGE);\n    });\n  }\n\n  ngOnInit() {\n    this.router.events.pipe(\n      filter(event => event instanceof NavigationEnd),\n      map(() => this.activatedRoute),\n      filter(route => route.outlet === 'primary'),\n      map(route => {\n        let url = '';\n        while (route.firstChild) {\n          route = route.firstChild;\n          if ( route.snapshot.url.length > 0 ) {\n            url = url ? url + '/' + route.snapshot.url.join('/') : route.snapshot.url.join('/');\n          }\n        }\n        return url;\n      }),\n      mergeMap(url => {\n        if (this.shareService.apps.length === 0) {\n          // return this.identityService.getApp('/' + url);\n          return of(null);\n        } else {\n          return of(this.shareService.apps.find( app => app.routeLink === '/' + url ));\n        }\n      }))\n      .subscribe(app => {\n        if (app && app['routeLink']) {\n          this.sideMenu.activateApp(<App>app);\n          this.historyService.addHistory(<App>app);\n        }\n      });\n  }\n\n  onCollapse() {\n    this.isCollapsed = this.sideMenu.collapse();\n  }\n}\n","<div class=\"dk-frame-view\">\n  <!-- Head Bar Navigation -->\n  <app-head-bar (onCollapse)=\"onCollapse()\"></app-head-bar>\n\n  <div class=\"dk-frame-content\">\n    <!-- Side Bar Navigation -->\n    <app-side-menu></app-side-menu>\n\n    <!-- Content Area -->\n    <div class=\"dk-content-area\">\n      <router-outlet></router-outlet>\n    </div>\n  </div>\n</div>\n\n<!--<router-outlet></router-outlet>-->\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppComponent } from './app.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { SideMenuComponent } from './side-menu/side-menu.component';\nimport { HeadBarComponent } from './head-bar/head-bar.component';\nimport { MockupModule } from \"./mockup/mockup.module\";\nimport { HttpClientModule } from \"@angular/common/http\";\nimport { ExternalAppModule } from \"./external-app/external-app.module\";\nimport { NotFoundComponent } from './not-found/not-found.component';\nimport { ErrorPageComponent } from './error-page/error-page.component';\nimport {MessageModule} from \"ui-message-angular\";\nimport {RouteReuseStrategy} from \"@angular/router\";\nimport {CustomReuseStrategy} from \"./custom.reuse.strategy\";\nimport {UserListComponent} from \"./user/user-list/user-list.component\";\nimport {UserDetailComponent} from \"./user/user-detail/user-detail.component\";\nimport {UserBasicComponent} from \"./user/user-detail/user-basic/user-basic.component\";\nimport {UserPersonalizationComponent} from \"./user/user-detail/user-personalization/user-personalization.component\";\nimport {UserRoleComponent} from \"./user/user-detail/user-role/user-role.component\";\nimport {UserEmailComponent} from \"./user/user-detail/user-email/user-email.component\";\nimport {UserAddressComponent} from \"./user/user-detail/user-address/user-address.component\";\nimport {FormsModule, ReactiveFormsModule} from \"@angular/forms\";\nimport {JorAngularModule} from \"jor-angular\";\nimport {LogonModule} from \"ui-logon-angular\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SideMenuComponent,\n    HeadBarComponent,\n    UserListComponent,\n    UserDetailComponent,\n    UserBasicComponent,\n    UserPersonalizationComponent,\n    UserRoleComponent,\n    UserEmailComponent,\n    UserAddressComponent,\n    NotFoundComponent,\n    ErrorPageComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MessageModule,\n    MockupModule,\n    ExternalAppModule,\n    AppRoutingModule,\n    HttpClientModule,\n    JorAngularModule,\n    LogonModule\n  ],\n  bootstrap: [\n    AppComponent\n  ],\n  providers: [\n    {provide: RouteReuseStrategy, useClass: CustomReuseStrategy}\n  ]\n})\nexport class AppModule { }\n","/**\n * The custom route reuse strategy inherits the \"RouteReuseStrategy\" to achieve a very usual case,\n * which by default, Angular doesn't support.\n * 1. Search for items based on filter conditions.\n * 2. Navigate to one of the item to the detail page(component).\n * 3. Navigate back to searched item list without re-initializing the search&list component again.\n * This requires the Angular route to save the search&list component, and restore it whenever back.\n * The detail solution is described in following thread:\n * https://stackoverflow.com/questions/41280471/how-to-implement-routereusestrategy-shoulddetach-for-specific-routes-in-angular\n */\nimport {ActivatedRouteSnapshot, DetachedRouteHandle, RouteReuseStrategy} from '@angular/router';\nimport { Injectable } from \"@angular/core\";\n\n@Injectable()\nexport class CustomReuseStrategy implements RouteReuseStrategy {\n  routesToCache: string[] = ['users'];\n  storedRouteHandles = new Map<string, DetachedRouteHandle>();\n\n  /**\n   * When navigation from a reusable component, and if shouldReuseRoute return false,\n   * this method is invoked to decide whether the current route should be stored.\n   * @param route\n   */\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    // console.log('detaching', route);\n    return this.routesToCache.indexOf(route.routeConfig.path) > -1;\n  }\n\n  /**\n   * If the current route need to be stored, that is shouldDetach return true,\n   * then on this method, you can implement a way to store routes. Usually in a Map.\n   * @param route\n   * @param handle\n   */\n  store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle): void {\n    // console.log('store', route);\n    this.storedRouteHandles.set(route.routeConfig.path, handle);\n  }\n\n  /**\n   * When navigation to a reusable component, and if shouldReuseRoute return false,\n   * this method is invoked to decide whether the target component can be get from a reuse buffer.\n   * @param route\n   */\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    // console.log('shouldAttach', route);\n    return this.storedRouteHandles.has(route.routeConfig.path);\n  }\n\n  /**\n   * If shouldAttach return true, then this method is invoke to retrieve the component from the buffer.\n   * @param route\n   */\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n    return this.storedRouteHandles.get(route.routeConfig.path);\n  }\n\n  /**\n   * By default, Angular doesn't re-initializing the same component if the navigation is not to\n   * a different one. For example, you switch different entity ID in the same entity type detail page.\n   * In this way, shouldReuseRoute should return true to avoid executing other methods in this Class.\n   * However, if you navigate from search&list component to entity detail component, then the method should return false.\n   * So that other methods can be executed to decide whether the search&list component should be stored for future reuse.\n   * @param future\n   * @param curr\n   */\n  shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n    // console.log('shouldReuseRoute, future:', future, 'current:', curr);\n    return future.routeConfig === curr.routeConfig;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {Observable, of} from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DialogService {\n\n  /**\n   * Ask user to confirm an action. `message` explains the action and choices.\n   * Returns observable resolving to `true`=confirm or `false`=cancel\n   */\n  confirm(message?: string): Observable<boolean> {\n    const confirmation = window.confirm(message || 'Is it OK?');\n\n    return of(confirmation);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-error-page',\n  templateUrl: './error-page.component.html',\n  styleUrls: ['./error-page.component.css']\n})\nexport class ErrorPageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<dk-message></dk-message>\n\n","import { NgModule } from '@angular/core';\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {ExternalAppComponent} from \"./external-app.component\";\n\nconst routes: Routes = [\n  {\n    path: 'external-app/:appID', component: ExternalAppComponent\n  }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class ExternalAppRoutingModule { }\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {DomSanitizer} from \"@angular/platform-browser\";\nimport {switchMap} from \"rxjs/operators\";\nimport {ShareService} from \"../share.service\";\nimport {App} from \"../role\";\nimport {IdentityService} from \"../identity.service\";\nimport {of} from \"rxjs\";\n\n@Component({\n  selector: 'app-external-app',\n  templateUrl: './external-app.component.html',\n  styleUrls: ['./external-app.component.css']\n})\nexport class ExternalAppComponent implements OnInit {\n  appUrl;\n  // iFrameWidth: string;\n  apps: App[] = [];\n\n  constructor(\n    private route: ActivatedRoute,\n    private shareService: ShareService,\n    private identityService: IdentityService,\n    private sanitizer: DomSanitizer,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n          const appID = params.get('appID');\n          if (this.shareService.apps.length === 0) {\n            return this.identityService.getAppRouteLink(appID);\n          } else {\n            return of(this.shareService.apps.find( app => app.appID === appID).originalRouteLink);\n          }\n        }\n      )).subscribe(routeLink => {\n        if (routeLink === 'appNotFound') {\n          this.router.navigate(['pageNotFound']);\n        } else {\n          const appDangerousUrl = routeLink.substr(0, 4) === 'http' ? routeLink :\n            window.location.origin + routeLink;\n          this.appUrl = this.sanitizer.bypassSecurityTrustResourceUrl(appDangerousUrl);\n        }\n    });\n  }\n}\n","<iframe [src]=\"appUrl\" class=\"nav-content-iframe\">\n</iframe>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {ExternalAppRoutingModule} from \"./external-app-routing.module\";\nimport {ExternalAppComponent} from \"./external-app.component\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ExternalAppRoutingModule\n  ],\n  declarations: [\n    ExternalAppComponent\n  ]\n})\nexport class ExternalAppModule { }\n","import {Component, EventEmitter, HostListener, Inject, OnInit, Output} from '@angular/core';\nimport {App} from \"../role\";\nimport {HistoryService} from \"../history.service\";\nimport {DOCUMENT} from \"@angular/common\";\nimport {LogonService, Session} from \"ui-logon-angular\";\nimport {IdentityService} from \"../identity.service\";\n\n@Component({\n  selector: 'app-head-bar',\n  templateUrl: './head-bar.component.html',\n  styleUrls: ['./head-bar.component.css']\n})\nexport class HeadBarComponent implements OnInit {\n  @Output() onCollapse = new EventEmitter<boolean>();\n  navHistory: App[];\n  currentApp: App;\n  dropdown = {\n    historyOpen: false,\n    notificationOpen: false,\n    preferenceOpen: false\n  };\n  userBasicInfo: Session = new Session();\n\n  constructor(@Inject(DOCUMENT)\n              private document: any,\n              private history: HistoryService,\n              private logonService: LogonService,\n              private identityService: IdentityService) { }\n\n  ngOnInit() {\n    this.history.currentHistoryObserver.subscribe(history => this.navHistory = history );\n    this.history.currentAppObserver.subscribe(currentApp => this.currentApp = currentApp );\n    this.logonService.session().subscribe( session => this.userBasicInfo = session );\n    this.userBasicInfo = this.identityService.Session;\n  }\n\n  @HostListener('document:mouseup', ['$event', 'dropdown'])\n  mouseupDocument($event, dropdown): void {\n    if ($event.srcElement.className !== 'dk-nav-toggle') {\n      dropdown.historyOpen = false;\n      dropdown.notificationOpen = false;\n      dropdown.preferenceOpen = false;\n    }\n  }\n\n  collapse() {\n    this.onCollapse.emit();\n  }\n\n  toggleHistoryDropdown() {\n    this.dropdown.historyOpen = !this.dropdown.historyOpen;\n    this.dropdown.notificationOpen = false;\n    this.dropdown.preferenceOpen = false;\n  }\n\n  toggleNotificationDropdown() {\n    this.dropdown.notificationOpen = !this.dropdown.notificationOpen;\n    this.dropdown.historyOpen = false;\n    this.dropdown.preferenceOpen = false;\n  }\n\n  togglePreferenceOpen() {\n    this.dropdown.preferenceOpen = !this.dropdown.preferenceOpen;\n    this.dropdown.historyOpen = false;\n    this.dropdown.notificationOpen = false;\n  }\n\n  logout() {\n    this.logonService.logout().subscribe(() => this.document.location.href = window.location.origin);\n  }\n}\n","<nav class=\"dk-navbar-inverse\">\n  <div class=\"dk-navbar-header\">\n    <button type=\"button\" class=\"dk-navbar-toggle\" (click)=\"collapse()\">\n      <span class=\"dk-sr-only\">Toggle navigation</span>\n      <span class=\"dk-icon-bar\"></span>\n      <span class=\"dk-icon-bar\"></span>\n      <span class=\"dk-icon-bar\"></span>\n    </button>\n    <a class=\"dk-navbar-brand\" href=\"#\"><img alt=\"Brand\" src=\"assets/darkhouse.png\"></a>\n  </div>\n\n  <!-- Application Name or Title -->\n  <div class=\"dk-navbar-center\">\n    <ul class=\"dk-nav dk-navbar-nav dk-navbar-app-title\">\n      <li [ngClass]=\"{'open': dropdown.historyOpen}\">\n        <a (click)=\"toggleHistoryDropdown()\" class=\"dk-nav-toggle\">{{currentApp.name}} <b class=\"dk-caret\"></b></a>\n        <ul class=\"dk-dropdown-menu\">\n          <li *ngFor=\"let app of navHistory\"><a routerLink=\"{{app.routeLink}}\">\n            {{app.name}}</a>\n          </li>\n        </ul>\n      </li>\n    </ul>\n  </div>\n\n  <!-- Generic Functions in the header bar -->\n  <div class=\"dk-navbar-right\">\n    <ul class=\"dk-nav dk-navbar-nav\">\n      <li [ngClass]=\"{'open': dropdown.notificationOpen}\">\n        <a (click)=\"toggleNotificationDropdown()\" class=\"dk-nav-toggle\"><span\n          class=\"fas fa-bell\"></span><span class=\"dk-label dk-badge\">32</span>\n        </a>\n        <ul class=\"dk-dropdown-menu\">\n          <li><a href=\"#\"><span class=\"dk-label dk-label-warning\">4:00 AM</span>Favourites Snippet</a></li>\n          <li><a href=\"#\"><span class=\"dk-label dk-label-warning\">4:30 AM</span>Email marketing</a></li>\n          <li><a href=\"#\"><span class=\"dk-label dk-label-warning\">5:00 AM</span>Subscriber focused email\n            design</a></li>\n          <li class=\"dk-divider\"></li>\n          <li><a href=\"#\" class=\"dk-text-center\">View All</a></li>\n        </ul>\n      </li>\n      <li [ngClass]=\"{'open': dropdown.preferenceOpen}\">\n        <a (click)=\"togglePreferenceOpen()\" class=\"dk-nav-toggle\"><span\n          class=\"fas fa-user\"></span>{{userBasicInfo && userBasicInfo.DISPLAY_NAME}} <b class=\"dk-caret\"></b>\n        </a>\n        <ul class=\"dk-dropdown-menu\">\n          <li><a href=\"#\"><span class=\"fas fa-user\"></span>Profile</a></li>\n          <li><a href=\"#\"><span class=\"fas fa-cog\"></span>Settings</a></li>\n          <li class=\"dk-divider\"></li>\n          <li><a (click)=\"logout()\"><span class=\"fas fa-power-off\"></span>Logout</a></li>\n        </ul>\n      </li>\n    </ul>\n  </div>\n</nav>\n","import { Injectable } from '@angular/core';\nimport {App} from \"./role\";\nimport {BehaviorSubject} from \"rxjs/internal/BehaviorSubject\";\n\n@Injectable({providedIn: 'root'})\nexport class HistoryService {\n  private navHistory: App[] = [];\n  private historySource = new BehaviorSubject<App[]>([]);\n  private currentApp = new BehaviorSubject<App>(<App>{name: 'Home'});\n  private readonly NUM_OF_HISTORY = 10;\n  currentHistoryObserver = this.historySource.asObservable();\n  currentAppObserver = this.currentApp.asObservable();\n\n  constructor() { }\n\n  addHistory(app: App) {\n    const idx = this.navHistory.map(ele => ele.routeLink)\n                               .indexOf(app.routeLink);\n    if ( idx > -1 ) {\n      this.navHistory.splice(idx, 1);\n    }\n    this.navHistory.push(app);\n    if (this.navHistory.length > this.NUM_OF_HISTORY ) {\n      this.navHistory.shift();\n    }\n    this.historySource.next(this.navHistory);\n    this.currentApp.next(app);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable, of} from 'rxjs';\nimport {catchError, map} from 'rxjs/operators';\nimport {App, Role} from \"./role\";\nimport {Entity, QueryObject} from \"jor-angular\";\nimport {Router} from \"@angular/router\";\nimport {environment} from \"../environments/environment\";\nimport {Message, MessageService, messageType} from \"ui-message-angular\";\nimport {Session} from 'ui-logon-angular';\nimport {UserList} from \"./user\";\nimport {formatDate} from \"@angular/common\";\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable({providedIn: 'root'})\nexport class IdentityService {\n  private originalHost = environment.originalHost;\n  private session: Session;\n\n  constructor(private http: HttpClient,\n              private messageService: MessageService,\n              private router: Router) {\n  }\n\n  setSession( data: any ) {\n    this.session = <Session>data;\n  }\n\n  get Session(): Session {\n    if (this.session) { return this. session; }\n    const defaultSession = new Session();\n    defaultSession.USER_ID = 'DH001';\n    defaultSession.LANGUAGE = 'EN';\n    return defaultSession;\n  }\n\n  get CurrentTime(): string {\n    return formatDate( new Date(), 'yyyy-MM-dd hh:mm:ss', 'en-US' );\n  }\n\n  /**\n   * Get a role detail information from backend based on an authenticated user\n   * @returns {Observable<Role>}\n   */\n  getRoleDetail(): Observable<Role[]> {\n    return this.http.post<Role[]>(this.originalHost + `/api/function/getRoleDetail`, {}, httpOptions).pipe(\n      catchError(this.handleError<any>('getRoleDetail')));\n  }\n\n  /**\n   * Get an APP detail based on a routeLink\n   * @param {string} routeLink\n   * @returns {Observable<App>}\n   */\n  getApp(routeLink: string): Observable<App> {\n    if (routeLink.substr(0, 13) === '/external-app') {\n      return this.http.post<Entity>(this.originalHost + `/api/entity/instance`,\n        {RELATION_ID: 'app', APP_ID: routeLink.substr(14)}, httpOptions).pipe(\n        map(appEntity => {\n          const app: App = new App;\n          if (Array.isArray(appEntity)) { appEntity = appEntity[0]; } // Could return an array, like message or multiple entities\n          if (appEntity['ENTITY_ID']) { // It returns entity instance, rather than an error message;\n            app.name = appEntity['app'][0]['NAME'];\n            app.routeLink = routeLink;\n          }\n          return app;\n        }),\n        catchError(this.handleError<any>('getApp')));\n    } else {\n      return this.http.post<Entity>(this.originalHost + `/api/entity/instance`,\n        {RELATION_ID: 'app', ROUTE_LINK: routeLink}, httpOptions).pipe(\n        map(appEntity => {\n          const app: App = new App;\n          if (Array.isArray(appEntity)) { appEntity = appEntity[0]; }\n          if (appEntity['ENTITY_ID']) {\n            app.name = appEntity['app'][0]['NAME'];\n            app.routeLink = appEntity['app'][0]['ROUTE_LINK'];\n          }\n          return app;\n        }),\n        catchError(this.handleError<any>('getApp')));\n    }\n  }\n\n  /**\n   * Get an APP's routelink from its appID\n   * @param appID\n   */\n  getAppRouteLink(appID: string): Observable<string> {\n    return this.http.post<string>(this.originalHost + `/api/entity/instance`,\n      {RELATION_ID: 'app', APP_ID: appID}, httpOptions).pipe(\n      map(appEntity => {\n        if (Array.isArray(appEntity)) { appEntity = appEntity[0]; } // Could return an array, like message or multiple entities\n        if (appEntity['ENTITY_ID']) { // It returns entity instance, rather than an error message;\n          return appEntity['app'][0]['ROUTE_LINK'];\n        } else {\n          return 'appNotFound';\n        }\n      }),\n      catchError(this.handleError<any>('getAppRouteLink')));\n  }\n\n  /**\n   * Search Users by USER_ID and USER_NAME.\n   * Return a list with columns USER_ID, USER_NAME, DISPLAY_NAME, LOCK, and PWD_STATE\n   * Wildcard search is supported using '*' or '%'.\n   **/\n  searchUsers(userID: string, userName: string): Observable<UserList[] | Message[]> {\n    const queryObject = new QueryObject();\n    queryObject.ENTITY_ID = 'person';\n    queryObject.RELATION_ID = 'r_user';\n    queryObject.PROJECTION = ['USER_ID', 'USER_NAME', 'DISPLAY_NAME', 'LOCK', 'PWD_STATE'];\n    queryObject.FILTER = [];\n    if (userID) {\n      if (userID.includes('*') || userID.includes('%')) {\n        queryObject.FILTER.push({FIELD_NAME: 'USER_ID', OPERATOR: 'CN', LOW: userID});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'USER_ID', OPERATOR: 'EQ', LOW: userID});\n      }\n    }\n    if (userName) {\n      if (userName.includes('*')) {\n        userName = userName.replace(/\\*/gi, '%');\n        queryObject.FILTER.push({FIELD_NAME: 'USER_NAME', OPERATOR: 'CN', LOW: userName});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'USER_NAME', OPERATOR: 'EQ', LOW: userName});\n      }\n    }\n    queryObject.SORT = ['USER_ID'];\n    return this.http.post<any>(this.originalHost + `/api/query`, queryObject, httpOptions).pipe(\n      catchError(this.handleError<any>('searchObjects')));\n  }\n\n  /**\n   * Get detail information of a user from USER_ID\n   * Return information in Relations: r_user, r_employee, r_email, r_address, and r_personalization.\n   * The relationship to user role is also inquired with information in Relation: r_role\n   **/\n  getUserDetail(userID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_user', USER_ID: userID},\n      piece: {RELATIONS: ['r_user', 'r_employee', 'r_email', 'r_address', 'r_personalization'],\n              RELATIONSHIPS: [\n                {\n                  RELATIONSHIP_ID: 'rs_user_role',\n                  PARTNER_ENTITY_PIECES: { RELATIONS: ['r_role'] }\n                }]\n      }\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getUserDetail')));\n  }\n\n  /**\n   * Get user by User ID, only return information in Relations: r_user\n   * This service call is mainly used to check whether the given USER_ID already exists\n   **/\n  getUserByUserID(userID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_user', USER_ID: userID},\n      piece: {RELATIONS: ['r_user']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getUserByUserID')));\n  }\n\n  getUserByUserName(userName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_user', USER_NAME: userName},\n      piece: {RELATIONS: ['r_user']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getUserByUserName')));\n  }\n\n  getRoleDesc(roleID: string): Observable<{}> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_role', NAME: roleID},\n      piece: {RELATIONS: ['r_role']}\n    };\n    return this.http.post<{}>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n       map(instance => {\n         return 'INSTANCE_GUID' in instance ?\n         {\n           INSTANCE_GUID: instance['INSTANCE_GUID'],\n           DESCRIPTION: instance['r_role'] ? instance['r_role'][0]['DESCRIPTION'] : ''\n         } : instance[0];\n       }),\n       catchError(this.handleError<any>('getRoleDesc')));\n  }\n\n  /**\n   * Save an entity to DB\n   * A generic entity in JSON is given. If the JSON has attribute INSTANCE_GUID, it calls PUT, otherwise, POST\n   **/\n  saveUser(user: Entity): Observable<Entity | Message[]> {\n    if (user['INSTANCE_GUID']) {\n      return this.http.put<Entity | Message[]>(\n        this.originalHost + `/api/entity`, user, httpOptions).pipe(\n        catchError(this.handleError<any>('saveUser')));\n    } else {\n      return this.http.post<Entity | Message[]>(\n        this.originalHost + `/api/entity`, user, httpOptions).pipe(\n        catchError(this.handleError<any>('saveUser')));\n    }\n  }\n\n  /**\n   * Delete an entity from DB\n   * A GUID of entity instance is given. After the call, the instance will be deleted permanently\n   **/\n  deleteUser(userGUID: string): Observable<null | Message[]> {\n    return this.http.delete<null | Message[]>(this.originalHost + `/api/entity/instance/` + userGUID, httpOptions).pipe(\n      catchError(this.handleError<any>('deleteUser'))\n    );\n  }\n\n  private handleError<T> (operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n      if (error.status === 401) {\n        this.messageService.addMessage('EXCEPTION', 'NOT_AUTHENTICATED_OR_SESSION_EXPIRED', messageType.Exception);\n      } else {\n        this.messageService.addMessage('EXCEPTION', 'GENERIC', messageType.Exception, operation, error.message);\n      }\n\n      this.router.navigate(['errors']);\n      console.error(operation, error); // log to console instead\n\n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule  } from '@angular/router';\nimport {MockupComponent} from \"./mockup.component\";\n\nconst routes: Routes = [\n  {\n    path: 'mockup/:UI', component: MockupComponent\n  }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class MockupRoutingModule { }\n","import {Component, DoCheck, OnInit} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-mockup',\n  template: '<img [src]=\"mockupUI\" style=\"max-width: 100%\">',\n  styleUrls: ['./mockup.component.css']\n})\nexport class MockupComponent implements OnInit, DoCheck {\n\n  constructor(private route: ActivatedRoute) { }\n\n  mockupUI: String;\n\n  ngOnInit() { }\n\n  ngDoCheck() {\n    this.mockupUI = 'assets/' + this.route.snapshot.paramMap.get('UI') + '.png';\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {MockupComponent} from \"./mockup.component\";\nimport {MockupRoutingModule} from \"./mockup-routing.module\";\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MockupRoutingModule\n  ],\n  declarations: [\n    MockupComponent\n  ]\n})\nexport class MockupModule { }\n","export const msgStore = [\n  { msgCat: \"EXCEPTION\",\n    msgName: \"GENERIC\",\n    msgText: {\n      EN: {shortText: \"Exception Occurs in Operation: '%s'\",\n           longText: \"%s1\"}\n    }\n  },\n  { msgCat: \"EXCEPTION\",\n    msgName: \"NOT_AUTHENTICATED_OR_SESSION_EXPIRED\",\n    msgText: {\n      EN: {shortText: \"You are not authenticated or your session is expired!\",\n        longText: \"You are not authenticated or your session is expired, please <a href='/logon'>re-logon</a>.\"}\n    }\n  },\n  { msgCat: \"GENERAL\",\n    msgName: \"EMPTY_LIST\",\n    msgText: {\n      EN: {shortText: \"No result is found\",\n        longText: \"The system cannot find any items meet the search criteria.\"}\n    }\n  },\n  { msgCat: \"GENERAL\",\n    msgName: \"UNSAVED_CHANGES\",\n    msgText: {\n      EN: {\n        shortText: \"There are unsaved changes. Do you want to save the changes?\",\n        longText: \"\"\n      }\n    }\n  },\n  { msgCat: \"GENERAL\",\n    msgName: \"NO_CHANGE\",\n    msgText: {\n      EN: {\n        shortText: \"No change is made, saving is not necessary.\",\n        longText: \"The data is not changed, thus there is no need to save changes\"\n      }\n    }\n  },\n  { msgCat: \"USER\",\n    msgName: \"INVALID\",\n    msgText: {\n      EN: {shortText: \"Data is invalid, please check.\",\n        longText: \"The data still contains some errors, please make sure all mandatory fields are filled!\"}\n    }\n  },\n  { msgCat: \"USER\",\n    msgName: \"USER_NAME_EXISTS\",\n    msgText: {\n      EN: {shortText: \"User name: '%s' already exists!\",\n           longText: \"\"}\n    }\n  },\n  { msgCat: \"USER\",\n    msgName: \"USER_ID_EXISTS\",\n    msgText: {\n      EN: {shortText: \"User ID: '%s' already exists!\",\n        longText: \"\"}\n    }\n  },\n  { msgCat: \"USER\",\n    msgName: \"AT_LEAST_ONE_EMAIL\",\n    msgText: {\n      EN: {\n        shortText: \"At least one email needs to be maintained!\",\n        longText: \"\"\n      }\n    }\n  },\n  { msgCat: \"USER\",\n    msgName: \"USER_SAVED\",\n    msgText: {\n      EN: {\n        shortText: \"User '%s' is saved!\",\n        longText: \"\"\n      }\n    }\n  }\n];\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-not-found',\n  templateUrl: './not-found.component.html',\n  styleUrls: ['./not-found.component.css']\n})\nexport class NotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<h2>Page not found!</h2>\n","export class Role {\n  name: string;\n  categories: Catalog[]; // Containing Catalogs\n}\nexport class Catalog {\n  name: string;\n  icon: string;  // Catalog Icon using Font Awesome, like: \"fas fa-search\"\n  routeLink?: string; // routeLink in Angular navigation and route system\n  top?: number; // hover submenu position to the page top\n  height?: number; // hover submenu height dynamically calculated based on the page height\n  originalHeight?: number; // the original hover submenu height based on the number of APPs contained\n  arrowTop?: number; // arrow position to the page top\n  active?: boolean; // Indicates current catalog is in active status, that is one of the APPs contained is in shown.\n  isSubMenuShow?: boolean; // Indicates the submenu is in shown (hovered)\n  apps?: App[]; // Containing APPs\n}\nexport class App {\n  name: string;\n  appID: string;\n  routeLink: string; // RouteLink in Angular navigation and route system\n  isExternal: boolean; // Whether it is an external app or internal app\n  originalRouteLink?: string; // original route link for external apps\n  active?: boolean; // Indicates current APP is in active status, that is the APP is in shown.\n}\nexport class UserBasicInfo {\n  userID: string;\n  userName?: string;\n  displayName?: string;\n  email?: string;\n}\n","import { Injectable } from '@angular/core';\nimport {Subject} from \"rxjs\";\nimport {App} from \"./role\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShareService {\n  apps: App[] = [];\n  isCollapsed = false;\n  private isCollapsedSubject = new Subject<boolean>();\n  isCollapsed$ = this.isCollapsedSubject.asObservable();\n\n  updateIsCollapsed(status: boolean): void {\n    this.isCollapsed = status;\n    this.isCollapsedSubject.next(this.isCollapsed);\n  }\n\n}\n","import {Component, ElementRef, HostListener, OnInit, ViewChild} from '@angular/core';\nimport { Role, App } from '../role';\nimport { debounceTime, distinctUntilChanged, switchMap} from 'rxjs/operators';\nimport {Router} from \"@angular/router\";\nimport {Subject} from \"rxjs/internal/Subject\";\nimport {Observable} from \"rxjs/internal/Observable\";\nimport * as fuzzySort from \"fuzzysort\";\nimport {of} from \"rxjs\";\nimport {IdentityService} from \"../identity.service\";\nimport {MessageService} from \"ui-message-angular\";\nimport {ShareService} from \"../share.service\";\n\n@Component({\n  selector: 'app-side-menu',\n  templateUrl: './side-menu.component.html',\n  styleUrls: ['./side-menu.component.css']\n})\nexport class SideMenuComponent implements OnInit {\n  private activeRow = null;\n  private mouseLocs = [];\n  private lastDelayLoc = null;\n  private timeoutId = null;\n  private rem = 0;\n  private searchTerms = new Subject<string>();\n  private menuDisplay = true;\n  private readonly TOLERANCE = 75;  // bigger = more forgive when entering submenu\n  private readonly DELAY = 600;  // ms delay when user appears to be entering submenu\n\n  isCollapsed = false;\n  role: Role = new Role;\n  apps$: Observable<App[]>;\n  searchedApps: App[];\n\n  @ViewChild('sideMenu', { static: true })\n  sideMenu: ElementRef;\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private shareService: ShareService,\n              private router: Router\n              ) {}\n\n  ngOnInit() {\n    this.rem = parseInt(window.getComputedStyle(document.head).getPropertyValue('font-size'), 10);\n    this.identityService.getRoleDetail().subscribe(roles => this._processRoleData(roles));\n    this.shareService.updateIsCollapsed(this.isCollapsed);\n    this.apps$ = this.searchTerms.pipe (\n      debounceTime(300),\n      distinctUntilChanged(),\n      switchMap((term: string) => {\n        const results = fuzzySort.go(term, this.shareService.apps, {key: 'name'});\n        const returnedApps = [];\n        results.forEach(result => returnedApps.push(result.obj));\n        return of(returnedApps as App[]);\n      })\n    );\n    this.apps$.subscribe(searchedApps => this.searchedApps = searchedApps );\n  }\n\n  _processRoleData(roles): void {\n    if (!roles) {return; }\n\n    this.role = roles[0]; // Currently, only support one role per user logon\n    if (this.role['msgCat']) {\n      this.messageService.clearMessages();\n      roles.forEach( msg => this.messageService.add(msg));\n      this.router.navigate(['errors']);\n    } else {\n      this.role.categories.forEach(category => {\n        category.height = category.originalHeight = (category.apps.length + 1) * 3 + 2;\n        category.active = false;\n        category.isSubMenuShow = false;\n        category.apps.forEach( app => {\n          if (app.isExternal) {\n            app.originalRouteLink = app.routeLink;\n            app.routeLink = '/external-app/' + app.appID;\n          }\n          app.active = false;\n          this.shareService.apps.push(app);\n        });\n        if (category.apps.length === 1) {\n          category.routeLink = category.apps[0].routeLink;\n          category.apps = [];\n        }\n      });\n    }\n  }\n\n  searchApp(term: string): void {\n    this.searchTerms.next(term);\n    this.menuDisplay = !term;\n  }\n\n  enterApp($event): void {\n    if ($event.keyCode === 13 && this.searchedApps[0]) {\n      this.router.navigate([this.searchedApps[0].routeLink]);\n    }\n  }\n\n  collapse(): boolean {\n    for (const category of this.role.categories) {\n      category.isSubMenuShow = false;\n    }\n    this.menuDisplay = true;\n    this.isCollapsed = !this.isCollapsed;\n    this.shareService.updateIsCollapsed(this.isCollapsed);\n    return this.isCollapsed;\n  }\n\n  activateSubMenu(row): void {\n    const menuHeight = this.sideMenu.nativeElement.offsetHeight / this.rem;\n    const menuScrollTop = this.sideMenu.nativeElement.getElementsByClassName('dk-menu-list')[0].scrollTop / this.rem;\n    if (menuHeight + 1 - 4 * row + menuScrollTop <= this.role.categories[row].originalHeight) {\n      this.role.categories[row].top = null;\n      if ( menuHeight + 3 <= this.role.categories[row].originalHeight) {\n        this.role.categories[row].height = menuHeight + 3;\n      } else {\n        this.role.categories[row].height = this.role.categories[row].originalHeight;\n      }\n    } else {\n      this.role.categories[row].top = 5 + 4 * row - menuScrollTop;\n    }\n    this.role.categories[row].arrowTop = 6 + 4 * row - menuScrollTop;\n    this.role.categories[row].isSubMenuShow = true;\n  }\n\n  deactivateSubMenu(row): void {\n    this.role.categories[row].isSubMenuShow = false;\n  }\n\n  /**\n   * Keep track of the last few locations of the mouse.\n   */\n  @HostListener('document:mousemove', ['$event', 'mouseLocs'])\n  mousemoveDocument(e, mouseLocs): void {\n    mouseLocs.push({x: e.pageX, y: e.pageY});\n\n    if (mouseLocs.length > 3) { // '30' of the past mouse locations to track\n      mouseLocs.shift();\n    }\n  }\n\n  /**\n   * Cancel possible row activations when leaving the menu entirely\n   */\n  mouseleaveMenu(): void {\n    if (this.timeoutId) {\n      clearTimeout(this.timeoutId);\n    }\n\n    // If exitMenu is supplied and returns true, deactivate the\n    // currently active row on menu exit.\n    if (this.activeRow && !this.isMouseInMenuArea()) {\n      this.deactivateSubMenu(this.activeRow);\n    }\n\n    this.activeRow = null;\n  }\n\n  /**\n   * Check if the mouse is in the area of main menu and sub-menu.\n   */\n  isMouseInMenuArea(): boolean {\n    if (!this.activeRow) { return false; }\n\n    const menu = this.sideMenu.nativeElement;\n    const offset = {\n      left: menu.offsetLeft,\n      top: menu.offsetTop\n    };\n    const upperLeft = {\n      x: offset.left + menu.offsetWidth,\n      y: this.role.categories[this.activeRow].top * this.rem\n    };\n    const upperRight = {\n      x: upperLeft.x + this.rem,\n      y: upperLeft.y\n    };\n    const lowerLeft = {\n      x: offset.left + menu.offsetWidth,\n      y: upperLeft.y + this.role.categories[this.activeRow].height * this.rem\n    };\n    const lowerRight = {\n      x: lowerLeft.x + this.rem,\n      y: lowerLeft.y\n    };\n    const loc = this.mouseLocs[this.mouseLocs.length - 1];\n    return (loc && ((loc.x <= upperRight.x && loc.y <= lowerRight.y && loc.y >= upperRight.y)\n      || (loc.x <= upperLeft.x && loc.y >= offset.top && loc.y <= offset.top + menu.offsetHeight)));\n  }\n\n  /**\n   * Trigger a possible row activation whenever entering a new row.\n   */\n  mouseenterRow(row): void {\n    if (this.timeoutId) {\n      // Cancel any previous activation delays\n      clearTimeout(this.timeoutId);\n    }\n    this.possiblyActivate(row);\n  }\n\n  /**\n   * Trigger a row deactivation whenever leaving a row.\n   */\n  mouseleaveRow(row): void {\n    if (!this.isMouseInMenuArea()) {\n      this.deactivateSubMenu(row);\n    }\n  }\n\n  /**\n   * Set the current opened app to be active\n   * @param {App} app\n   */\n  activateApp(app: App) {\n    // Clear the existing active app\n    let appIdx = -1;\n    let catalogIdx = this.role.categories.findIndex(category => category.active === true );\n    if (catalogIdx > -1 ) {\n      this.role.categories[catalogIdx].active = false;\n      if (!this.role.categories[catalogIdx].routeLink) {\n        appIdx = this.role.categories[catalogIdx].apps.findIndex(app1 => app1.active === true );\n        if (appIdx > -1) {\n          this.role.categories[catalogIdx].apps[appIdx].active = false;\n        }\n      }\n    }\n    // Set the new active app\n    catalogIdx = this.role.categories.findIndex(category => {\n      if ( category.routeLink === app.routeLink ) {\n        return true;\n      } else {\n        appIdx = category.apps.findIndex( app1 => app1.routeLink === app.routeLink);\n        return appIdx > -1;\n      }});\n    if (catalogIdx > -1) {\n      this.role.categories[catalogIdx].active = true;\n      if (appIdx > -1) {\n        this.role.categories[catalogIdx].apps[appIdx].active = true;\n      }\n    }\n  }\n\n  /**\n   * Immediately activate a row if the user clicks on it.\n   */\n  clickRow(row): void {\n    if (this.isCollapsed) {\n      this.activate(row);\n    } else {\n      this.role.categories[row].isSubMenuShow = !this.role.categories[row].isSubMenuShow;\n    }\n  }\n\n  /**\n   * Hide the sub-menu\n   */\n  hideSubMenu(): void {\n    this.role.categories[this.activeRow].isSubMenuShow = false;\n  }\n\n  /**\n   * Activate a menu row.\n   */\n  activate(row): void {\n    if (row === this.activeRow) {\n      return;\n    }\n\n    if (this.activeRow) {\n      this.deactivateSubMenu(this.activeRow);\n    }\n\n    this.activateSubMenu(row);\n    this.activeRow = row;\n  }\n\n  /**\n   * Possibly activate a menu row. If mouse movement indicates that we\n   * shouldn't activate yet because user may be trying to enter\n   * a submenu's content, then delay and check again later.\n   */\n  possiblyActivate(row): void {\n    const delay = this.activationDelay();\n\n    if (delay) {\n      this.timeoutId = setTimeout(() => this.possiblyActivate(row), delay);\n    } else {\n      this.activate(row);\n    }\n  }\n\n  /**\n   * Return the amount of time that should be used as a delay before the\n   * currently hovered row is activated.\n   *\n   * Returns 0 if the activation should happen immediately. Otherwise,\n   * returns the number of milliseconds that should be delayed before\n   * checking again to see if the row should be activated.\n   */\n  activationDelay(): number {\n\n    if (!this.activeRow) {\n      // If there is no other submenu row already active, then\n      // go ahead and activate immediately.\n      return 0;\n    }\n\n    const menu = this.sideMenu.nativeElement;\n    const rem = parseInt(window.getComputedStyle(document.head).getPropertyValue('font-size'), 10);\n    const offset = {\n      left: menu.offsetLeft,\n      top: menu.offsetTop\n    };\n    const upperLeft = {\n      x: offset.left,\n      y: this.role.categories[this.activeRow].top * rem + this.TOLERANCE\n    };\n    const upperRight = {\n      x: offset.left + menu.offsetWidth + rem,\n      y: upperLeft.y\n    };\n    const lowerLeft = {\n      x: offset.left,\n      y: upperLeft.y + this.role.categories[this.activeRow].height * rem\n    };\n    const lowerRight = {\n      x: offset.left + menu.offsetWidth + rem,\n      y: lowerLeft.y\n    };\n    const loc = this.mouseLocs[this.mouseLocs.length - 1];\n\n    let prevLoc = this.mouseLocs[0];\n\n    if (!loc) {\n      return 0;\n    }\n\n    if (!prevLoc) {\n      prevLoc = loc;\n    }\n\n    if (prevLoc.x < offset.left || prevLoc.x > lowerRight.x ||\n      prevLoc.y < offset.top || prevLoc.y > lowerRight.y) {\n      // If the previous mouse location was outside of the entire\n      // menu's bounds, immediately activate.\n      return 0;\n    }\n\n    if (this.lastDelayLoc &&\n      loc.x === this.lastDelayLoc.x && loc.y === this.lastDelayLoc.y) {\n      // If the mouse hasn't moved since the last time we checked\n      // for activation status, immediately activate.\n      return 0;\n    }\n\n    // Detect if the user is moving towards the currently activated\n    // submenu.\n    function slope(a, b) {\n      return (b.y - a.y) / (b.x - a.x);\n    }\n\n    const decreasingCorner = upperRight,\n      increasingCorner = lowerRight;\n\n    const decreasingSlope = slope(loc, decreasingCorner),\n      increasingSlope = slope(loc, increasingCorner),\n      prevDecreasingSlope = slope(prevLoc, decreasingCorner),\n      prevIncreasingSlope = slope(prevLoc, increasingCorner);\n\n    if (decreasingSlope < prevDecreasingSlope &&\n      increasingSlope > prevIncreasingSlope) {\n      // Mouse is moving from previous location towards the\n      // currently activated submenu. Delay before activating a\n      // new menu row, because user may be moving into submenu.\n      this.lastDelayLoc = loc;\n      return this.DELAY;\n    }\n\n    this.lastDelayLoc = null;\n    return 0;\n  }\n}\n","<div #sideMenu class=\"dk-side-menu\" [class.dk-side-menu-collapsed]=\"isCollapsed\" (mouseleave)=\"mouseleaveMenu()\" >\n  <div class=\"dk-menu-list\">\n    <!-- side menu in expended mode -->\n    <ul *ngIf=\"!isCollapsed\" class=\"dk-menu-content\">\n      <li *ngFor=\"let category of role.categories; index as i;\"\n          [ngClass]=\"{'active':category.active,\n                      'collapsed':!category.isSubMenuShow,\n                      'dk-menu-search': category.routeLink === '/appSearch',\n                      'menuDisplay': category.routeLink === '/appSearch' || menuDisplay}\">\n        <span *ngIf=\"category.routeLink === '/appSearch'\" [ngClass]=\"category.icon\" aria-hidden=\"true\"></span>\n        <input *ngIf=\"category.routeLink === '/appSearch'\" #searchBox class=\"dk-search-box\" placeholder=\"Search\"\n               (keyup)=\"searchApp(searchBox.value)\" (keypress)=\"enterApp($event)\"/>\n        <ul *ngIf=\"category.routeLink === '/appSearch'\" class=\"dk-sub-menu\">\n          <li *ngFor=\"let app of apps$ | async\" >\n            <a routerLink=\"{{app.routeLink}}\">{{app.name}}</a>\n          </li>\n        </ul>\n\n        <a *ngIf=\"category.routeLink && category.routeLink !== '/appSearch'\" routerLink=\"{{category.routeLink}}\">\n          <span [ngClass]=\"category.icon\" aria-hidden=\"true\"></span> {{category.name}}\n        </a>\n        <a *ngIf=\"!category.routeLink\" (click)=\"clickRow(i)\">\n          <span [ngClass]=\"category.icon\" aria-hidden=\"true\"></span> {{category.name}}\n          <span *ngIf=\"category.apps && category.apps.length > 0\" class=\"fas arrow\"\n                [ngClass]=\"{'fa-angle-right': !category.isSubMenuShow, 'fa-angle-down': category.isSubMenuShow}\">\n          </span>\n        </a>\n        <ul *ngIf=\"!category.routeLink\" class=\"dk-sub-menu\"\n            [ngClass]=\"{'expended':category.isSubMenuShow, 'collapsed':!category.isSubMenuShow}\">\n          <li *ngFor=\"let app of category.apps\" [ngClass]=\"{'active':app.active}\">\n            <a routerLink=\"{{app.routeLink}}\">{{app.name}}</a>\n          </li>\n        </ul>\n      </li>\n    </ul>\n    <!-- side menu in collapsed mode -->\n    <ul *ngIf=\"isCollapsed\" class=\"dk-menu-content\">\n      <li *ngFor=\"let category of role.categories; index as i\" class=\"menuDisplay\" [ngClass]=\"{'active':category.active}\"\n          (mouseenter)=\"mouseenterRow(i)\" (mouseleave)=\"mouseleaveRow(i)\" (click)=\"clickRow(i)\">\n        <a *ngIf=\"category.routeLink === '/appSearch'\">\n          <span [ngClass]=\"category.icon\" aria-hidden=\"true\"></span>\n        </a>\n        <div *ngIf=\"category.routeLink === '/appSearch'\"\n             class=\"dk-side-menu dk-side-menu-hover dk-menu-search-hover\"\n             [ngClass]=\"{'dk-side-menu-hover-show':category.isSubMenuShow}\"\n             [style.top.rem]=\"category.top\">\n          <ul class=\"dk-menu-content-hover\">\n            <li><input #searchBox class=\"dk-search-box\" placeholder=\"Search\" class=\"dk-search-box\"\n                       (keyup)=\"searchApp(searchBox.value)\" (keypress)=\"enterApp($event)\"/></li>\n            <ul class=\"dk-sub-menu dk-sub-menu-collapsed\">\n              <li *ngFor=\"let app of apps$ | async\" >\n                <a routerLink=\"{{app.routeLink}}\" (click)=\"hideSubMenu()\">{{app.name}}</a>\n              </li>\n            </ul>\n          </ul>\n        </div>\n        <span *ngIf=\"category.routeLink === '/appSearch'\"\n              class=\"dk-popover-arrow\" [ngClass]=\"{'dk-popover-arrow-show':category.isSubMenuShow}\"\n              [style.top.rem]=\"category.arrowTop\"></span>\n\n        <a *ngIf=\"category.routeLink !== '/appSearch' && category.apps.length === 0\" routerLink=\"{{category.routeLink}}\">\n          <span [ngClass]=\"category.icon\" aria-hidden=\"true\"></span>\n        </a>\n        <a *ngIf=\"category.routeLink !== '/appSearch' && category.apps.length > 0\">\n          <span [ngClass]=\"category.icon\" aria-hidden=\"true\"></span>\n        </a>\n\n        <div *ngIf=\"category.routeLink !== '/appSearch' && category.apps.length > 0\"\n             class=\"dk-side-menu dk-side-menu-hover\"\n             [style.top.rem]=\"category.top\"\n             [style.height.rem]=\"category.height\"\n             [ngClass]=\"{'dk-side-menu-hover-show':category.isSubMenuShow}\">\n          <ul class=\"dk-menu-content-hover\">\n            <li><a>{{category.name}}</a></li>\n            <ul class=\"dk-sub-menu dk-sub-menu-collapsed\">\n              <li *ngFor=\"let app of category.apps\" [ngClass]=\"{'active':app.active}\">\n                <a routerLink=\"{{app.routeLink}}\" (click)=\"hideSubMenu()\">{{app.name}}</a>\n              </li>\n            </ul>\n          </ul>\n        </div>\n        <span *ngIf=\"category.routeLink !== '/appSearch' && category.apps.length > 0\"\n              class=\"dk-popover-arrow\" [ngClass]=\"{'dk-popover-arrow-show':category.isSubMenuShow}\"\n              [style.top.rem]=\"category.arrowTop\"></span>\n      </li>\n    </ul>\n  </div>\n\n  <div class=\"dk-separator\"></div>\n\n  <div class=\"dk-menu-bottom\">\n    <ul *ngIf=\"!isCollapsed\" class=\"dk-menu-content\">\n      <li >\n        <a href=\"#\">\n          <span class=\"fas fa-question-circle\" aria-hidden=\"true\"></span> Useful Links\n        </a>\n      </li>\n      <li>\n        <a href=\"#\">\n          <span class=\"fas fa-balance-scale\" aria-hidden=\"true\"></span> Legal Information\n        </a>\n      </li>\n    </ul>\n    <ul *ngIf=\"isCollapsed\" class=\"dk-menu-content\">\n      <li (mouseenter)=\"mouseenterRow(0)\" (mouseleave)=\"mouseleaveRow(0)\" (click)=\"clickRow(0)\" >\n        <a href=\"#\">\n          <span class=\"fas fa-question-circle\" aria-hidden=\"true\"></span>\n        </a>\n      </li>\n      <li (mouseenter)=\"mouseenterRow(0)\" (mouseleave)=\"mouseleaveRow(0)\" (click)=\"clickRow(0)\">\n        <a href=\"#\">\n          <span class=\"fas fa-balance-scale\" aria-hidden=\"true\"></span>\n        </a>\n      </li>\n    </ul>\n  </div>\n\n</div>\n\n","import {IdentityService} from \"../../identity.service\";\nimport {AbstractControl, AsyncValidatorFn, ValidationErrors} from \"@angular/forms\";\nimport {Observable, timer} from \"rxjs\";\nimport {map, switchMap} from \"rxjs/operators\";\nimport {MessageService} from \"ui-message-angular\";\n\nexport function existingUserNameValidator(identityService: IdentityService,\n                                          messageService: MessageService,\n                                          userID: string): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getUserByUserName(control.value).pipe(\n        map(data => {\n          if (data['r_user'] && data['r_user'][0]['USER_ID'] !== userID) {\n            return {message: messageService.generateMessage('USER', 'USER_NAME_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n\nexport function existingUserIDValidator(identityService: IdentityService,\n                                          messageService: MessageService): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getUserByUserID(control.value).pipe(\n        map(data => {\n          if (data['r_user'] && data['r_user'][0]['USER_ID'] === control.value) {\n            return {message: messageService.generateMessage('USER', 'USER_ID_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormArray, FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {AttributeBase, AttributeControlService, RelationMeta} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-address',\n  templateUrl: './user-address.component.html',\n  styleUrls: ['./user-address.component.css']\n})\nexport class UserAddressComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  userAddressFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.userAddressFormArray = this.userForm.get('addresses') as FormArray;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_address').ATTRIBUTES);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  addAddress() {\n    const addressFormGroup = this.fb.group({\n      ADDRESS_ID: [''],\n      TYPE: ['', [Validators.required]],\n      ADDRESS_VALUE: ['', [Validators.required]],\n      POSTCODE: [''],\n      CITY: [''],\n      COUNTRY: [''],\n      PRIMARY: []\n    });\n    if (this.userAddressFormArray.length === 0) {\n      addressFormGroup.get('PRIMARY').setValue(1);\n      addressFormGroup.get('PRIMARY').markAsDirty();\n    }\n    this.userAddressFormArray.push(addressFormGroup);\n  }\n\n  deleteAddress(index: number) {\n    if (this.userAddressFormArray.length > 1 &&\n        this.userAddressFormArray.at(index).value['PRIMARY']) {\n      const newPrimaryIndex = index === 0 ? 1 : 0;\n      this.userAddressFormArray.at(newPrimaryIndex).get('PRIMARY').setValue(1);\n      this.userAddressFormArray.at(newPrimaryIndex).get('PRIMARY').markAsDirty();\n    }\n    this.userAddressFormArray.removeAt(index);\n    this.userAddressFormArray.markAsDirty();\n  }\n}\n","<div class=\"card mt-4\">\n  <div class=\"card-body\">\n    <div *ngFor=\"let userAddressForm of userAddressFormArray.controls; let i = index\" class=\"card mb-4\">\n      <button type=\"button\" id=\"remove\" class=\"dk-close-button close d-flex justify-content-end mr-2\" aria-label=\"Close\"\n              (click)=\"deleteAddress(i)\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <div class=\"card-body row\" [formGroup]=\"userAddressForm\">\n        <dk-app-attribute-form2 class=\"col-3 dk-form-label\"\n                                [attributeControl]=\"getAttrCtrlFromID('TYPE')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\">\n        </dk-app-attribute-form2>\n        <dk-app-attribute-form2 class=\"col-6 dk-form-label\"\n                                [attributeControl]=\"getAttrCtrlFromID('ADDRESS_VALUE')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\">\n        </dk-app-attribute-form2>\n        <div class=\"col-1 row form-group mr-2\">\n          <label for=\"primaryAddress\" class=\"col-form-label dk-form-label\">Primary</label>\n          <input type=\"radio\" class=\"form-control\" id=\"primaryAddress\" [value]=\"1\" name=\"PRIMARY\" formControlName=\"PRIMARY\">\n        </div>\n        <dk-app-attribute-form2 class=\"col-md-3 dk-form-label\"\n                                [attributeControl]=\"getAttrCtrlFromID('POSTCODE')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\">\n        </dk-app-attribute-form2>\n        <dk-app-attribute-form2 class=\"col-md-3 dk-form-label\"\n                                [attributeControl]=\"getAttrCtrlFromID('CITY')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\">\n        </dk-app-attribute-form2>\n        <dk-app-attribute-form2 class=\"col-md-3 dk-form-label\"\n                                [attributeControl]=\"getAttrCtrlFromID('COUNTRY')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\">\n        </dk-app-attribute-form2>\n      </div>\n    </div>\n    <button type=\"button\" id=\"add\" class=\"btn btn-primary float-right\" [disabled]=\"readonly\" (click)=\"addAddress()\">Add</button>\n  </div>\n</div>\n","import {Component, Input, OnInit } from '@angular/core';\nimport {FormGroup} from \"@angular/forms\";\nimport {AttributeBase, AttributeControlService, RelationMeta} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-basic',\n  templateUrl: './user-basic.component.html',\n  styleUrls: ['./user-basic.component.css']\n})\nexport class UserBasicComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  userBasicNamesForm: FormGroup;\n  userBasicEmployeeForm: FormGroup;\n\n  constructor(private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.userBasicNamesForm = this.userForm.get('userBasic.names') as FormGroup;\n    this.userBasicEmployeeForm = this.userForm.get('userBasic.employee') as FormGroup;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_employee').ATTRIBUTES);\n    this.attrCtrls = this.attrCtrls.concat(this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_user').ATTRIBUTES));\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n}\n","<div class=\"card mt-4\">\n  <div class=\"card-header\">Name</div>\n  <div class=\"card-body\">\n    <form class=\"mt-2 row\">\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                              [attributeControl]=\"getAttrCtrlFromID('USER_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                              [attributeControl]=\"getAttrCtrlFromID('DISPLAY_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\">\n      </dk-app-attribute-form2>\n      <div class=\"col-md-4\"></div>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                              [attributeControl]=\"getAttrCtrlFromID('GIVEN_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                              [attributeControl]=\"getAttrCtrlFromID('MIDDLE_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                              [attributeControl]=\"getAttrCtrlFromID('FAMILY_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\">\n      </dk-app-attribute-form2>\n    </form>\n  </div>\n</div>\n\n<div class=\"card mt-4\">\n  <div class=\"card-header\">Employee</div>\n  <div class=\"card-body\">\n    <form class=\"mt-2 row\">\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                              [attributeControl]=\"getAttrCtrlFromID('COMPANY_ID')\"\n                              [formGroup]=\"userBasicEmployeeForm\"\n                              [readonly]=\"readonly\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                              [attributeControl]=\"getAttrCtrlFromID('DEPARTMENT_ID')\"\n                              [formGroup]=\"userBasicEmployeeForm\"\n                              [readonly]=\"readonly\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                              [attributeControl]=\"getAttrCtrlFromID('TITLE')\"\n                              [formGroup]=\"userBasicEmployeeForm\"\n                              [readonly]=\"readonly\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                              [attributeControl]=\"getAttrCtrlFromID('GENDER')\"\n                              [formGroup]=\"userBasicEmployeeForm\"\n                              [readonly]=\"readonly\">\n      </dk-app-attribute-form2>\n    </form>\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {FormArray, FormBuilder, FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {ActivatedRoute, ParamMap, Router} from \"@angular/router\";\nimport {Message, MessageService} from \"ui-message-angular\";\nimport {switchMap} from \"rxjs/operators\";\nimport {IdentityService} from \"../../identity.service\";\nimport {forkJoin, Observable, of} from \"rxjs\";\nimport {\n  AttributeBase,\n  AttributeControlService,\n  Entity,\n  EntityService,\n  RelationMeta,\n  UiMapperService\n} from \"jor-angular\";\nimport {existingUserIDValidator, existingUserNameValidator} from \"./async-validators\";\nimport {DialogService} from \"../../dialog.service\";\n\n@Component({\n  selector: 'app-user-detail',\n  templateUrl: './user-detail.component.html',\n  styleUrls: ['./user-detail.component.css']\n})\nexport class UserDetailComponent implements OnInit {\n  userForm: FormGroup;\n  relationMetas: RelationMeta[];\n  attrCtrls: AttributeBase[];\n  readonly = true;\n  isNewMode = false;\n  action: string;\n  instanceGUID: string;\n  originalUserValue = {};\n  changedUser = {};\n  tabStrip = 1;\n\n  get pwdStatus(): string {\n    switch (this.userForm.get('PWD_STATUS').value) {\n      case '':\n        return 'Initial';\n      case 1:\n        return 'Active';\n      case 3:\n        return 'Need Change';\n      default:\n        return 'Initial';\n    }\n  }\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private dialogService: DialogService,\n              private identityService: IdentityService,\n              private attributeControlService: AttributeControlService,\n              private entityService: EntityService,\n              private uiMapperService: UiMapperService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.action = params.get('action');\n        if (this.action === 'new') {\n          this.isNewMode = true;\n          return forkJoin(\n            [this.entityService.getRelationMetaOfEntity('person'), this._createNewUser()]);\n        } else {\n          this.isNewMode = false;\n          return forkJoin(\n            [this.entityService.getRelationMetaOfEntity('person'),\n            this.identityService.getUserDetail(params.get('userID'))]);\n        }\n      })\n    ).subscribe( data => {\n      this.relationMetas = data[0] as RelationMeta[];\n      this.attrCtrls = this.attributeControlService.toAttributeControl(\n        this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_user').ATTRIBUTES);\n      if ('ENTITY_ID' in data[1]) {\n        this.instanceGUID = data[1]['INSTANCE_GUID'];\n        this._generateUserForm(<Entity>data[1]);\n        if (this.isNewMode || this.action === 'change') {\n          this._switch2EditMode();\n        } else {\n          this._switch2DisplayMode();\n        }\n      } else {\n        const errorMessages = <Message[]>data[1];\n        errorMessages.forEach( msg => this.messageService.add(msg));\n      }\n    });\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  switchEditDisplay(): void {\n    if (this.readonly ) {\n      this._switch2EditMode();\n    } else {\n      if (this.userForm.dirty) {\n        this.dialogService.confirm('Discard changes?').subscribe(confirm => {\n          if (confirm) {\n            this.userForm.reset(this.originalUserValue);\n            this._switch2DisplayMode();\n          }\n        });\n      } else {\n        this._switch2DisplayMode();\n      }\n    }\n    this.messageService.clearMessages();\n  }\n\n  _switch2DisplayMode(): void {\n    this.readonly = true;\n    this._setCheckBoxState();\n\n    const userIDCtrl = this.userForm.get('USER_ID') as FormControl;\n    userIDCtrl.clearAsyncValidators();\n    const userNameCtrl = this.userForm.get('userBasic.names.USER_NAME') as FormControl;\n    userNameCtrl.clearAsyncValidators();\n\n    const emailArray = this.userForm.get('emails') as FormArray;\n    let lastIndex = emailArray.length - 1;\n    while (lastIndex >= 0) {\n      const emailFormGroup = emailArray.at(lastIndex);\n      if (emailFormGroup.invalid || !emailFormGroup.value.EMAIL) {\n        emailArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    const addressArray = this.userForm.get('addresses') as FormArray;\n    lastIndex = addressArray.length - 1;\n    while (lastIndex >= 0) {\n      const addressFormGroup = addressArray.at(lastIndex);\n      if (addressFormGroup.invalid || !addressFormGroup.value.ADDRESS_VALUE) {\n        addressArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    const roleArray = this.userForm.get('userRole') as FormArray;\n    lastIndex = roleArray.length - 1;\n    while (lastIndex >= 0) {\n      const roleFormGroup = roleArray.at(lastIndex);\n      if (roleFormGroup.invalid || !roleFormGroup.value.NAME) {\n        roleArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    this.userForm.markAsPristine();\n    // Replace the URL from change to display\n    window.history.replaceState({}, '', `/users/${userIDCtrl.value};action=display`);\n  }\n\n  _switch2EditMode(): void {\n    this.readonly = false;\n    this._setCheckBoxState();\n\n    const userIDCtrl = this.userForm.get('USER_ID') as FormControl;\n    if (this.isNewMode) {\n      userIDCtrl.setAsyncValidators(\n        existingUserIDValidator(this.identityService, this.messageService));\n    }\n\n    const userNameCtrl = this.userForm.get('userBasic.names.USER_NAME') as FormControl;\n    userNameCtrl.setAsyncValidators(\n      existingUserNameValidator(this.identityService, this.messageService, this.userForm.get('USER_ID').value));\n\n    const roleArray = this.userForm.get('userRole') as FormArray;\n    roleArray.push( this.fb.group({\n      NAME: [''],\n      DESCRIPTION: [''],\n      system_role_INSTANCE_GUID: [''],\n      RELATIONSHIP_INSTANCE_GUID: [''],\n    }));\n\n    // Replace the URL from to display\n    if (this.action === 'display') {this.action = 'change'; }\n    window.history.replaceState({}, '', `/users/${userIDCtrl.value};action=` + this.action);\n  }\n\n  _createNewUser(): Observable<Entity> {\n    const userDetail = new Entity();\n    userDetail['ENTITY_ID'] = 'person';\n    userDetail['r_user'] = [\n      { USER_ID: '', LOCK: 0, PWD_STATUS: '', USER_NAME: '', DISPLAY_NAME: '',\n        GIVEN_NAME: '', MIDDLE_NAME: '', FAMILY_NAME: ''}\n    ];\n    userDetail['r_employee'] = [\n      {TITLE: '', DEPARTMENT_ID: '', COMPANY_ID: '', GENDER: ''}\n    ];\n    userDetail['r_email'] = [];\n    userDetail['r_personalization'] = [\n      {USER_ID: '', LANGUAGE: '', TIMEZONE: '', DECIMAL_FORMAT: '', DATE_FORMAT: ''}\n    ];\n    userDetail['relationships'] = [];\n    return of(userDetail);\n  }\n\n  _generateUserForm(data: Entity): void {\n    this.userForm = this.fb.group({\n      USER_ID: [data['r_user'][0]['USER_ID'], [Validators.required]],\n      LOCK: [data['r_user'][0]['LOCK']],\n      PWD_STATUS: [data['r_user'][0]['PWD_STATUS']],\n      userBasic: this.fb.group({\n        names: this.fb.group({\n          USER_NAME: [data['r_user'][0]['USER_NAME'], [Validators.required]],\n          DISPLAY_NAME: [data['r_user'][0]['DISPLAY_NAME'], [Validators.required]],\n          GIVEN_NAME: [data['r_user'][0]['GIVEN_NAME']],\n          MIDDLE_NAME: [data['r_user'][0]['MIDDLE_NAME']],\n          FAMILY_NAME: [data['r_user'][0]['FAMILY_NAME']]\n        }),\n        employee: this.fb.group({\n          TITLE: [data['r_employee'][0]['TITLE']],\n          DEPARTMENT_ID: [data['r_employee'][0]['DEPARTMENT_ID']],\n          COMPANY_ID: [data['r_employee'][0]['COMPANY_ID'], [Validators.required]],\n          GENDER: [data['r_employee'][0]['GENDER']]\n        })\n      }),\n      emails:  this.fb.array([]),\n      addresses: this.fb.array([]),\n      userPersonalization: this.fb.group({\n        USER_ID: [data['r_personalization'] ? data['r_personalization'][0]['USER_ID'] : ''],\n        LANGUAGE: [data['r_personalization'] ? data['r_personalization'][0]['LANGUAGE'] : ''],\n        TIMEZONE: [data['r_personalization'] ? data['r_personalization'][0]['TIMEZONE'] : ''],\n        DECIMAL_FORMAT: [data['r_personalization'] ? data['r_personalization'][0]['DECIMAL_FORMAT'] : ''],\n        DATE_FORMAT: [data['r_personalization'] ? data['r_personalization'][0]['DATE_FORMAT'] : '']\n      }),\n      userRole: this.fb.array([])\n    });\n\n    const emailArray = this.userForm.get('emails') as FormArray;\n    data['r_email'].forEach( email => {\n      emailArray.push(\n        this.fb.group({\n          EMAIL: [email['EMAIL'], [Validators.required]],\n          TYPE: [email['TYPE'], [Validators.required]],\n          PRIMARY: [email['PRIMARY']]\n        })\n      );\n    });\n\n    const addressArray = this.userForm.get('addresses') as FormArray;\n    if (data['r_address']) {\n      data['r_address'].forEach( address => {\n        addressArray.push(\n          this.fb.group({\n            ADDRESS_ID: [address['ADDRESS_ID']],\n            TYPE: [address['TYPE'], [Validators.required]],\n            ADDRESS_VALUE: [address['ADDRESS_VALUE'], [Validators.required]],\n            POSTCODE: [address['POSTCODE']],\n            CITY: [address['CITY']],\n            COUNTRY: [address['COUNTRY']],\n            PRIMARY: [address['PRIMARY']]\n          })\n        );\n      });\n    }\n\n    const roleArray = this.userForm.get('userRole') as FormArray;\n    const userRoleRelationship = data['relationships'][0];\n    if (userRoleRelationship) {\n      userRoleRelationship.values.forEach( value => {\n        const roleInstance = value.PARTNER_INSTANCES[0];\n        roleArray.push(\n          this.fb.group({\n            NAME: [roleInstance['r_role'][0]['NAME']],\n            DESCRIPTION: [roleInstance['r_role'][0]['DESCRIPTION']],\n            system_role_INSTANCE_GUID: [roleInstance['INSTANCE_GUID']],\n            RELATIONSHIP_INSTANCE_GUID: [value['RELATIONSHIP_INSTANCE_GUID']]\n          })\n        );\n      });\n    }\n\n    this.originalUserValue = this.userForm.getRawValue();\n  }\n\n  _resetUserValue(data: Entity): void {\n    this.originalUserValue = {\n      USER_ID: data['r_user'][0]['USER_ID'],\n      LOCK: data['r_user'][0]['LOCK'],\n      PWD_STATUS: data['r_user'][0]['PWD_STATUS'],\n      userBasic: {\n        names: {\n          USER_NAME: data['r_user'][0]['USER_NAME'],\n          DISPLAY_NAME: data['r_user'][0]['DISPLAY_NAME'],\n          GIVEN_NAME: data['r_user'][0]['GIVEN_NAME'],\n          MIDDLE_NAME: data['r_user'][0]['MIDDLE_NAME'],\n          FAMILY_NAME: data['r_user'][0]['FAMILY_NAME']\n        },\n        employee: {\n          TITLE: data['r_employee'][0]['TITLE'],\n          DEPARTMENT_ID: data['r_employee'][0]['DEPARTMENT_ID'],\n          COMPANY_ID: data['r_employee'][0]['COMPANY_ID'],\n          GENDER: data['r_employee'][0]['GENDER']\n        }\n      },\n      emails: [],\n      addresses: [],\n      userPersonalization: {\n        USER_ID: data['r_personalization'] ? data['r_personalization'][0]['USER_ID'] : '',\n        LANGUAGE: data['r_personalization'] ? data['r_personalization'][0]['LANGUAGE'] : '',\n        TIMEZONE: data['r_personalization'] ? data['r_personalization'][0]['TIMEZONE'] : '',\n        DECIMAL_FORMAT: data['r_personalization'] ? data['r_personalization'][0]['DECIMAL_FORMAT'] : '',\n        DATE_FORMAT: data['r_personalization'] ? data['r_personalization'][0]['DATE_FORMAT'] : ''\n      },\n      userRole: []\n    };\n\n    data['r_email'].forEach( email => {\n      this.originalUserValue['emails'].push(\n        {\n          EMAIL: email['EMAIL'],\n          TYPE: email['TYPE'],\n          PRIMARY: email['PRIMARY']\n        }\n      );\n    });\n\n    if (data['r_address']) {\n      data['r_address'].forEach( address => {\n        this.originalUserValue['addresses'].push(\n          {\n            ADDRESS_ID: address['ADDRESS_ID'],\n            TYPE: address['TYPE'],\n            ADDRESS_VALUE: address['ADDRESS_VALUE'],\n            POSTCODE: address['POSTCODE'],\n            CITY: address['CITY'],\n            COUNTRY: address['COUNTRY'],\n            PRIMARY: address['PRIMARY']\n          }\n        );\n      });\n    }\n\n    const userRoleRelationship = data['relationships'][0];\n    if (userRoleRelationship) {\n      userRoleRelationship.values.forEach( value => {\n        const roleInstance = value.PARTNER_INSTANCES[0];\n        this.originalUserValue['userRole'].push(\n          {\n            NAME: [roleInstance['r_role'][0]['NAME']],\n            DESCRIPTION: [roleInstance['r_role'][0]['DESCRIPTION']],\n            system_role_INSTANCE_GUID: [roleInstance['INSTANCE_GUID']],\n            RELATIONSHIP_INSTANCE_GUID: [value['RELATIONSHIP_INSTANCE_GUID']]\n          }\n        );\n      });\n    }\n\n    this.userForm.reset(this.originalUserValue);\n  }\n\n  _setCheckBoxState() {\n    const userEmailFormArray = this.userForm.get('emails') as FormArray;\n    const userAddressFormArray = this.userForm.get('addresses') as FormArray;\n    const userEmployeeForm = this.userForm.get('userBasic').get('employee') as FormGroup;\n    const userPersonalizationForm = this.userForm.get('userPersonalization') as FormGroup;\n    if (this.readonly) {\n      userEmailFormArray.controls.forEach( userEmailForm => {\n        userEmailForm.get('PRIMARY').disable();\n        userEmailForm.get('TYPE').disable();\n      });\n      userAddressFormArray.controls.forEach( userAddressForm => {\n        userAddressForm.get('PRIMARY').disable();\n        userAddressForm.get('TYPE').disable();\n      });\n      userEmployeeForm.get('GENDER').disable();\n      userPersonalizationForm.get('LANGUAGE').disable();\n      userPersonalizationForm.get('TIMEZONE').disable();\n      userPersonalizationForm.get('DECIMAL_FORMAT').disable();\n      userPersonalizationForm.get('DATE_FORMAT').disable();\n    } else {\n      userEmailFormArray.controls.forEach( userEmailForm => {\n        userEmailForm.get('PRIMARY').enable();\n        userEmailForm.get('TYPE').enable();\n      });\n      userAddressFormArray.controls.forEach( userAddressForm => {\n        userAddressForm.get('PRIMARY').enable();\n        userAddressForm.get('TYPE').enable();\n      });\n      userEmployeeForm.get('GENDER').enable();\n      userPersonalizationForm.get('LANGUAGE').enable();\n      userPersonalizationForm.get('TIMEZONE').enable();\n      userPersonalizationForm.get('DECIMAL_FORMAT').enable();\n      userPersonalizationForm.get('DATE_FORMAT').enable();\n    }\n  }\n\n  save() {\n    this.messageService.clearMessages();\n    if (this._composeChangesToUser()) {\n      this.identityService.saveUser(<Entity>this.changedUser).subscribe( data => {\n        this.changedUser = {};\n        if ('INSTANCE_GUID' in data) {\n          const userID = data['r_user'][0]['USER_ID'];\n          this.instanceGUID = data['INSTANCE_GUID'];\n          this.isNewMode = false;\n          this.identityService.getUserDetail(userID).subscribe(userData => {\n            if ('ENTITY_ID' in userData) {\n              this._switch2DisplayMode();\n              this._resetUserValue(<Entity>userData);\n            } else {\n              const errorMessages = <Message[]>userData;\n              errorMessages.forEach( msg => this.messageService.add(msg));\n            }\n          });\n          this.messageService.reportMessage('USER', 'USER_SAVED', 'S', userID);\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n        }\n      });\n    }\n  }\n\n  _composeChangesToUser() {\n    if (this.userForm.invalid) {\n      this.messageService.reportMessage('USER', 'INVALID', 'E');\n      return false;\n    }\n\n    if (this.userForm.dirty === false) {\n      this.messageService.reportMessage('GENERAL', 'NO_CHANGE', 'W');\n      return false;\n    }\n\n    this.changedUser['ENTITY_ID'] = 'person';\n    this.changedUser['INSTANCE_GUID'] = this.instanceGUID;\n    if (this.isNewMode) {\n      this.changedUser['person'] = {action: 'add', TYPE: 'employee', SYSTEM_ACCESS: 'PORTAL'};\n    }\n\n    const userBasicFormGroup = this.userForm.get('userBasic');\n    const userID = this.userForm.get('USER_ID').value;\n    if (userBasicFormGroup.dirty) {\n      const userBasicNamesFormGroup = userBasicFormGroup.get('names') as FormGroup;\n      this.changedUser['r_user'] = this.uiMapperService.composeChangedRelation(\n        userBasicNamesFormGroup, {USER_ID: userID}, this.isNewMode);\n\n      const userBasicEmployeeFormGroup = userBasicFormGroup.get('employee') as FormGroup;\n      this.changedUser['r_employee'] = this.uiMapperService.composeChangedRelation(\n        userBasicEmployeeFormGroup, {USER_ID: userID}, this.isNewMode);\n    }\n\n    const userEmailFormArray = this.userForm.get('emails') as FormArray;\n    this.changedUser['r_email'] = this.uiMapperService.composeChangedRelationArray(\n      userEmailFormArray, this.originalUserValue['emails'], {EMAIL: null});\n\n    const userAddressFormArray = this.userForm.get('addresses') as FormArray;\n    this.changedUser['r_address'] = this.uiMapperService.composeChangedRelationArray(\n      userAddressFormArray, this.originalUserValue['addresses'], {ADDRESS_ID: null});\n\n    const userPersonalizationFormGroup = this.userForm.get('userPersonalization') as FormGroup;\n    this.changedUser['r_personalization'] = this.uiMapperService.composeChangedRelation(\n      userPersonalizationFormGroup, {USER_ID: userID}, !userPersonalizationFormGroup.get('USER_ID').value);\n\n    const userRoleFormArray = this.userForm.get('userRole') as FormArray;\n    const relationship = this.uiMapperService.composeChangedRelationship(\n      'rs_user_role',\n      [{ENTITY_ID: 'permission', ROLE_ID: 'system_role'}],\n      userRoleFormArray, this.originalUserValue['userRole'], ['NAME', 'DESCRIPTION']);\n    if (relationship) {this.changedUser['relationships'] = [relationship]; }\n\n    return true;\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    if (this.isNewMode || (this.userForm && this.userForm.dirty)) {\n      return this.dialogService.confirm('Discard changes?');\n    } else {\n      return true;\n    }\n  }\n}\n\n","<nav class=\"navbar dk-fixed-top navbar-light bg-light\">\n  <div>\n    <span class=\"font-weight-bold mb-0 mx-1\">{{isNewMode? 'New User' : readonly? 'Display User' : 'Change User'}}</span>\n  </div>\n\n  <div class=\"flex-row-reverse\">\n    <button class=\"btn btn-lg btn-outline-primary mr-2\" type=\"button\" title=\"Edit/Display\" id=\"editDisplay\" (click)=\"switchEditDisplay()\">\n      <span *ngIf=\"readonly\" class=\"fas fa-edit\"> Edit</span>\n      <span *ngIf=\"!readonly\" class=\"fas fa-glasses\"> Display</span>\n    </button>\n    <button class=\"btn btn-lg btn-outline-primary mr-2\" type=\"button\" title=\"Save\" id=\"save\" (click)=\"save()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-save\"> Save</span>\n    </button>\n  </div>\n</nav>\n\n<div class=\"mt-2 mb-2\">\n  <dk-message></dk-message>\n</div>\n\n<div *ngIf=\"userForm\" class=\"ml-2\">\n  <div class=\"mt-2 ml-1 row\">\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                            [attributeControl]=\"getAttrCtrlFromID('USER_ID')\"\n                            [formGroup]=\"userForm\"\n                            [readonly]=\"!isNewMode\">\n    </dk-app-attribute-form2>\n    <div class=\"col-md-6 col-lg-4 row form-group mr-2\" [formGroup]=\"userForm\">\n      <label for=\"lockStatus\" class=\"col-form-label dk-form-label\">Lock Status:</label>\n      <div id=\"lockStatus\" class=\"form-control dk-icon\">\n        <span *ngIf=\"userForm.get('LOCK').value\" class=\"fas fa-lock\" > Locked</span>\n        <span *ngIf=\"!userForm.get('LOCK').value\" class=\"fas fa-lock-open\"> Unlocked</span>\n      </div>\n    </div>\n    <div class=\"col-md-6 col-lg-4 row form-group mr-2\" [formGroup]=\"userForm\">\n      <label for=\"passwordStatus\" class=\"col-form-label dk-form-label\">Password Status:</label>\n      <div id=\"passwordStatus\" class=\"form-control dk-icon\" [ngSwitch]=\"userForm.get('PWD_STATUS').value\">\n        <div *ngSwitchCase=\"\">\n          <span class=\"badge badge-primary\">Initial</span>\n        </div>\n        <div *ngSwitchCase=\"1\">\n          <span class=\"badge badge-success\">Active</span>\n        </div>\n        <div *ngSwitchCase=\"2\">\n          <span class=\"badge badge-warning\">Renew</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <ul class=\"nav nav-tabs mt-1\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(1)\">Basic</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===2\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(2)\">Email</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===3\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(3)\">Address</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===4\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(4)\">Personalization</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===5\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(5)\">Role</a>\n    </li>\n  </ul>\n\n  <div class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n    <app-user-basic *ngSwitchCase=\"1\" [userForm]=\"userForm\" [relationMetas]=\"relationMetas\" [readonly]=\"readonly\"></app-user-basic>\n    <app-user-email *ngSwitchCase=\"2\" [userForm]=\"userForm\" [relationMetas]=\"relationMetas\" [readonly]=\"readonly\"></app-user-email>\n    <app-user-address *ngSwitchCase=\"3\" [userForm]=\"userForm\" [relationMetas]=\"relationMetas\"  [readonly]=\"readonly\"></app-user-address>\n    <app-user-personalization *ngSwitchCase=\"4\" [userForm]=\"userForm\" [relationMetas]=\"relationMetas\" [readonly]=\"readonly\"></app-user-personalization>\n    <app-user-role *ngSwitchCase=\"5\" [userForm]=\"userForm\" [readonly]=\"readonly\"></app-user-role>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormArray, FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {MessageService} from \"ui-message-angular\";\nimport {AttributeBase, AttributeControlService, RelationMeta} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-email',\n  templateUrl: './user-email.component.html',\n  styleUrls: ['./user-email.component.css']\n})\nexport class UserEmailComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  userEmailFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private messageService: MessageService,\n              private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.userEmailFormArray = this.userForm.get('emails') as FormArray;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_email').ATTRIBUTES);\n    if (!this.readonly && this.userEmailFormArray.length === 0) {\n      this.addEmail();\n    }\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  addEmail() {\n    const emailFormGroup = this.fb.group({\n      EMAIL: ['', [Validators.required]],\n      TYPE: ['', [Validators.required]],\n      PRIMARY: ['']\n    });\n    if (this.userEmailFormArray.length === 0) {\n      emailFormGroup.get('PRIMARY').setValue(1);\n      emailFormGroup.get('PRIMARY').markAsDirty();\n    }\n    this.userEmailFormArray.push(emailFormGroup);\n  }\n\n  deleteEmail(index: number) {\n    if (this.userEmailFormArray.length === 1) {\n      this.messageService.reportMessage('USER', 'AT_LEAST_ONE_EMAIL', 'E');\n    } else {\n      if (this.userEmailFormArray.at(index).value['PRIMARY']) {\n        const newPrimaryIndex = index === 0 ? 1 : 0;\n        this.userEmailFormArray.at(newPrimaryIndex).get('PRIMARY').setValue(1);\n        this.userEmailFormArray.at(newPrimaryIndex).get('PRIMARY').markAsDirty();\n      }\n      this.userEmailFormArray.removeAt(index);\n      this.userEmailFormArray.markAsDirty();\n    }\n  }\n}\n","<div class=\"card mt-4\">\n  <div class=\"card-body\">\n    <div *ngFor=\"let userEmailForm of userEmailFormArray.controls; let i = index\" class=\"card mb-4\">\n      <button type=\"button\" id=\"remove\" class=\"dk-close-button close d-flex justify-content-end mr-2\" aria-label=\"Close\" (click)=\"deleteEmail(i)\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <div class=\"card-body row\" [formGroup]=\"userEmailForm\">\n        <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                                [attributeControl]=\"getAttrCtrlFromID('TYPE')\"\n                                [formGroup]=\"userEmailForm\"\n                                [readonly]=\"readonly\">\n        </dk-app-attribute-form2>\n        <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                                [attributeControl]=\"getAttrCtrlFromID('EMAIL')\"\n                                [formGroup]=\"userEmailForm\"\n                                [readonly]=\"readonly\">\n        </dk-app-attribute-form2>\n        <div class=\"col-1 row form-group mr-2\">\n          <label for=\"primaryEmail\" class=\"col-form-label dk-form-label\">Primary</label>\n          <input type=\"radio\" class=\"form-control\" id=\"primaryEmail\" [value]=\"1\" name=\"PRIMARY\" formControlName=\"PRIMARY\">\n        </div>\n      </div>\n    </div>\n    <button type=\"button\" id=\"add\" class=\"btn btn-primary float-right\" [disabled]=\"readonly\" (click)=\"addEmail()\">Add</button>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormGroup} from \"@angular/forms\";\nimport {AttributeBase, AttributeControlService, RelationMeta} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-personalization',\n  templateUrl: './user-personalization.component.html',\n  styleUrls: ['./user-personalization.component.css']\n})\nexport class UserPersonalizationComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  userPersonalizationForm: FormGroup;\n\n  constructor(private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.userPersonalizationForm = this.userForm.get('userPersonalization') as FormGroup;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_personalization').ATTRIBUTES);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n}\n","<form class=\"mt-4 ml-2 row\">\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('LANGUAGE')\"\n                          [formGroup]=\"userPersonalizationForm\"\n                          [readonly]=\"readonly\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('TIMEZONE')\"\n                          [formGroup]=\"userPersonalizationForm\"\n                          [readonly]=\"readonly\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('DECIMAL_FORMAT')\"\n                          [formGroup]=\"userPersonalizationForm\"\n                          [readonly]=\"readonly\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('DATE_FORMAT')\"\n                          [formGroup]=\"userPersonalizationForm\"\n                          [readonly]=\"readonly\">\n  </dk-app-attribute-form2>\n</form>\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from \"@angular/forms\";\nimport {IdentityService} from \"../../../identity.service\";\nimport {SearchHelpComponent} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-role',\n  templateUrl: './user-role.component.html',\n  styleUrls: ['./user-role.component.css']\n})\nexport class UserRoleComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  userRoleFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private identityService: IdentityService) { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n\n  ngOnInit() {\n    this.userRoleFormArray = this.userForm.get('userRole') as FormArray;\n    // Recheck each role since every time the template is initialized, Angular clears the error status.\n    if (!this.readonly) {\n      this.userRoleFormArray.controls.forEach( (ctrl, index) => {\n        this.onChangeRoleID(index);\n      });\n    }\n  }\n\n  deleteRole(index: number): void {\n    if (index !== this.userRoleFormArray.length - 1) {\n      this.userRoleFormArray.removeAt(index);\n      this.userRoleFormArray.markAsDirty();\n    }\n  }\n\n  onChangeRoleID(index: number): void {\n    const currentRole = this.userRoleFormArray.at(index);\n    if (this.oldRole(currentRole)) {\n      currentRole.get('NAME').setErrors({message: 'Duplicate Role'});\n      return;\n    }\n\n    if (index === this.userRoleFormArray.length - 1 && currentRole.value.NAME.trim() !== '') {\n      // Only work if the last line is not new and empty\n      this.userRoleFormArray.push(\n        this.fb.group({\n          NAME: [''],\n          DESCRIPTION: [''],\n          system_role_INSTANCE_GUID: [''],\n          RELATIONSHIP_INSTANCE_GUID: ['']\n        })\n      );\n    }\n\n    if (currentRole.value.NAME) {\n      this.identityService.getRoleDesc(currentRole.value.NAME).subscribe(data => {\n        if (data['msgCat']) {\n          currentRole.get('NAME').setErrors({message: data['msgShortText']});\n        } else {\n          currentRole.get('DESCRIPTION').setValue(data['DESCRIPTION']);\n          currentRole.get('system_role_INSTANCE_GUID').setValue(data['INSTANCE_GUID']);\n        }\n      });\n    }\n  }\n\n  oldRole(userRoleForm: AbstractControl): boolean {\n    const existIndex = this.userRoleFormArray.controls.findIndex(\n      role => role.value.NAME === userRoleForm.value.NAME && role.pristine && role.value.NAME !== '');\n    return existIndex !== -1 ;\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, ruleIdx: number) {\n      return () => context.onChangeRoleID(ruleIdx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalByEntity('permission', 'r_role',\n      exportObject, this.readonly, null, null, afterExportFn);\n  }\n\n}\n","<table class=\"table table-bordered dk-table ml-3 mt-4\" [formGroup]=\"userForm\">\n  <thead class=\"thead-light dk-form-label\">\n    <tr>\n      <th scope=\"col\">Role</th>\n      <th scope=\"col\">Description</th>\n      <th scope=\"col\">Action</th>\n    </tr>\n  </thead>\n\n  <tbody formArrayName=\"userRole\" class=\"mb-4\">\n    <tr *ngFor=\"let userRoleForm of userRoleFormArray.controls; let i = index\">\n      <td [formGroup]=\"userRoleForm\">\n        <div class=\"input-group dk-name\">\n          <input class=\"form-control\" type=\"text\" formControlName=\"NAME\"\n               [readonly]=\"readonly || oldRole(userRoleForm) && userRoleForm.valid\" (change)=\"onChangeRoleID(i)\">\n          <div class=\"invalid-tooltip\">\n            {{userRoleForm.get('NAME').errors?.message}}\n          </div>\n          <div class=\"input-group-append\">\n            <button class=\"btn btn-outline-secondary btn-light\" type=\"button\" id=\"searchPermission\"\n            (click)=\"onSearchHelp(i, userRoleForm)\">\n              <span class=\"fas fa-search\"></span>\n            </button>\n          </div>\n        </div>\n      </td>\n      <td [formGroup]=\"userRoleForm\" class=\"dk-description\">\n        <input type=\"text\" formControlName=\"DESCRIPTION\" readonly class=\"form-control\">\n      </td>\n      <td class=\"dk-actions\">\n        <button class=\"btn\" type=\"button\" id=\"delete\" [disabled]=\"readonly\" (click)=\"deleteRole(i)\" title=\"Delete\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<dk-app-search-help></dk-app-search-help>\n","import { Component, OnInit } from '@angular/core';\nimport {UserList} from \"../../user\";\nimport {Message, MessageService, messageType} from \"ui-message-angular\";\nimport {Router} from \"@angular/router\";\nimport {IdentityService} from \"../../identity.service\";\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css']\n})\nexport class UserListComponent implements OnInit {\n  userID: string;\n  userName: string;\n  users: UserList[];\n  showDeletionConfirmation = false;\n  toBeDeletedUser: string;\n\n  get displayDeletionConfirmation() {return this.showDeletionConfirmation ? 'block' : 'none'; }\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  search() {\n    this.messageService.clearMessages();\n    this.users = [];\n    this.userID = this.userID ? this.userID.trim() : '';\n    this.userName = this.userName ? this.userName.trim() : '';\n    this.identityService.searchUsers(this.userID, this.userName).subscribe(\n      data => {\n        if (!data[0]) {\n          this.messageService.reportMessage('GENERAL', 'EMPTY_LIST', messageType.Warning);\n        } else if (data[0]['msgCat']) {\n          const messages = <Message[]>data;\n          messages.forEach( msg => this.messageService.add(msg));\n        } else {\n          this.users = <UserList[]>data;\n        }\n      }\n    );\n  }\n\n  enterSearch($event): void {\n    if ($event.keyCode === 13 ) {\n       this.search();\n    }\n  }\n\n  newUser(): void {\n    this.router.navigate(['users', '/', {action: 'new'}]);\n  }\n\n  displayUser(userID: string): void {\n    this.router.navigate(['users', userID, {action: 'display'}]);\n  }\n\n  changeUser(userID: string): void {\n    this.router.navigate(['users', userID, {action: 'change'}]);\n  }\n\n  deleteUser(userID: string): void {\n    this.toBeDeletedUser = userID;\n    this.showDeletionConfirmation = true;\n  }\n\n  cancelDeletion(): void {\n    this.showDeletionConfirmation = false;\n  }\n\n  confirmDeletion(): void {\n    const toBeDeletedUserGUID = this.users.find( ele => ele.USER_ID === this.toBeDeletedUser).INSTANCE_GUID;\n    this.identityService.deleteUser(toBeDeletedUserGUID).subscribe( errorMsg => {\n      this.showDeletionConfirmation = false;\n      if (errorMsg) {\n        const messages = <Message[]>errorMsg;\n        messages.forEach( msg => this.messageService.add(msg));\n      } else {\n        this.search();\n      }\n    });\n  }\n\n}\n","<div class=\"card mb-3 pt-3\">\n  <div class=\"mt-2 pl-4 row\">\n    <div class=\"col-6 form-group row\">\n      <label for=\"user_id\" class=\"col-sm-3 col-form-label\">User ID:</label>\n      <input id=\"user_id\" name=\"user_id\" [(ngModel)]=\"userID\" type=\"text\" class=\"col-sm-6 form-control\" (keyup)=\"enterSearch($event)\" autofocus>\n    </div>\n    <div class=\"col-6 form-group row\">\n      <label for=\"user_name\" class=\"col-sm-3 col-form-label\">User Name:</label>\n      <input id=\"user_name\" name=\"user_name\" [(ngModel)]=\"userName\" type=\"text\" class=\"col-sm-6 form-control\" (keyup)=\"enterSearch($event)\">\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <button type=\"button\" id=\"search\" class=\"btn btn-primary float-right mr-4\" (click)=\"search()\">Search</button>\n  </div>\n</div>\n\n<div class=\"mt-2 mb-4 mx-4\">\n  <dk-message></dk-message>\n  <div class=\"btn-toolbar justify-content-end my-2\" role=\"toolbar\">\n    <button type=\"button\" id=\"new\" class=\"btn btn-light\" (click)=\"newUser()\"><span class=\"fas fa-plus\"></span> New</button>\n  </div>\n  <table class=\"table table-bordered table-sm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th scope=\"col\">User ID</th>\n      <th scope=\"col\">User Name</th>\n      <th scope=\"col\">Display Name</th>\n      <th scope=\"col\">Locked?</th>\n      <th scope=\"col\">Password State</th>\n      <th scope=\"col\">Action</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let user of users\">\n      <td><a [routerLink]=\"['/users', user.USER_ID, {action: 'display'}]\">{{user.USER_ID}}</a></td>\n      <td>{{user.USER_NAME}}</td>\n      <td>{{user.DISPLAY_NAME}}</td>\n      <td class=\"dk-lock\">\n        <span *ngIf=\"user.LOCK\" class=\"fas fa-lock\" title=\"Locked\"></span>\n        <span *ngIf=\"!user.LOCK\" class=\"fas fa-lock-open\" title=\"Unlocked\"></span>\n      </td>\n      <td class=\"dk-password-state\" [ngSwitch]=\"user.PWD_STATE\">\n        <div *ngSwitchCase=\"\">\n          <span class=\"badge badge-primary\">Initial</span>\n        </div>\n        <div *ngSwitchCase=\"1\">\n          <span class=\"badge badge-success\">Active</span>\n        </div>\n        <div *ngSwitchCase=\"2\">\n          <span class=\"badge badge-warning\">Renew</span>\n        </div>\n      </td>\n      <td class=\"dk-actions\">\n        <button title=\"Display\" id=\"display\" class=\"btn\" type=\"button\" (click)=\"displayUser(user.USER_ID)\">\n          <span class=\"fas fa-search\"></span>\n        </button>\n        <button title=\"Change\" id=\"change\" class=\"btn\" type=\"button\" (click)=\"changeUser(user.USER_ID)\">\n          <span class=\"fas fa-pen\"></span>\n        </button>\n        <button title=\"Delete\" id=\"delete\" class=\"btn\" type=\"button\" (click)=\"deleteUser(user.USER_ID)\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class=\"modal fade\" [class.show]=\"showDeletionConfirmation\"\n       [ngStyle]=\"{'display': displayDeletionConfirmation}\" id=\"deletionConfirmation\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-sm modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"confirmDeletion\">Confirm Deletion</h5>\n          <button type=\"button\" class=\"close\" (click)=\"cancelDeletion()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure to delete the user '{{toBeDeletedUser}}'?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" id=\"cancel\" class=\"btn btn-secondary\" (click)=\"cancelDeletion()\">Cancel</button>\n          <button type=\"button\" id=\"confirm\" class=\"btn btn-primary\" (click)=\"confirmDeletion()\">Confirm</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","import { Injectable } from '@angular/core';\nimport {ActivatedRouteSnapshot, CanDeactivate, RouterStateSnapshot} from '@angular/router';\nimport { Observable } from 'rxjs';\n\nexport interface CanComponentDeactivate {\n  canDeactivate: () => Observable<boolean> | Promise<boolean> | boolean;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorkProtectionGuard implements CanDeactivate<CanComponentDeactivate>  {\n\n  canDeactivate(component: CanComponentDeactivate,\n                currentRoute: ActivatedRouteSnapshot,\n                currentState: RouterStateSnapshot,\n                nextState?: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    return component.canDeactivate ? component.canDeactivate() : true;\n  }\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n  originalHost: 'http://localhost:3000'\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"names":[],"sourceRoot":"webpack:///"}