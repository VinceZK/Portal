{"version":3,"sources":["webpack:///src/app/app_category/app-category-detail/app-category-detail-app/app-category-detail-app.component.ts","webpack:///src/app/app_category/app-category-detail/app-category-detail-app/app-category-detail-app.component.html","webpack:///src/app/user/user-detail/user-personalization/user-personalization.component.ts","webpack:///src/app/user/user-detail/user-personalization/user-personalization.component.html","webpack:///src/app/permission/permission-detail/permission-detail-category/permission-detail-category.component.ts","webpack:///src/app/permission/permission-detail/permission-detail-category/permission-detail-category.component.html","webpack:///src/app/work-protection.guard.ts","webpack:///src/app/app/app-detail/app-target/app-target.component.ts","webpack:///src/app/app/app-detail/app-target/app-target.component.html","webpack:///src/app/permission/permission-detail/permission-detail.component.ts","webpack:///src/app/permission/permission-detail/permission-detail.component.html","webpack:///src/app/user/user-detail/user-address/user-address.component.ts","webpack:///src/app/user/user-detail/user-address/user-address.component.html","webpack:///src/app/user/user-detail/user-role/user-role.component.ts","webpack:///src/app/user/user-detail/user-role/user-role.component.html","webpack:///src/environments/environment.ts","webpack:///src/app/authorization/authorization.component.ts","webpack:///src/app/authorization/authorization.component.html","webpack:///src/app/dialog.service.ts","webpack:///src/app/authorization/auth-value/auth-value.component.ts","webpack:///src/app/authorization/auth-value/auth-value.component.html","webpack:///src/app/permission/permission-detail/permission-detail-user/permission-detail-user.component.ts","webpack:///src/app/permission/permission-detail/permission-detail-user/permission-detail-user.component.html","webpack:///src/app/custom.reuse.strategy.ts","webpack:///src/app/identity.service.ts","webpack:///src/app/app/app-detail/app-detail.component.ts","webpack:///src/app/app/app-detail/app-detail.component.html","webpack:///src/app/identity.ts","webpack:///src/app/profile/profile-detail/profile-detail.component.ts","webpack:///src/app/profile/profile-detail/profile-detail.component.html","webpack:///src/app/user/user-list/user-list.component.ts","webpack:///src/app/user/user-list/user-list.component.html","webpack:///src/app/admin-info/admin-info.component.ts","webpack:///src/app/admin-info/admin-info.component.html","webpack:///src/app/app_category/app-category-detail/app-category-detail.component.ts","webpack:///src/app/app_category/app-category-detail/app-category-detail.component.html","webpack:///src/app/async-validators.ts","webpack:///src/app/auth_object/auth-object-detail/auth-object-detail.component.ts","webpack:///src/app/auth_object/auth-object-detail/auth-object-detail.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/user/user-detail/user-detail.component.ts","webpack:///src/app/user/user-detail/user-detail.component.html","webpack:///src/app/app/app-detail/app-categories/app-categories.component.ts","webpack:///src/app/app/app-detail/app-categories/app-categories.component.html","webpack:///src/app/permission/permission-detail/permission-detail-profile/permission-detail-profile.component.ts","webpack:///src/app/permission/permission-detail/permission-detail-profile/permission-detail-profile.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/authorization/auth-value/auth-value-selopts/auth-value-selopts.component.ts","webpack:///src/app/authorization/auth-value/auth-value-selopts/auth-value-selopts.component.html","webpack:///src/app/permission/permission-list/permission-list.component.ts","webpack:///src/app/permission/permission-list/permission-list.component.html","webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/auth_object/auth-object-list/auth-object-list.component.ts","webpack:///src/app/auth_object/auth-object-list/auth-object-list.component.html","webpack:///src/app/app_category/app-category-list/app-category-list.component.ts","webpack:///src/app/app_category/app-category-list/app-category-list.component.html","webpack:///dist/logon/fesm2015/ui-logon-angular.js","webpack:///src/app/app/app-list/app-list.component.ts","webpack:///src/app/app/app-list/app-list.component.html","webpack:///src/app/profile/profile-list/profile-list.component.ts","webpack:///src/app/profile/profile-list/profile-list.component.html","webpack:///src/app/authorization/auth-value/auth-value-singles/auth-value-singles.component.ts","webpack:///src/app/authorization/auth-value/auth-value-singles/auth-value-singles.component.html","webpack:///src/app/msgStore.ts","webpack:///src/app/auth_object/auth-object-detail/auth-object-field/auth-object-field.component.ts","webpack:///src/app/auth_object/auth-object-detail/auth-object-field/auth-object-field.component.html","webpack:///src/app/user/user-detail/user-email/user-email.component.ts","webpack:///src/app/user/user-detail/user-email/user-email.component.html","webpack:///src/app/app_category/app-category-detail/app-category-detail-role/app-category-detail-role.component.ts","webpack:///src/app/app_category/app-category-detail/app-category-detail-role/app-category-detail-role.component.html","webpack:///src/app/user/user-detail/user-basic/user-basic.component.ts","webpack:///src/app/user/user-detail/user-basic/user-basic.component.html","webpack:///src/main.ts"],"names":["AppCategoryDetailAppComponent","fb","identityService","appFormArray","mainForm","get","readonly","controls","forEach","ctrl","index","onChangeKey","length","removeAt","markAsDirty","currentFormGroup","at","isExisting","setErrors","message","value","APP_ID","trim","push","group","NAME","ORDER","portal_app_INSTANCE_GUID","RELATIONSHIP_INSTANCE_GUID","getAppByID","subscribe","data","setValue","key","existIndex","findIndex","pristine","rowID","exportObject","afterExportFn","context","rowIDx","bind","searchHelpComponent","openSearchHelpModalByEntity","valid","selector","templateUrl","styleUrls","UserPersonalizationComponent","attributeControlService","userPersonalizationForm","userForm","attrCtrls","toAttributeControl","relationMetas","find","relationMeta","RELATION_ID","ATTRIBUTES","fieldName","attrCtrl","name","PermissionDetailCategoryComponent","entityService","messageService","isCategoryModalShown","selectAll","categoryFormArray","disable","appCategoryCtrl","idx","currentCategoryCtrl","categoryCtrl","newCategoryForm","CHECKED","COLLAPSED","ROW_TYPE","app_category_INSTANCE_GUID","auth_profile_INSTANCE_GUID","category","ID","ICON","categoryAttr","getElementMeta","elementMeta","attribute","ATTR_GUID","ELEMENT_ID","ATTR_NAME","DATA_ELEMENT","toSingleAttributeControl","categoryID","getAppCategoryDetail","appRelationship","relationship","RELATIONSHIP_ID","appGUIDs","values","disabled","app","_generateProfile","errorMessages","msg","add","profileCtrl","PROFILE_NAME","toUpperCase","replace","DESC","CHANGE_TIME","addControl","operations","map","appGUID","action","instance","INSTANCE_GUID","RELATIONSHIPS","PARTNER_ENTITY_PIECES","RELATIONS","orchestrate","authorizations","operation","errs","rsAuthorization","result","relationships","concat","parseProfileAuthObject","hasError","authFormArray","array","authorization","$event","keyCode","confirm","onChangeCategory","currentCtrl","parentNode","checkAll","closeCategoryModal","authValueComponent","WorkProtectionGuard","component","currentRoute","currentState","nextState","canDeactivate","providedIn","AppTargetComponent","appTargetForm","PermissionDetailComponent","route","router","dialogService","uiMapperService","isNewMode","originalValue","tabStrip","paramMap","pipe","params","getRelationMetaOfEntity","_createNewEntity","getPermissionDetail","instanceGUID","_generateMainForm","_switch2EditMode","_switch2DisplayMode","navigate","tabStripID","dirty","reset","clearMessages","permissionNameCtrl","clearAsyncValidators","markAsPristine","window","history","replaceState","setAsyncValidators","permissionDetail","ENTITY_ID","DESCR","CREATED_BY","CREATE_TIME","CHANGED_BY","DESCRIPTION","required","admin","parsedRelationship","_parseRelationships","categories","profile","users","user","getRawValue","__parseRoleCategoryProfile","__parseRoleUsers","sort","a","b","appCategoryInstance","PARTNER_INSTANCES","partnerInstance","ROLE_ID","authProfileInstance","rsAppCategory","value2","SYNCED","USER_ID","USER_NAME","_composeChanges","console","log","results","msgType","permissionName","reportMessage","invalid","changedValue","Session","CurrentTime","originalProfile","noCommit","authProfile","composeAuthChanges","onlySelf","rsCategory","composeChangedRelationship","filter","newCategoryIndex","NO_EXISTING_CHECK","newProfilesIndex","replacements","movePath","toPath","return2List","switchEditDisplay","save","UserAddressComponent","userAddressFormArray","addressFormGroup","ADDRESS_ID","TYPE","ADDRESS_VALUE","POSTCODE","CITY","COUNTRY","PRIMARY","newPrimaryIndex","addAddress","UserRoleComponent","userRoleFormArray","onChangeRoleID","currentRole","oldRole","system_role_INSTANCE_GUID","getRoleDesc","userRoleForm","role","roleIdx","openSearchHelpModalBySearchHelp","environment","production","redirectPath","redirectUrl","originalHost","AuthorizationComponent","isAuthValueModalShown","isAuthObjectModalShown","nodeID","authObjFormArray","ctrlName","authObjCtrl","currentAuthObjCtrl","newAuthFieldValueForm","NODE_ID","STATUS","auth_object_INSTANCE_GUID","AUTH_VALUE","OBJ_NAME","FIELD_NAME","authObjAttr","authObjName","getAuthObjectDetail","appAuthObjCtrl","currentAuthFieldValueForm","generateAuthValue","_coordinateStatus","currentAuthObjForm","appAuthObjForm","parentAuthObjectCtrl","addAuthValue","closeAuthObjectModal","addAuthObject","DialogService","confirmation","AuthValueComponent","authFieldValueForm","singleValueArray","clear","selectOptionArray","fullPermission","authValues","highAttrCtrl","JSON","parse","Low","Operator","Between","Option","Include","High","authValueArray","_setFullPermission","singleValues","selectOptions","authValue","hasErrors","singleValueCtrl","singleValue","selectOptionCtrl","selectOption","stringify","isFull","checkFullPermission","switchTabStrip","PermissionDetailUserComponent","userFormArray","CustomReuseStrategy","routesToCache","storedRouteHandles","Map","indexOf","routeConfig","path","handle","set","has","future","curr","httpOptions","headers","IdentityService","http","pseudoNodeID","session","permissionID","permissionDesc","queryObject","PROJECTION","FILTER","includes","OPERATOR","LOW","SORT","post","handleError","pieceObject","piece","appID","appName","authObjDesc","authFieldName","appCategoryID","appCategoryName","profileName","profileDesc","userID","userName","roleID","entity","put","entityGUID","status","Object","AuthFieldValue","authObjectFields","formArray","relationshipID","currentAuthObjectCtrl","isAuthorizationChanged","control","rowType","AuthObject","originalAuthObjValue","authObj","error","addMessage","Exception","defaultSession","LANGUAGE","Date","AppDetailComponent","getAppDetail","_setCheckBoxState","appIDCtrl","appCategoryArray","lastIndex","appCategoryGroup","appDetail","ROUTE_LINK","IS_EXTERNAL","target","appCategories","appCategory","appAuthObjects","appAuthObject","__parseAppCategory","__parseAppAuthObject","enable","_resetValue","appAuthObjFormArray","PermissionList","UserList","AppList","AuthObjList","AuthProfileList","AppCategoryList","Authorization","SelectOption","ProfileDetailComponent","getAuthProfileDetail","profileNameCtrl","profileDetail","authObjects","authObject","__parseAuthObjects","roles","authObjectFormArray","UserListComponent","showDeletionConfirmation","searchUsers","Warning","messages","search","toBeDeletedUser","toBeDeletedUserGUID","ele","errorMsg","enterSearch","newUser","cancelDeletion","confirmDeletion","AdminInfoComponent","adminForm","adminRelation","AppCategoryDetailComponent","appCategoryIDCtrl","appArray","appGroup","appCategoryDetail","apps","__parseApp","__parseSystemRole","permission","partner","r_role","existingUserNameValidator","getUserByUserName","generateMessage","msgShortText","existingUserIDValidator","getUserByUserID","existingPermissionValidator","getPermissionByName","existingAppValidator","existingAuthObjectValidator","getAuthObjectByName","existingAppCategoryValidator","getAppCategoryByID","existingProfileValidator","getAuthProfileByName","AuthObjectDetailComponent","authFieldArray","authFieldGroup","auth_field_INSTANCE_GUID","authObjectDetail","authFields","authField","__parseAuthField","authFieldFormArray","AppComponent","logonService","setOriginalHost","setHost","try_get_session","setSession","setMessageStore","UserDetailComponent","originalUserValue","changedUser","_createNewUser","getUserDetail","_generateUserForm","userIDCtrl","userNameCtrl","emailArray","emailFormGroup","EMAIL","addressArray","roleArray","roleFormGroup","userDetail","LOCK","PWD_STATUS","DISPLAY_NAME","GIVEN_NAME","MIDDLE_NAME","FAMILY_NAME","TITLE","DEPARTMENT_ID","COMPANY_ID","GENDER","TIMEZONE","DECIMAL_FORMAT","DATE_FORMAT","userBasic","names","employee","emails","addresses","userPersonalization","userRole","email","address","userRoleRelationship","roleInstance","userEmailFormArray","userEmployeeForm","userEmailForm","userAddressForm","_composeChangesToUser","userData","_resetUserValue","SYSTEM_ACCESS","userBasicFormGroup","userBasicNamesFormGroup","composeChangedRelation","userBasicEmployeeFormGroup","composeChangedRelationArray","userPersonalizationFormGroup","AppCategoriesComponent","appCategoryFormArray","PermissionDetailProfileComponent","profileFormArray","onSelect","currentProfileFormGroup","appRoutes","title","userLabel","pwdLabel","btnLabel","host","redirectTo","pathMatch","AppModule","provide","useClass","forRoot","declarations","imports","providers","bootstrap","AuthValueSeloptsComponent","operatorEnum","optionEnum","insert","PermissionListComponent","permissions","searchPermissions","toBeDeletedInstance","toBeDeletedPermissionGUID","webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","AuthObjectListComponent","searchAuthObjects","toBeDeletedInstanceGUID","AppCategoryListComponent","searchAppCategories","_c0","_c1","LogonComponent_i_18_Template","rf","ctx","msgStore","msgCat","msgName","msgText","EN","shortText","longText","LogonService","userid","password","username","ɵfac","LogonService_Factory","t","ɵprov","factory","token","ctorParameters","type","args","User","PluralField","QueryObject","Projection","Selection","Sort","LogonComponent","document","autofill","isWaiting","monitor","inputUserID","nativeElement","inputPassword","snapshot","stopMonitoring","logon","err","Array","isArray","report","displayName","locked","pwdState","navigateByUrl","location","href","LogonComponent_Factory","ɵcmp","selectors","viewQuery","LogonComponent_Query","_t","first","inputs","decls","vars","consts","template","LogonComponent_Template","LogonComponent_Template_form_ngSubmit_0_listener","LogonComponent_Template_input_ngModelChange_8_listener","LogonComponent_Template_input_ngModelChange_13_listener","directives","styles","undefined","decorators","propDecorators","read","LandingPageComponent","logout","query","LandingPageComponent_Factory","LandingPageComponent_Template","LandingPageComponent_Template_button_click_3_listener","LandingPageComponent_Template_button_click_5_listener","LandingPageComponent_Template_button_click_7_listener","LandingPageComponent_Template_button_click_9_listener","pipes","encapsulation","LogonModule","ɵmod","ɵinj","LogonModule_Factory","ngJitMode","AppListComponent","searchApps","ProfileListComponent","authProfiles","searchAuthProfiles","AuthValueSinglesComponent","AuthObjectFieldComponent","getAuthFieldInfo","UserEmailComponent","addEmail","AppCategoryDetailRoleComponent","roleFormArray","UserBasicComponent","userBasicNamesForm","userBasicEmployeeForm","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {IdentityService} from '../../../identity.service';\nimport {SearchHelpComponent} from 'jor-angular';\n\n@Component({\n  selector: 'app-app-category-detail-app',\n  templateUrl: './app-category-detail-app.component.html',\n  styleUrls: ['./app-category-detail-app.component.css']\n})\nexport class AppCategoryDetailAppComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  appFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private identityService: IdentityService) { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n\n  ngOnInit() {\n    this.appFormArray = this.mainForm.get('apps') as FormArray;\n    // Recheck each role since every time the template is initialized, Angular clears the error status.\n    if (!this.readonly) {\n      this.appFormArray.controls.forEach( (ctrl, index) => {\n        this.onChangeKey(index);\n      });\n    }\n  }\n\n  delete(index: number): void {\n    if (index !== this.appFormArray.length - 1) {\n      this.appFormArray.removeAt(index);\n      this.appFormArray.markAsDirty();\n    }\n  }\n\n  onChangeKey(index: number): void {\n    const currentFormGroup = this.appFormArray.at(index);\n    if (this.isExisting(currentFormGroup)) {\n      currentFormGroup.get('APP_ID').setErrors({message: 'Duplicate Apps'});\n      return;\n    }\n\n    if (index === this.appFormArray.length - 1 && currentFormGroup.value.APP_ID.trim() !== '') {\n      // Only work if the last line is not new and empty\n      this.appFormArray.push(\n        this.fb.group({\n          APP_ID: [''],\n          NAME: [''],\n          ORDER: [0],\n          portal_app_INSTANCE_GUID: [''],\n          RELATIONSHIP_INSTANCE_GUID: ['']\n        })\n      );\n    }\n\n    if (currentFormGroup.value.APP_ID) {\n      this.identityService.getAppByID(currentFormGroup.value.APP_ID).subscribe(data => {\n        if (data[0] && data[0]['msgCat']) {\n          currentFormGroup.get('APP_ID').setErrors({message: data[0]['msgShortText']});\n        } else {\n          currentFormGroup.get('NAME').setValue(data['app'][0]['NAME']);\n          currentFormGroup.get('portal_app_INSTANCE_GUID').setValue(data['INSTANCE_GUID']);\n        }\n      });\n    }\n  }\n\n  isExisting(key: AbstractControl): boolean {\n    const existIndex = this.appFormArray.controls.findIndex(\n      ctrl => ctrl.value.APP_ID === key.value.APP_ID\n        && ctrl.get('APP_ID').pristine && ctrl.value.APP_ID !== '');\n    return existIndex !== -1 ;\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, rowIDx: number) {\n      return () => context.onChangeKey(rowIDx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalByEntity('app', 'app', exportObject,\n      this.readonly || this.isExisting(exportObject) && exportObject.valid,\n      'APP_ID', 'APP_ID', afterExportFn);\n  }\n}\n","<table class=\"table table-bordered table-sm dk-table ml-3 mt-4\" [formGroup]=\"mainForm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th class=\"dk-name\">App ID</th>\n    <th class=\"dk-description\">App Name</th>\n    <th class=\"dk-number\">Order</th>\n    <th class=\"dk-actions\">Action</th>\n  </tr>\n  </thead>\n\n  <tbody formArrayName=\"apps\" class=\"mb-4\">\n  <tr *ngFor=\"let appForm of appFormArray.controls; let i = index\">\n    <td [formGroup]=\"appForm\">\n      <div class=\"input-group\">\n        <input class=\"form-control form-control-sm\" type=\"text\" formControlName=\"APP_ID\"\n               [readonly]=\"readonly || isExisting(appForm) && appForm.valid\" (change)=\"onChangeKey(i)\">\n        <div class=\"invalid-tooltip\">\n          {{appForm.get('APP_ID').errors?.message}}\n        </div>\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-sm btn-outline-secondary btn-light\" type=\"button\" id=\"searchApp\"\n                  (click)=\"onSearchHelp(i, appForm)\">\n            <span class=\"fas fa-search\"></span>\n          </button>\n        </div>\n      </div>\n    </td>\n    <td [formGroup]=\"appForm\">\n      <input type=\"text\" formControlName=\"NAME\" readonly class=\"form-control form-control-sm\">\n    </td>\n    <td [formGroup]=\"appForm\" >\n      <input type=\"number\" formControlName=\"ORDER\" [readonly]=\"readonly\" class=\"form-control form-control-sm\">\n    </td>\n    <td>\n      <button class=\"btn btn-sm\" type=\"button\" id=\"delete\" [disabled]=\"readonly\" (click)=\"delete(i)\" title=\"Delete\">\n        <span class=\"far fa-trash-alt\"></span>\n      </button>\n    </td>\n  </tr>\n  </tbody>\n</table>\n\n<dk-app-search-help></dk-app-search-help>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormGroup} from \"@angular/forms\";\nimport {AttributeBase, AttributeControlService, RelationMeta} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-personalization',\n  templateUrl: './user-personalization.component.html',\n  styleUrls: ['./user-personalization.component.css']\n})\nexport class UserPersonalizationComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  userPersonalizationForm: FormGroup;\n\n  constructor(private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.userPersonalizationForm = this.userForm.get('userPersonalization') as FormGroup;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_personalization').ATTRIBUTES);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n}\n","<form class=\"mt-4 ml-2 row\">\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                          [attributeControl]=\"getAttrCtrlFromID('LANGUAGE')\"\n                          [formGroup]=\"userPersonalizationForm\"\n                          [readonly]=\"readonly\"\n                          [isSmallSize]=\"true\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                          [attributeControl]=\"getAttrCtrlFromID('TIMEZONE')\"\n                          [formGroup]=\"userPersonalizationForm\"\n                          [readonly]=\"readonly\"\n                          [isSmallSize]=\"true\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                          [attributeControl]=\"getAttrCtrlFromID('DECIMAL_FORMAT')\"\n                          [formGroup]=\"userPersonalizationForm\"\n                          [readonly]=\"readonly\"\n                          [isSmallSize]=\"true\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                          [attributeControl]=\"getAttrCtrlFromID('DATE_FORMAT')\"\n                          [formGroup]=\"userPersonalizationForm\"\n                          [readonly]=\"readonly\"\n                          [isSmallSize]=\"true\">\n  </dk-app-attribute-form2>\n</form>\n","import {Component, Input, OnChanges, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {IdentityService} from '../../../identity.service';\nimport {Attribute, AttributeBase, AttributeControlService, EntityService, SearchHelpComponent} from 'jor-angular';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {AuthValueComponent} from '../../../authorization/auth-value/auth-value.component';\nimport { v4 as uuid } from 'uuid';\n\n@Component({\n  selector: 'app-permission-detail-category',\n  templateUrl: './permission-detail-category.component.html',\n  styleUrls: ['./permission-detail-category.component.css']\n})\nexport class PermissionDetailCategoryComponent implements OnInit, OnChanges {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  categoryFormArray: FormArray;\n  newCategoryForm: FormGroup;\n  isCategoryModalShown = false;\n  selectAll = false;\n  categoryAttr: AttributeBase;\n\n  get displayCategoryModal() {return this.isCategoryModalShown ? 'block' : 'none'; }\n\n  constructor( private fb: FormBuilder,\n               private identityService: IdentityService,\n               private entityService: EntityService,\n               private messageService: MessageService,\n               private attributeControlService: AttributeControlService ) { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n  @ViewChild(AuthValueComponent, { static: true})\n  private authValueComponent: AuthValueComponent;\n\n  ngOnChanges() {\n    this.categoryFormArray = <FormArray>this.mainForm.get('categories');\n    this.categoryFormArray.controls.forEach( ctrl => {\n      if ( ctrl.get('ROW_TYPE').value === 'app') { ctrl.get('CHECKED').disable(); }\n    });\n  }\n\n  ngOnInit() {\n\n  }\n\n  checkAll(): void {\n    this.categoryFormArray.controls.forEach( appCategoryCtrl => appCategoryCtrl.get('CHECKED').setValue(!this.selectAll));\n    this.selectAll = !this.selectAll;\n  }\n\n  checkCategory(idx: number): void {\n    const currentCategoryCtrl = this.categoryFormArray.at(idx);\n    this.categoryFormArray.controls.forEach( (categoryCtrl, index) => {\n      if (index <= idx) { return; }\n      if (categoryCtrl.get('category.ID').value === currentCategoryCtrl.get('category.ID').value) {\n        categoryCtrl.get('CHECKED').setValue(!currentCategoryCtrl.get('CHECKED').value);\n      }\n    });\n  }\n\n  add(): void {\n    this.newCategoryForm = this.fb.group({\n      CHECKED: '',\n      COLLAPSED: false,\n      ROW_TYPE: 'category',\n      RELATIONSHIP_INSTANCE_GUID: '',\n      app_category_INSTANCE_GUID: '',\n      auth_profile_INSTANCE_GUID: '',\n      ORDER: '',\n      category: this.fb.group({\n        ID: '',\n        NAME: '',\n        ICON: ''\n      })\n    });\n    if (!this.categoryAttr) {\n      this.entityService.getElementMeta('CATEGORY_ID')\n        .subscribe(elementMeta => {\n          const attribute = <Attribute>elementMeta;\n          attribute.ATTR_GUID = elementMeta.ELEMENT_ID;\n          attribute.ATTR_NAME = elementMeta.ELEMENT_ID;\n          attribute.DATA_ELEMENT = elementMeta.ELEMENT_ID;\n          this.categoryAttr = this.attributeControlService.toSingleAttributeControl(attribute);\n          this.categoryAttr.name = 'ID';\n        });\n    }\n    this.isCategoryModalShown = true;\n  }\n\n  closeCategoryModal(): void {\n    this.isCategoryModalShown = false;\n  }\n\n  confirm(): void {\n    const categoryID = this.newCategoryForm.get('category.ID').value;\n    this.identityService.getAppCategoryDetail(categoryID)\n      .subscribe( data => {\n        if ('ENTITY_ID' in data) {\n          this.newCategoryForm.get('app_category_INSTANCE_GUID').setValue(data['INSTANCE_GUID']);\n          this.newCategoryForm.get('category.ID').setValue(data['r_app_category'][0]['ID']);\n          this.newCategoryForm.get('category.NAME').setValue(data['r_app_category'][0]['NAME']);\n          this.newCategoryForm.get('category.ICON').setValue(data['r_app_category'][0]['ICON']);\n          this.newCategoryForm.markAsDirty();\n          this.categoryFormArray.push(this.newCategoryForm);\n          const appRelationship = data['relationships'].find(relationship => relationship.RELATIONSHIP_ID === 'rs_app_category');\n          const appGUIDs = [];\n          appRelationship.values.forEach( value => {\n            this.categoryFormArray.push(this.fb.group({\n              CHECKED: [{value: '', disabled: true}],\n              COLLAPSED: false,\n              ROW_TYPE: 'app',\n              RELATIONSHIP_INSTANCE_GUID: '',\n              app_category_INSTANCE_GUID: '',\n              auth_profile_INSTANCE_GUID: '',\n              ORDER: value['ORDER'],\n              category: this.fb.group({\n                ID: data['r_app_category'][0]['ID'],\n                NAME: value['PARTNER_INSTANCES'][0]['app'][0]['NAME'],\n                ICON: data['r_app_category'][0]['ICON']\n              }),\n              app: this.fb.group({\n                APP_ID: value['PARTNER_INSTANCES'][0]['app'][0]['APP_ID'],\n                NAME: value['PARTNER_INSTANCES'][0]['app'][0]['NAME']\n              })\n            }));\n            appGUIDs.push(value['PARTNER_INSTANCES'][0]['INSTANCE_GUID']);\n          });\n          this._generateProfile(appGUIDs);\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n          this.newCategoryForm.setErrors({message: 'Category contains errors'});\n        }\n        this.isCategoryModalShown = false;\n      });\n  }\n\n  _generateProfile(appGUIDs: Array<string>): void {\n    const profileCtrl = this.fb.group({\n      PROFILE_NAME: uuid().toUpperCase().replace(/-/g, ''),\n      DESC: this.mainForm.get('NAME').value + ` / ` + this.newCategoryForm.get('category.ID').value,\n      CHANGE_TIME: 'just now'\n    });\n    this.newCategoryForm.addControl('profile', profileCtrl);\n    const operations = appGUIDs.map( appGUID => {\n      return {\n        action: 'getInstancePieceByGUID',\n        instance: {INSTANCE_GUID: appGUID,\n          RELATIONSHIPS: [{ RELATIONSHIP_ID: 'rs_app_auth',\n            PARTNER_ENTITY_PIECES: {\n              RELATIONS: ['authObject'],\n              RELATIONSHIPS: [{RELATIONSHIP_ID: 'rs_auth_object_field',\n                PARTNER_ENTITY_PIECES: {RELATIONS: ['authField']}}]}}]}\n      };\n    });\n    this.identityService.orchestrate(operations).subscribe( data => {\n      let authorizations = [];\n      data.forEach( operation => {\n        if (operation.errs) {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n          profileCtrl.setErrors({message: 'Profile contains errors'});\n        } else {\n          const rsAuthorization = operation.result.instance.relationships[0];\n          if (rsAuthorization) {\n            rsAuthorization.values.forEach( value => value.RELATIONSHIP_INSTANCE_GUID = '');\n            authorizations = authorizations.concat(\n              this.identityService.parseProfileAuthObject(rsAuthorization));\n          }\n        }\n      });\n      if (!profileCtrl.hasError('message')) {\n        const authFormArray = this.fb.array(authorizations.map(authorization => this.fb.group(authorization)));\n        authFormArray.controls.forEach( ctrl => ctrl.markAsDirty());\n        profileCtrl.addControl('authorizations', authFormArray);\n      }\n    });\n  }\n\n  delete(): void {\n    let index = this.categoryFormArray.controls.findIndex( appCategoryCtrl => appCategoryCtrl.get('CHECKED').value);\n    while ( index !== -1) {\n      this.categoryFormArray.removeAt(index);\n      this.categoryFormArray.markAsDirty();\n      index = this.categoryFormArray.controls.findIndex( appCategoryCtrl => appCategoryCtrl.get('CHECKED').value);\n    }\n  }\n\n  enterConfirm($event): void {\n    if ($event.keyCode === 13 ) {\n      this.confirm();\n    }\n  }\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, rowIDx: number) {\n      return () => context.onChangeCategory(rowIDx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalByEntity('category', 'r_app_category',\n      exportObject, this.readonly, null, null, afterExportFn);\n  }\n\n  expendCollapse(idx: number): void {\n    const currentCtrl = this.categoryFormArray.at(idx);\n    const parentNode = currentCtrl.get('category.ID').value;\n    this.categoryFormArray.controls.forEach( categoryCtrl => {\n      if (categoryCtrl.get('category.ID').value === parentNode ) {\n        categoryCtrl.get('COLLAPSED').setValue(!categoryCtrl.get('COLLAPSED').value);\n      }\n    });\n  }\n}\n","<div class=\"dk-auth-main mx-3\">\n  <div class=\"btn-toolbar justify-content-end\" role=\"toolbar\">\n    <button type=\"button\" id=\"remove-object\" class=\"btn btn-light btn-sm\" (click)=\"delete()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-minus\"></span> Remove</button>\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"add()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-plus\"></span> Add</button>\n  </div>\n  <table class=\"table table-bordered table-sm dk-table\" [formGroup]=\"mainForm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th class=\"dk-checkbox\"><input name=\"btSelectAll\" type=\"checkbox\" (click)=\"checkAll()\"></th>\n      <th class=\"dk-auth-object\">Category / App Name</th>\n      <th class=\"dk-auth-order\">Order</th>\n      <th class=\"dk-auth-value\">Description</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let categoryForm of categoryFormArray.controls; let i = index\" class=\"treegrid-expanded\"\n        [class.collapsed]=\"categoryForm.get('ROW_TYPE').value === 'app' && categoryForm.get('COLLAPSED').value\">\n      <td class=\"dk-checkbox\" [formGroup]=\"categoryForm\">\n        <input class=\"form-control form-control-sm\" type=\"checkbox\" formControlName=\"CHECKED\" (click)=\"checkCategory(i)\">\n      </td>\n      <td *ngIf=\"categoryForm.get('ROW_TYPE').value === 'category'\" >\n      <span [ngClass]=\"{'treegrid-expander-expanded': !categoryForm.get('COLLAPSED').value,\n            'treegrid-expander-collapsed': categoryForm.get('COLLAPSED').value}\"\n            class=\"treegrid-expander\" (click)=\"expendCollapse(i)\">\n      </span>\n        <span [ngClass]=\"categoryForm.get('category.ICON').value\"></span>\n        {{categoryForm.get('category.ID').value}}\n      </td>\n      <td *ngIf=\"categoryForm.get('ROW_TYPE').value === 'app'\" >\n        <span class=\"treegrid-indent\"></span>\n        <span class=\"treegrid-expander\"></span>\n        {{categoryForm.get('app.APP_ID').value}}\n      </td>\n      <td [formGroup]=\"categoryForm\">\n        <input class=\"form-control form-control-sm\" type=\"number\" formControlName=\"ORDER\"\n               [readOnly]=\"categoryForm.get('ROW_TYPE').value === 'app' || readonly\">\n      </td>\n      <td *ngIf=\"categoryForm.get('ROW_TYPE').value === 'category'\" >{{categoryForm.get('category.NAME').value}}</td>\n      <td *ngIf=\"categoryForm.get('ROW_TYPE').value === 'app'\" >{{categoryForm.get('app.NAME').value}}</td>\n    </tr>\n    </tbody>\n  </table>\n</div>\n\n<div class=\"modal fade\" id=\"addAppCategory\" tabindex=\"-1\" role=\"dialog\"\n     [ngClass]=\"{'show': isCategoryModalShown}\"\n     [ngStyle]=\"{'display': displayCategoryModal}\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"addAuthObjectTitle\">Add App Category</h5>\n        <button type=\"button\" class=\"close\" (click)=\"closeCategoryModal()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <dk-app-attribute-form2 *ngIf = \"newCategoryForm && categoryAttr\"\n                                [attributeControl]=\"categoryAttr\"\n                                [formGroup]=\"newCategoryForm.get('category')\"\n                                [isSmallSize] = \"true\"\n                                [readonly]=\"false\"\n                                (keyup)=\"enterConfirm($event)\">\n        </dk-app-attribute-form2>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-sm btn-secondary\" (click)=\"closeCategoryModal()\">Cancel</button>\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" (click)=\"confirm()\">Confirm</button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport {ActivatedRouteSnapshot, CanDeactivate, RouterStateSnapshot} from '@angular/router';\nimport { Observable } from 'rxjs';\n\nexport interface CanComponentDeactivate {\n  canDeactivate: () => Observable<boolean> | Promise<boolean> | boolean;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorkProtectionGuard implements CanDeactivate<CanComponentDeactivate>  {\n\n  canDeactivate(component: CanComponentDeactivate,\n                currentRoute: ActivatedRouteSnapshot,\n                currentState: RouterStateSnapshot,\n                nextState?: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    return component.canDeactivate ? component.canDeactivate() : true;\n  }\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormGroup} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, RelationMeta} from 'jor-angular';\n\n@Component({\n  selector: 'app-app-target',\n  templateUrl: './app-target.component.html',\n  styleUrls: ['./app-target.component.css']\n})\nexport class AppTargetComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  appTargetForm: FormGroup;\n\n  constructor(private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.appTargetForm = this.mainForm.get('target') as FormGroup;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'app').ATTRIBUTES);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n}\n","<form class=\"mt-4 ml-2 row\">\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('ROUTE_LINK')\"\n                          [formGroup]=\"appTargetForm\"\n                          [isSmallSize] = \"true\"\n                          [readonly]=\"readonly\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('IS_EXTERNAL')\"\n                          [formGroup]=\"appTargetForm\"\n                          [isSmallSize] = \"true\"\n                          [readonly]=\"readonly\">\n  </dk-app-attribute-form2>\n</form>\n","import { Component, OnInit } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, Entity, EntityService, RelationMeta, Relationship, UiMapperService} from 'jor-angular';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {switchMap} from 'rxjs/operators';\nimport {forkJoin, Observable, of} from 'rxjs';\nimport {DialogService} from '../../dialog.service';\nimport {existingPermissionValidator} from '../../async-validators';\n\n@Component({\n  selector: 'app-permission-detail',\n  templateUrl: './permission-detail.component.html',\n  styleUrls: ['./permission-detail.component.css']\n})\nexport class PermissionDetailComponent implements OnInit {\n  mainForm: FormGroup;\n  relationMetas: RelationMeta[];\n  attrCtrls: AttributeBase[];\n  readonly = true;\n  isNewMode = false;\n  action: string;\n  instanceGUID: string;\n  originalValue = {};\n  operations = [];\n  tabStrip = 1;\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private dialogService: DialogService,\n              private identityService: IdentityService,\n              private attributeControlService: AttributeControlService,\n              private entityService: EntityService,\n              private uiMapperService: UiMapperService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.action = params.get('action');\n        if (this.action === 'new') {\n          this.isNewMode = true;\n          return forkJoin([\n              this.entityService.getRelationMetaOfEntity('permission'),\n              this._createNewEntity()\n            ]);\n        } else {\n          this.isNewMode = false;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('permission'),\n            this.identityService.getPermissionDetail(params.get('permissionName'))\n          ]);\n        }\n      })\n    ).subscribe( data => {\n      this.relationMetas = data[0] as RelationMeta[];\n      this.attrCtrls = this.attributeControlService.toAttributeControl(\n        this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_role').ATTRIBUTES);\n      if ('ENTITY_ID' in data[1]) {\n        this.instanceGUID = data[1]['INSTANCE_GUID'];\n        this._generateMainForm(<Entity>data[1]);\n        if (this.isNewMode || this.action === 'change') {\n          this._switch2EditMode();\n        } else {\n          this._switch2DisplayMode();\n        }\n      } else {\n        const errorMessages = <Message[]>data[1];\n        errorMessages.forEach( msg => this.messageService.add(msg));\n      }\n    });\n  }\n\n  return2List(): void {\n    this.router.navigate(['permissions']);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  switchEditDisplay(): void {\n    if (this.readonly ) {\n      this._switch2EditMode();\n    } else {\n      if (this.mainForm.dirty) {\n        this.dialogService.confirm('Discard changes?').subscribe(confirm => {\n          if (confirm) {\n            this.mainForm.reset(this.originalValue);\n            this._switch2DisplayMode();\n          }\n        });\n      } else {\n        this._switch2DisplayMode();\n      }\n    }\n    this.messageService.clearMessages();\n  }\n\n  _switch2DisplayMode(): void {\n    this.readonly = true;\n\n    const permissionNameCtrl = this.mainForm.get('NAME') as FormControl;\n    permissionNameCtrl.clearAsyncValidators();\n\n    this.mainForm.markAsPristine();\n    // Replace the URL from change to display\n    window.history.replaceState({}, '', `/permissions/${permissionNameCtrl.value};action=display`);\n  }\n\n  _switch2EditMode(): void {\n    this.readonly = false;\n\n    const permissionNameCtrl = this.mainForm.get('NAME') as FormControl;\n    if (this.isNewMode) {\n      permissionNameCtrl.setAsyncValidators(\n        existingPermissionValidator(this.identityService, this.messageService));\n    }\n\n    // Replace the URL from to display\n    if (this.action === 'display') {this.action = 'change'; }\n    window.history.replaceState({}, '', `/permissions/${permissionNameCtrl.value};action=` + this.action);\n  }\n\n  _createNewEntity(): Observable<Entity> {\n    const permissionDetail = new Entity();\n    permissionDetail.ENTITY_ID = 'permission';\n    permissionDetail['permission'] = [\n      { DESCR: '', CREATED_BY: '', CREATE_TIME: '', CHANGED_BY: '', CHANGE_TIME: '' }\n    ];\n    permissionDetail['r_role'] = [\n      { NAME: '', DESCRIPTION: '' }\n    ];\n    permissionDetail['relationships'] = [];\n    return of(permissionDetail);\n  }\n\n  _generateMainForm(data: Entity): void {\n    this.mainForm = this.fb.group({\n      NAME: [data['r_role'][0]['NAME'], [Validators.required]],\n      DESCRIPTION: [data['r_role'][0]['DESCRIPTION']],\n      admin: this.fb.group({\n        CREATED_BY: [data['permission'][0]['CREATED_BY']],\n        CREATE_TIME: [data['permission'][0]['CREATE_TIME']],\n        CHANGED_BY: [data['permission'][0]['CHANGED_BY']],\n        CHANGE_TIME: [data['permission'][0]['CHANGE_TIME']]\n      })\n    });\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.mainForm.addControl('categories', this.fb.array(\n      parsedRelationship.categories.map( category => {\n        const categoryCtrl =  this.fb.group({\n          CHECKED: category.CHECKED,\n          COLLAPSED: category.COLLAPSED,\n          ROW_TYPE: category.ROW_TYPE,\n          RELATIONSHIP_INSTANCE_GUID: category.RELATIONSHIP_INSTANCE_GUID,\n          app_category_INSTANCE_GUID: category.app_category_INSTANCE_GUID,\n          auth_profile_INSTANCE_GUID: category.auth_profile_INSTANCE_GUID,\n          ORDER: category.ORDER\n        });\n\n        categoryCtrl.addControl('category', this.fb.group({\n          ID: category.category.ID,\n          NAME: category.category.NAME,\n          ICON: category.category.ICON\n          }));\n\n        if (category.profile) {\n          categoryCtrl.addControl('profile', this.fb.group({\n            PROFILE_NAME: category.profile.PROFILE_NAME,\n            DESC: category.profile.DESC,\n            CHANGE_TIME: category.profile.CHANGE_TIME,\n            authorizations: category.profile.authorizations ?\n              this.fb.array(category.profile.authorizations.map( authorization => this.fb.group(authorization) )) : ''\n          }));\n        }\n\n        if (category.app) {\n          categoryCtrl.addControl('app', this.fb.group({\n            APP_ID: category.app.APP_ID,\n            NAME: category.app.NAME\n          }));\n        }\n\n        return categoryCtrl;\n      })));\n    this.mainForm.addControl('users', this.fb.array(\n      parsedRelationship.users.map( user => this.fb.group(user))));\n    this.originalValue = this.mainForm.getRawValue();\n  }\n\n  _parseRelationships( relationships: Relationship[] ): any {\n    const parsedRelationship = {\n      users: [],\n      categories: []\n    };\n    if (!relationships) { return parsedRelationship; }\n    relationships.forEach( relationship => {\n      switch (relationship.RELATIONSHIP_ID) {\n        case 'rs_role_category_profile':\n          __parseRoleCategoryProfile(relationship, this);\n          break;\n        case 'rs_user_role':\n          __parseRoleUsers(relationship);\n          break;\n        default:\n        // Do nothing.\n      }\n    });\n    return parsedRelationship;\n\n    function __parseRoleCategoryProfile( relationship: Relationship, context: any): void {\n      const categories = relationship.values.sort( (a, b) => a.ORDER - b.ORDER);\n      categories.forEach( value => {\n        const appCategoryInstance = value.PARTNER_INSTANCES.find(\n          partnerInstance => partnerInstance.ROLE_ID === 'app_category');\n        const authProfileInstance = value.PARTNER_INSTANCES.find(\n          partnerInstance => partnerInstance.ROLE_ID === 'auth_profile');\n        parsedRelationship.categories.push({\n          CHECKED: '',\n          COLLAPSED: false,\n          ROW_TYPE: 'category',\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          app_category_INSTANCE_GUID: appCategoryInstance.INSTANCE_GUID,\n          auth_profile_INSTANCE_GUID: authProfileInstance.INSTANCE_GUID,\n          ORDER: value['ORDER'],\n          category: {\n            ID: appCategoryInstance['r_app_category'][0]['ID'],\n            NAME: appCategoryInstance['r_app_category'][0]['NAME'],\n            ICON: appCategoryInstance['r_app_category'][0]['ICON']\n          },\n          profile: {\n            PROFILE_NAME: authProfileInstance['authProfile'][0]['PROFILE_NAME'],\n            DESC: authProfileInstance['authProfile'][0]['DESC'],\n            CHANGE_TIME: authProfileInstance['authProfile'][0]['CHANGE_TIME'],\n            authorizations: context.identityService.parseProfileAuthObject(authProfileInstance.relationships[0])\n          }\n        });\n        const rsAppCategory = appCategoryInstance['relationships'][0];\n        rsAppCategory.values.forEach( value2 => {\n          parsedRelationship.categories.push({\n            CHECKED: '',\n            COLLAPSED: false,\n            ROW_TYPE: 'app',\n            RELATIONSHIP_INSTANCE_GUID: value2['RELATIONSHIP_INSTANCE_GUID'],\n            app_category_INSTANCE_GUID: '',\n            auth_profile_INSTANCE_GUID: '',\n            ORDER: value2['ORDER'],\n            category: {\n              ID: appCategoryInstance['r_app_category'][0]['ID'],\n              NAME: appCategoryInstance['r_app_category'][0]['NAME'],\n              ICON: appCategoryInstance['r_app_category'][0]['ICON']\n            },\n            app: {\n              APP_ID: value2['PARTNER_INSTANCES'][0]['app'][0]['APP_ID'],\n              NAME: value2['PARTNER_INSTANCES'][0]['app'][0]['NAME'],\n            }\n          });\n        });\n      });\n    }\n\n    function __parseRoleUsers( relationship: Relationship): void {\n      relationship.values.forEach( value => {\n        parsedRelationship.users.push( {\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          SYNCED: value['SYNCED'],\n          INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n          USER_ID: value['PARTNER_INSTANCES'][0]['r_user'][0]['USER_ID'],\n          USER_NAME: value['PARTNER_INSTANCES'][0]['r_user'][0]['USER_NAME']\n        });\n      });\n    }\n  }\n\n  _resetValue(data: Entity): void {\n    this.originalValue = {\n      NAME: data['r_role'][0]['NAME'],\n      DESCRIPTION: data['r_role'][0]['DESCRIPTION'],\n      admin: {\n        CREATED_BY: data['permission'][0]['CREATED_BY'],\n        CREATE_TIME: data['permission'][0]['CREATE_TIME'],\n        CHANGED_BY: data['permission'][0]['CHANGED_BY'],\n        CHANGE_TIME: data['permission'][0]['CHANGE_TIME']\n      }\n    };\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.originalValue['categories'] = parsedRelationship.categories;\n    this.originalValue['users'] = parsedRelationship.users;\n    this.mainForm.reset(this.originalValue);\n  }\n\n  save() {\n    this.messageService.clearMessages();\n    if (this._composeChanges()) {\n      console.log(this.operations);\n      this.identityService.orchestrate(this.operations).subscribe( results => {\n        this.operations = [];\n        results.forEach( result => {\n          if (result.msgType) {\n            this.messageService.add(<Message>result);\n          } else if (result.instance && result.instance.ENTITY_ID === 'permission') {\n            this.instanceGUID = result.instance.INSTANCE_GUID;\n            this.isNewMode = false;\n            const permissionName = this.mainForm.get('NAME').value;\n            this.identityService.getPermissionDetail(permissionName).subscribe(instance => {\n              if ('ENTITY_ID' in instance) {\n                this._switch2DisplayMode();\n                // this._resetValue(<Entity>instance);\n                this._generateMainForm(<Entity>instance);\n              } else {\n                const errorMessages = <Message[]>instance;\n                errorMessages.forEach( msg => this.messageService.add(msg));\n              }\n            });\n            this.messageService.reportMessage('PERMISSION', 'SAVED', 'S', permissionName);\n          }\n        });\n      });\n    }\n  }\n\n  _composeChanges() {\n    if (this.mainForm.invalid) {\n      this.messageService.reportMessage('PERMISSION', 'INVALID', 'E');\n      return false;\n    }\n\n    if (this.mainForm.dirty === false) {\n      this.messageService.reportMessage('GENERAL', 'NO_CHANGE', 'W');\n      return false;\n    }\n\n    const changedValue = {};\n    changedValue['ENTITY_ID'] = 'permission';\n    changedValue['INSTANCE_GUID'] = this.instanceGUID;\n    if (this.isNewMode) {\n      changedValue['permission'] = {\n        action: 'add', DESCR: this.mainForm.get('DESCRIPTION'),\n        CREATED_BY: this.identityService.Session.USER_ID, CREATE_TIME: this.identityService.CurrentTime,\n        CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n      changedValue['r_role'] = {\n        action: 'add', NAME: this.mainForm.get('NAME'),\n        DESCRIPTION: this.mainForm.get('DESCRIPTION')\n      };\n    }\n\n    changedValue['permission'] = {\n      action: 'update', CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n\n    if (this.mainForm.get('DESCRIPTION').dirty) {\n      changedValue['permission']['DESCR'] = this.mainForm.get('DESCRIPTION');\n      changedValue['r_role'] = {\n        action: 'update',  DESCRIPTION: this.mainForm.get('DESCRIPTION') };\n    }\n\n    const categoryFormArray = this.mainForm.get('categories') as FormArray;\n    categoryFormArray.controls.forEach( ctrl => {\n      if (ctrl.get('ROW_TYPE').value === 'category') {\n        if (ctrl.get('RELATIONSHIP_INSTANCE_GUID').value) { // Change an existing profile\n          if (ctrl.get('profile.authorizations').pristine) { return; }\n          const originalProfile = this.originalValue['categories'].find(\n            category => category.RELATIONSHIP_INSTANCE_GUID === ctrl.get('RELATIONSHIP_INSTANCE_GUID').value);\n          this.operations.push({\n            action: 'changeInstance', noCommit: true,\n            instance: {\n              ENTITY_ID: 'authProfile',\n              INSTANCE_GUID: ctrl.get('auth_profile_INSTANCE_GUID').value,\n              authProfile: {action: 'update', CHANGED_BY: this.identityService.Session.USER_ID,\n                CHANGE_TIME: this.identityService.CurrentTime},\n              relationships: [\n                this.identityService.composeAuthChanges(<FormArray>ctrl.get('profile.authorizations'),\n                  originalProfile.authorizations, 'rs_auth_profile_object')\n              ]}\n          });\n        } else { // Add a new profile\n          this.operations.push({\n            action: 'createInstance', noCommit: true,\n            instance: {\n              ENTITY_ID: 'authProfile',\n              INSTANCE_GUID: ctrl.get('auth_profile_INSTANCE_GUID').value,\n              authProfile: {action: 'add', PROFILE_NAME: ctrl.get('profile.PROFILE_NAME').value,\n                DESC: ctrl.get('profile.DESC').value,\n                CREATED_BY: this.identityService.Session.USER_ID, CREATE_TIME: this.identityService.CurrentTime,\n                CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime},\n              relationships: [\n                this.identityService.composeAuthChanges(<FormArray>ctrl.get('profile.authorizations'),\n                  [], 'rs_auth_profile_object')\n              ]\n            }\n          });\n        }\n      } else { // ROW_TYPE = app\n        ctrl.markAsPristine({onlySelf: true});\n      }\n    });\n\n    changedValue['relationships'] = [];\n    const rsCategory = this.uiMapperService.composeChangedRelationship(\n      'rs_role_category_profile',\n      [\n        {ENTITY_ID: 'category', ROLE_ID: 'app_category'},\n        {ENTITY_ID: 'authProfile', ROLE_ID: 'auth_profile'}],\n      categoryFormArray,\n      this.originalValue['categories'].filter( category => category.ROW_TYPE === 'category'),\n      ['CHECKED', 'COLLAPSED', 'ROW_TYPE', 'category', 'profile', 'app']);\n\n    const newCategoryIndex = [];\n    if (rsCategory) {\n      rsCategory['values'].forEach( (value, index) => {\n        if (value.PARTNER_INSTANCES) {\n          value.PARTNER_INSTANCES[1].NO_EXISTING_CHECK = true;\n          newCategoryIndex.push(index);\n        }\n      });\n      changedValue['relationships'].push(rsCategory);\n    }\n\n    const newProfilesIndex = [];\n    this.operations.forEach( (operation, index) => {\n      if (operation.action === 'createInstance') { newProfilesIndex.push(index); }\n    });\n    this.operations.push({\n      action: this.isNewMode ? 'createInstance' : 'changeInstance', noCommit: true,\n      replacements: newProfilesIndex.map( (idx, index) => {\n        return {\n          movePath: [idx, 'result', 'instance', 'INSTANCE_GUID'],\n            toPath: ['relationships', 0, 'values', newCategoryIndex[index], 'PARTNER_INSTANCES', 1, 'INSTANCE_GUID']\n        };\n      }),\n      instance: changedValue\n    });\n\n    // Find the deleted categories, and also trigger the deletion of the corresponding profiles\n    this.originalValue['categories'].forEach( category => {\n      if (category.ROW_TYPE === 'app') { return; }\n      const idx = categoryFormArray.controls.findIndex(\n        ctrl => ctrl.get('RELATIONSHIP_INSTANCE_GUID').value === category.RELATIONSHIP_INSTANCE_GUID);\n      if (idx === -1) {\n        this.operations.push({\n          action: 'softDeleteInstanceByGUID',\n          instance: {INSTANCE_GUID: category.auth_profile_INSTANCE_GUID}\n        });\n        this.operations.push({\n          action: 'hardDeleteByGUID',\n          instance: {INSTANCE_GUID: category.auth_profile_INSTANCE_GUID}\n        });\n      }\n    });\n\n    return true;\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    if (this.isNewMode || (this.mainForm && this.mainForm.dirty)) {\n      return this.dialogService.confirm('Discard changes?');\n    } else {\n      return true;\n    }\n  }\n}\n","<nav class=\"navbar dk-fixed-top navbar-light bg-light\">\n  <div>\n    <span class=\"font-weight-bold mb-0 mx-1\">{{isNewMode? 'New Permission' : readonly? 'Display Permission' : 'Change Permission'}}</span>\n  </div>\n\n  <div class=\"flex-row-reverse\">\n    <button class=\"btn btn-sm btn-outline-info mr-2\" type=\"button\" title=\"Return to List\" id=\"toList\"\n            (click)=\"return2List()\" >\n      <span class=\"fas fa-list-ul\"> To List</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Edit/Display\" id=\"editDisplay\" (click)=\"switchEditDisplay()\">\n      <span *ngIf=\"readonly\" class=\"fas fa-edit\"> Edit</span>\n      <span *ngIf=\"!readonly\" class=\"fas fa-glasses\"> Display</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Save\" id=\"save\" (click)=\"save()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-save\"> Save</span>\n    </button>\n  </div>\n</nav>\n\n<div class=\"mt-2 mb-2\">\n  <dk-message></dk-message>\n</div>\n\n<div *ngIf=\"mainForm\" class=\"ml-2\">\n  <div class=\"mt-2 ml-1 row\">\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('NAME')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('DESCRIPTION')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n  </div>\n\n  <ul class=\"nav nav-tabs mt-1\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(1)\">APP Category</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===2\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(2)\">Profile</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===3\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(3)\">User</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===4\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(4)\">Admin</a>\n    </li>\n  </ul>\n\n  <div class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n    <app-permission-detail-category *ngSwitchCase=\"1\" [mainForm]=\"mainForm\" [readonly]=\"readonly\">\n    </app-permission-detail-category>\n    <app-permission-detail-profile *ngSwitchCase=\"2\" [mainForm]=\"mainForm\"  [readonly]=\"readonly\">\n    </app-permission-detail-profile>\n    <app-permission-detail-user *ngSwitchCase=\"3\" [mainForm]=\"mainForm\" [readonly]=\"readonly\">\n    </app-permission-detail-user>\n    <app-admin-info *ngSwitchCase=\"4\" [mainForm]=\"mainForm\" [relationMetas]=\"relationMetas\" [adminRelation]=\"'permission'\">\n    </app-admin-info>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormArray, FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {AttributeBase, AttributeControlService, RelationMeta} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-address',\n  templateUrl: './user-address.component.html',\n  styleUrls: ['./user-address.component.css']\n})\nexport class UserAddressComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  userAddressFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.userAddressFormArray = this.userForm.get('addresses') as FormArray;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_address').ATTRIBUTES);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  addAddress() {\n    const addressFormGroup = this.fb.group({\n      ADDRESS_ID: [''],\n      TYPE: ['', [Validators.required]],\n      ADDRESS_VALUE: ['', [Validators.required]],\n      POSTCODE: [''],\n      CITY: [''],\n      COUNTRY: [''],\n      PRIMARY: []\n    });\n    if (this.userAddressFormArray.length === 0) {\n      addressFormGroup.get('PRIMARY').setValue(1);\n      addressFormGroup.get('PRIMARY').markAsDirty();\n    }\n    this.userAddressFormArray.push(addressFormGroup);\n  }\n\n  deleteAddress(index: number) {\n    if (this.userAddressFormArray.length > 1 &&\n        this.userAddressFormArray.at(index).value['PRIMARY']) {\n      const newPrimaryIndex = index === 0 ? 1 : 0;\n      this.userAddressFormArray.at(newPrimaryIndex).get('PRIMARY').setValue(1);\n      this.userAddressFormArray.at(newPrimaryIndex).get('PRIMARY').markAsDirty();\n    }\n    this.userAddressFormArray.removeAt(index);\n    this.userAddressFormArray.markAsDirty();\n  }\n}\n","<div class=\"card mt-4\">\n  <div class=\"card-body\">\n    <div *ngFor=\"let userAddressForm of userAddressFormArray.controls; let i = index\" class=\"card mb-4\">\n      <button type=\"button\" id=\"remove\" class=\"close d-flex justify-content-end mr-2\" aria-label=\"Close\"\n              (click)=\"deleteAddress(i)\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <div class=\"card-body row\" [formGroup]=\"userAddressForm\">\n        <dk-app-attribute-form2 class=\"col-3\"\n                                [attributeControl]=\"getAttrCtrlFromID('TYPE')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n        <dk-app-attribute-form2 class=\"col-6\"\n                                [attributeControl]=\"getAttrCtrlFromID('ADDRESS_VALUE')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n        <div class=\"col-1 row form-group mr-2 form-check\">\n          <input type=\"radio\"  id=\"primaryAddress\" [value]=\"1\" class=\"form-check-input\"\n                 name=\"PRIMARY\" formControlName=\"PRIMARY\">\n          <label for=\"primaryAddress\" class=\"form-check-label\">Primary</label>\n        </div>\n        <dk-app-attribute-form2 class=\"col-md-3\"\n                                [attributeControl]=\"getAttrCtrlFromID('POSTCODE')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n        <dk-app-attribute-form2 class=\"col-md-3\"\n                                [attributeControl]=\"getAttrCtrlFromID('CITY')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n        <dk-app-attribute-form2 class=\"col-md-3\"\n                                [attributeControl]=\"getAttrCtrlFromID('COUNTRY')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n      </div>\n    </div>\n    <button type=\"button\" id=\"add\" class=\"btn btn-sm btn-primary float-right\" [disabled]=\"readonly\" (click)=\"addAddress()\">Add</button>\n  </div>\n</div>\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {IdentityService} from '../../../identity.service';\nimport {SearchHelpComponent} from 'jor-angular';\n\n@Component({\n  selector: 'app-user-role',\n  templateUrl: './user-role.component.html',\n  styleUrls: ['./user-role.component.css']\n})\nexport class UserRoleComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  userRoleFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private identityService: IdentityService) { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n\n  ngOnInit() {\n    this.userRoleFormArray = this.userForm.get('userRole') as FormArray;\n    // Recheck each role since every time the template is initialized, Angular clears the error status.\n    if (!this.readonly) {\n      this.userRoleFormArray.controls.forEach( (ctrl, index) => {\n        this.onChangeRoleID(index);\n      });\n    }\n  }\n\n  deleteRole(index: number): void {\n    if (index !== this.userRoleFormArray.length - 1) {\n      this.userRoleFormArray.removeAt(index);\n      this.userRoleFormArray.markAsDirty();\n    }\n  }\n\n  onChangeRoleID(index: number): void {\n    const currentRole = this.userRoleFormArray.at(index);\n    if (this.oldRole(currentRole)) {\n      currentRole.get('NAME').setErrors({message: 'Duplicate Role'});\n      return;\n    }\n\n    if (index === this.userRoleFormArray.length - 1 && currentRole.value.NAME.trim() !== '') {\n      // Only work if the last line is not new and empty\n      this.userRoleFormArray.push(\n        this.fb.group({\n          NAME: [''],\n          DESCRIPTION: [''],\n          system_role_INSTANCE_GUID: [''],\n          RELATIONSHIP_INSTANCE_GUID: ['']\n        })\n      );\n    }\n\n    if (currentRole.value.NAME) {\n      this.identityService.getRoleDesc(currentRole.value.NAME).subscribe(data => {\n        if (data['msgCat']) {\n          currentRole.get('NAME').setErrors({message: data['msgShortText']});\n        } else {\n          currentRole.get('DESCRIPTION').setValue(data['DESCRIPTION']);\n          currentRole.get('system_role_INSTANCE_GUID').setValue(data['INSTANCE_GUID']);\n        }\n      });\n    }\n  }\n\n  oldRole(userRoleForm: AbstractControl): boolean {\n    const existIndex = this.userRoleFormArray.controls.findIndex(\n      role => role.value.NAME === userRoleForm.value.NAME && role.pristine && role.value.NAME !== '');\n    return existIndex !== -1 ;\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, roleIdx: number) {\n      return () => context.onChangeRoleID(roleIdx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalBySearchHelp('ROLE', 'NAME', 'NAME',\n      exportObject, this.readonly || this.oldRole(exportObject) && exportObject.valid, afterExportFn);\n  }\n\n}\n","<table class=\"table table-sm table-bordered dk-table ml-3 mt-4\" [formGroup]=\"userForm\">\n  <thead class=\"thead-light dk-form-label\">\n    <tr>\n      <th class=\"dk-name\">Role</th>\n      <th class=\"dk-description\">Description</th>\n      <th class=\"dk-actions\">Action</th>\n    </tr>\n  </thead>\n\n  <tbody formArrayName=\"userRole\" class=\"mb-4\">\n    <tr *ngFor=\"let userRoleForm of userRoleFormArray.controls; let i = index\">\n      <td [formGroup]=\"userRoleForm\">\n        <div class=\"input-group\">\n          <input class=\"form-control form-control-sm\" type=\"text\" formControlName=\"NAME\" name=\"roleName\"\n               [readonly]=\"readonly || oldRole(userRoleForm) && userRoleForm.valid\" (change)=\"onChangeRoleID(i)\">\n          <div class=\"invalid-tooltip\">\n            {{userRoleForm.get('NAME').errors?.message}}\n          </div>\n          <div class=\"input-group-append\">\n            <button class=\"btn btn-sm btn-outline-secondary btn-light\" type=\"button\" id=\"searchPermission\"\n            (click)=\"onSearchHelp(i, userRoleForm)\">\n              <span class=\"fas fa-search\"></span>\n            </button>\n          </div>\n        </div>\n      </td>\n      <td [formGroup]=\"userRoleForm\" >\n        <input type=\"text\" formControlName=\"DESCRIPTION\" readonly class=\"form-control form-control-sm\">\n      </td>\n      <td>\n        <button class=\"btn btn-sm\" type=\"button\" id=\"delete\" [disabled]=\"readonly\" (click)=\"deleteRole(i)\" title=\"Delete\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<dk-app-search-help></dk-app-search-help>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  redirectPath: '',\n  redirectUrl: '/landing',\n  originalHost: 'http://localhost:3000'\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {Component, Input, OnChanges, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {Attribute, AttributeBase, AttributeControlService, EntityService, SearchHelpComponent} from 'jor-angular';\nimport {AuthValueComponent} from './auth-value/auth-value.component';\nimport {IdentityService} from '../identity.service';\nimport {Message, MessageService} from 'ui-message-angular';\n\n@Component({\n  selector: 'app-authorization',\n  templateUrl: './authorization.component.html',\n  styleUrls: ['./authorization.component.css']\n})\nexport class AuthorizationComponent implements OnInit, OnChanges {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  @Input() ctrlName: string;\n  authObjFormArray: FormArray;\n  currentAuthFieldValueForm: FormGroup;\n  newAuthFieldValueForm: FormGroup;\n  isAuthValueModalShown = false;\n  isAuthObjectModalShown = false;\n  selectAll = false;\n  nodeID = 0;\n  authObjAttr: AttributeBase;\n  get displayAuthValueModal() {return this.isAuthValueModalShown ? 'block' : 'none'; }\n  get displayAuthObjectModal() {return this.isAuthObjectModalShown ? 'block' : 'none'; }\n\n  constructor( private fb: FormBuilder,\n               private identityService: IdentityService,\n               private entityService: EntityService,\n               private messageService: MessageService,\n               private attributeControlService: AttributeControlService ) { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n  @ViewChild(AuthValueComponent, { static: true})\n  private authValueComponent: AuthValueComponent;\n\n  ngOnInit() {\n  }\n\n  ngOnChanges() {\n    if (!this.mainForm) { return; }\n    this.authObjFormArray = <FormArray>this.mainForm.get(this.ctrlName);\n    this.authObjFormArray.controls.forEach( ctrl => {\n      if (ctrl.get('ROW_TYPE').value === 'FIELD') { ctrl.get('CHECKED').disable(); }\n    });\n  }\n\n  checkAll(): void {\n    this.authObjFormArray.controls.forEach( authObjCtrl => authObjCtrl.get('CHECKED').setValue(!this.selectAll));\n    this.selectAll = !this.selectAll;\n  }\n\n  checkAuthObject(idx: number): void {\n    const currentAuthObjCtrl = this.authObjFormArray.at(idx);\n    this.authObjFormArray.controls.forEach( (authObjCtrl, index) => {\n      if (index <= idx) { return; }\n      if (authObjCtrl.get('NODE_ID').value === currentAuthObjCtrl.get('NODE_ID').value) {\n        authObjCtrl.get('CHECKED').setValue(!currentAuthObjCtrl.get('CHECKED').value);\n      }\n    });\n  }\n\n  add(): void {\n    this.newAuthFieldValueForm = this.fb.group({\n      CHECKED: '',\n      COLLAPSED: false,\n      NODE_ID: ++this.nodeID,\n      STATUS: 'red',\n      RELATIONSHIP_INSTANCE_GUID: '',\n      auth_object_INSTANCE_GUID: '',\n      AUTH_VALUE: '',\n      OBJ_NAME: '',\n      DESC: '',\n      ROW_TYPE: 'OBJECT',\n      FIELD_NAME: '',\n      DATA_ELEMENT: ''\n    });\n    if (!this.authObjAttr) {\n      this.entityService.getElementMeta('AUTH_OBJ_NAME')\n        .subscribe(elementMeta => {\n          const attribute = <Attribute>elementMeta;\n          attribute.ATTR_GUID = elementMeta.ELEMENT_ID;\n          attribute.ATTR_NAME = elementMeta.ELEMENT_ID;\n          attribute.DATA_ELEMENT = elementMeta.ELEMENT_ID;\n          this.authObjAttr = this.attributeControlService.toSingleAttributeControl(attribute);\n          this.authObjAttr.name = 'OBJ_NAME';\n        });\n    }\n    this.isAuthObjectModalShown = true;\n  }\n\n  closeAuthObjectModal(): void {\n    this.isAuthObjectModalShown = false;\n  }\n\n  addAuthObject(): void {\n    const authObjName = this.newAuthFieldValueForm.get('OBJ_NAME').value;\n    this.identityService.getAuthObjectDetail(authObjName)\n      .subscribe( data => {\n        if ('ENTITY_ID' in data) {\n          this.newAuthFieldValueForm.get('auth_object_INSTANCE_GUID').setValue(data['INSTANCE_GUID']);\n          this.newAuthFieldValueForm.get('DESC').setValue(data['authObject'][0]['DESC']);\n          this.authObjFormArray.push(this.newAuthFieldValueForm);\n          data['relationships'][0].values.forEach( value => {\n            this.authObjFormArray.push(this.fb.group({\n              CHECKED: [{value: '', disabled: true}],\n              COLLAPSED: false,\n              NODE_ID: this.nodeID,\n              STATUS: 'red',\n              RELATIONSHIP_INSTANCE_GUID: '',\n              auth_object_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n              AUTH_VALUE: '',\n              OBJ_NAME: authObjName,\n              DESC: this.newAuthFieldValueForm.get('DESC').value,\n              ROW_TYPE: 'FIELD',\n              FIELD_NAME: value['PARTNER_INSTANCES'][0]['authField'][0]['FIELD_NAME'],\n              DATA_ELEMENT: value['PARTNER_INSTANCES'][0]['authField'][0]['DATA_ELEMENT']\n            }));\n          });\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n        }\n        this.isAuthObjectModalShown = false;\n      });\n  }\n\n  delete(): void {\n    let index = this.authObjFormArray.controls.findIndex( authObjCtrl => authObjCtrl.get('CHECKED').value);\n    while ( index !== -1) {\n      this.authObjFormArray.removeAt(index);\n      this.authObjFormArray.markAsDirty();\n      index = this.authObjFormArray.controls.findIndex( authObjCtrl => authObjCtrl.get('CHECKED').value);\n    }\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, rowIDx: number) {\n      return () => context.onChangeCategory(rowIDx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalByEntity('authObject', 'authObject',\n      exportObject, this.readonly, null, null, afterExportFn);\n  }\n\n  expendCollapse(idx: number): void {\n    const currentCtrl = this.authObjFormArray.at(idx);\n    const parentNode = currentCtrl.get('NODE_ID').value;\n    this.authObjFormArray.controls.forEach( appAuthObjCtrl => {\n      if (appAuthObjCtrl.get('NODE_ID').value === parentNode ) {\n        appAuthObjCtrl.get('COLLAPSED').setValue(!appAuthObjCtrl.get('COLLAPSED').value);\n      }\n    });\n  }\n\n  openAuthValueModal(idx: number): void {\n    this.isAuthValueModalShown = true;\n    this.currentAuthFieldValueForm = <FormGroup>this.authObjFormArray.at(idx);\n  }\n\n  addAuthValue(): void {\n    if ( this.authValueComponent.generateAuthValue() ) {\n      this._coordinateStatus(this.currentAuthFieldValueForm);\n      this.isAuthValueModalShown = false;\n    }\n  }\n\n  setFullPermission(idx: number): void {\n    const currentAuthObjForm = this.authObjFormArray.at(idx);\n    if (currentAuthObjForm.get('STATUS').value === 'green') { return; }\n\n    if (currentAuthObjForm.get('ROW_TYPE').value === 'OBJECT') {\n      currentAuthObjForm.get('STATUS').setValue('green');\n      this.authObjFormArray.controls.forEach( appAuthObjForm => {\n        if (appAuthObjForm.get('NODE_ID').value === currentAuthObjForm.get('NODE_ID').value &&\n            appAuthObjForm.get('ROW_TYPE').value === 'FIELD') {\n          appAuthObjForm.get('AUTH_VALUE').setValue('\"*\"');\n          appAuthObjForm.get('AUTH_VALUE').markAsDirty();\n          appAuthObjForm.get('STATUS').setValue('green');\n        }\n      });\n    } else { // Field\n      currentAuthObjForm.get('AUTH_VALUE').setValue('\"*\"');\n      currentAuthObjForm.get('AUTH_VALUE').markAsDirty();\n      currentAuthObjForm.get('STATUS').setValue('green');\n      this._coordinateStatus(currentAuthObjForm);\n    }\n  }\n\n  _coordinateStatus(appAuthObjForm: AbstractControl): void {\n    const parentAuthObjectCtrl = this.authObjFormArray.controls.find( ctrl =>\n      ctrl.get('ROW_TYPE').value === 'OBJECT' &&\n      ctrl.get('NODE_ID').value === appAuthObjForm.get('NODE_ID').value);\n    if (this.authObjFormArray.controls.findIndex( ctrl => ctrl.get('ROW_TYPE').value === 'FIELD' &&\n      ctrl.get('NODE_ID').value === appAuthObjForm.get('NODE_ID').value &&\n      ctrl.get('STATUS').value === 'red') === -1) {\n      parentAuthObjectCtrl.get('STATUS').setValue('green');\n    } else {\n      if (this.authObjFormArray.controls.findIndex( ctrl => ctrl.get('ROW_TYPE').value === 'FIELD' &&\n        ctrl.get('NODE_ID').value === appAuthObjForm.get('NODE_ID').value &&\n        ctrl.get('STATUS').value === 'green') === -1) {\n        parentAuthObjectCtrl.get('STATUS').setValue('red');\n      } else {\n        parentAuthObjectCtrl.get('STATUS').setValue('yellow');\n      }\n    }\n  }\n}\n","<div class=\"dk-auth-main mx-3\">\n<div class=\"btn-toolbar justify-content-end\" role=\"toolbar\">\n  <button type=\"button\" id=\"remove-object\" class=\"btn btn-light btn-sm\" (click)=\"delete()\" [disabled]=\"readonly\">\n    <span class=\"fas fa-minus\"></span> Remove</button>\n  <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"add()\" [disabled]=\"readonly\">\n    <span class=\"fas fa-plus\"></span> Add</button>\n</div>\n<table *ngIf=\"mainForm\"\n  class=\"table table-bordered table-sm dk-table\" [formGroup]=\"mainForm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th class=\"dk-checkbox\"><input name=\"btSelectAll\" type=\"checkbox\" (click)=\"checkAll()\"></th>\n    <th class=\"dk-auth-object\">Authorization Object / Field</th>\n    <th class=\"dk-auth-status\">Status</th>\n    <th class=\"dk-auth-value\">Description / Authorization Value</th>\n  </tr>\n  </thead>\n\n  <tbody>\n  <tr *ngFor=\"let authObjForm of authObjFormArray.controls; let i = index\" class=\"treegrid-expanded\"\n      [class.collapsed]=\"authObjForm.get('ROW_TYPE').value === 'FIELD' && authObjForm.get('COLLAPSED').value\">\n    <td class=\"dk-checkbox\" [formGroup]=\"authObjForm\">\n      <input class=\"form-control form-control-sm\" type=\"checkbox\" formControlName=\"CHECKED\" (click)=\"checkAuthObject(i)\">\n    </td>\n    <td *ngIf=\"authObjForm.get('ROW_TYPE').value === 'OBJECT'\" >\n      <span [ngClass]=\"{'treegrid-expander-expanded': !authObjForm.get('COLLAPSED').value,\n            'treegrid-expander-collapsed': authObjForm.get('COLLAPSED').value}\"\n            class=\"treegrid-expander\" (click)=\"expendCollapse(i)\">\n      </span>{{authObjForm.get('OBJ_NAME').value}}\n    </td>\n    <td *ngIf=\"authObjForm.get('ROW_TYPE').value === 'FIELD'\" >\n      <span class=\"treegrid-indent\"></span>\n      <span class=\"treegrid-expander\"></span>\n      {{authObjForm.get('FIELD_NAME').value}}\n    </td>\n\n    <td>\n      <button class=\"btn btn-sm\" type=\"button\" id=\"add\" [disabled]=\"readonly\" (click)=\"setFullPermission(i)\" title=\"Full Permission\">\n        <span [ngClass]=\"{'green-light': authObjForm.get('STATUS').value === 'green',\n                          'yellow-light': authObjForm.get('STATUS').value  === 'yellow',\n                          'red-light': authObjForm.get('STATUS').value  === 'red'}\"\n          class=\"traffic-light\"></span>\n      </button>\n    </td>\n\n    <td *ngIf=\"authObjForm.get('ROW_TYPE').value === 'OBJECT'\">{{authObjForm.get('DESC').value}}</td>\n    <td *ngIf=\"authObjForm.get('ROW_TYPE').value === 'FIELD'\">\n      <a class=\"nav-link\" href=\"javascript:void(0);\" (click)=\"openAuthValueModal(i)\">\n        {{authObjForm.get('AUTH_VALUE').value? authObjForm.get('AUTH_VALUE').value\n        : 'Click to maintain'}}</a>\n    </td>\n  </tr>\n  </tbody>\n</table>\n</div>\n\n<div class=\"modal fade\" id=\"maintainAuthValueDialog\" tabindex=\"-1\" role=\"dialog\"\n     [ngClass]=\"{'show': isAuthValueModalShown}\"\n     [ngStyle]=\"{'display': displayAuthValueModal}\">\n  <div class=\"modal-dialog modal-lg\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"maintainAuthValueDialogTitle\">Maintain Authorization Value</h5>\n      </div>\n      <div class=\"modal-body\">\n        <dk-message></dk-message>\n        <app-auth-value [authFieldValueForm]=\"currentAuthFieldValueForm\" [readonly]=\"readonly\" ></app-auth-value>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" (click)=\"addAuthValue()\">OK</button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"modal fade\" id=\"addAuthObject\" tabindex=\"-1\" role=\"dialog\"\n     [ngClass]=\"{'show': isAuthObjectModalShown}\"\n     [ngStyle]=\"{'display': displayAuthObjectModal}\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"addAuthObjectTitle\">Add Authorization Object</h5>\n        <button type=\"button\" class=\"close\" (click)=\"closeAuthObjectModal()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <dk-app-attribute-form2 *ngIf = \"newAuthFieldValueForm && authObjAttr\"\n                                [attributeControl]=\"authObjAttr\"\n                                [formGroup]=\"newAuthFieldValueForm\"\n                                [isSmallSize] = \"true\"\n                                [readonly]=\"false\">\n        </dk-app-attribute-form2>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-sm btn-secondary\" (click)=\"closeAuthObjectModal()\">Cancel</button>\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" (click)=\"addAuthObject()\">Confirm</button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport {Observable, of} from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DialogService {\n\n  /**\n   * Ask user to confirm an action. `message` explains the action and choices.\n   * Returns observable resolving to `true`=confirm or `false`=cancel\n   */\n  confirm(message?: string): Observable<boolean> {\n    const confirmation = window.confirm(message || 'Is it OK?');\n\n    return of(confirmation);\n  }\n}\n","import {Component, Input, OnChanges, OnInit} from '@angular/core';\nimport {Operator, Option, SelectOption} from '../../identity';\nimport {FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {Attribute, AttributeBase, AttributeControlService, EntityService} from 'jor-angular';\n\n@Component({\n  selector: 'app-auth-value',\n  templateUrl: './auth-value.component.html',\n  styleUrls: ['./auth-value.component.css']\n})\nexport class AuthValueComponent implements OnInit, OnChanges {\n  @Input() authFieldValueForm: FormGroup;\n  @Input() readonly: boolean;\n  tabStrip = 1;\n  fieldName: string;\n  singleValueArray: FormArray;\n  selectOptionArray: FormArray;\n  attrCtrl: AttributeBase;\n  highAttrCtrl: AttributeBase;\n  fullPermission: boolean;\n\n  constructor(private fb: FormBuilder,\n              private entityService: EntityService,\n              private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n  }\n\n  ngOnChanges(): void {\n    if (!this.authFieldValueForm) { return; }\n    if (this.singleValueArray) { this.singleValueArray.clear(); }\n    if (this.selectOptionArray) { this.selectOptionArray.clear(); }\n    this.fullPermission = false;\n    this.attrCtrl = null;\n    this.tabStrip = 1;\n    const authValues = this.authFieldValueForm.get('AUTH_VALUE').value;\n    this.entityService.getElementMeta(this.authFieldValueForm.get('DATA_ELEMENT').value)\n      .subscribe( attrCtrl => {\n        const attribute = <Attribute>attrCtrl;\n        attribute.ATTR_GUID = attrCtrl.ELEMENT_ID;\n        attribute.ATTR_NAME = attrCtrl.ELEMENT_ID;\n        attribute.DATA_ELEMENT = attrCtrl.ELEMENT_ID;\n        this.attrCtrl = this.attributeControlService.toSingleAttributeControl(attribute);\n        this.attrCtrl.name = 'Low';\n        this.highAttrCtrl = this.attributeControlService.toSingleAttributeControl(attribute);\n        this.highAttrCtrl.name = 'High';\n      } );\n\n    this.fieldName = this.authFieldValueForm.get('FIELD_NAME').value;\n    if (!authValues || !JSON.parse(authValues)) {\n        this.singleValueArray = this.fb.array([this.fb.group({Low: ''})]);\n        this.selectOptionArray = this.fb.array([this.fb.group({\n          Operator: [{value: Operator.Between, disabled: this.readonly}],\n          Option: [{value: Option.Include, disabled: this.readonly}], Low: '', High: ''})]);\n    } else {\n      const authValueArray = JSON.parse(authValues);\n      if (authValueArray === '*') {\n        this._setFullPermission(true);\n      } else {\n        const singleValues = [];\n        const selectOptions = [];\n        authValueArray.forEach(authValue => {\n          if (typeof authValue === 'string') {\n            singleValues.push(this.fb.group({Low: authValue}));\n          } else {\n            selectOptions.push(this.fb.group({\n              Operator: [{value: authValue['Operator'], disabled: this.readonly}],\n              Option: [{value: authValue['Option'], disabled: this.readonly}],\n              Low: authValue['Low'],\n              High: authValue['High']\n            }));\n          }\n        });\n        if (singleValues.length > 0 ) {\n          this.singleValueArray = this.fb.array(singleValues);\n          this.tabStrip = 1;\n        } else {\n          this.singleValueArray = this.fb.array([this.fb.group({Low: ''})]);\n          this.tabStrip = 2;\n        }\n\n        if (selectOptions.length > 0) {\n          this.selectOptionArray = this.fb.array(selectOptions);\n        } else {\n          this.selectOptionArray = this.fb.array([this.fb.group({\n            Operator: [{value: Operator.Between, disabled: this.readonly}],\n            Option: [{value: Option.Include, disabled: this.readonly}], Low: '', High: ''})]);\n          this.tabStrip = 1;\n        }\n      }\n    }\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  generateAuthValue(): boolean {\n    if (!this.singleValueArray.dirty && !this.selectOptionArray.dirty) { return true; }\n    if (this.fullPermission) { return true; }\n    const authValues = [];\n    let hasErrors = false;\n    this.singleValueArray.controls.forEach( singleValueCtrl => {\n      const singleValue = singleValueCtrl.get('Low').value;\n      if (singleValue && authValues.findIndex( value => value === singleValue) === -1) {\n        authValues.push(singleValue);\n      }\n    });\n    this.selectOptionArray.controls.forEach( selectOptionCtrl => {\n      const selectOption = <SelectOption>selectOptionCtrl.value;\n      if (selectOption.Low) {\n        if (selectOption.Operator === Operator.Between &&\n          selectOption.Low >= selectOption.High) {\n          selectOptionCtrl.get('Low').setErrors({message: 'Low value is larger or equal to high value'});\n          hasErrors = true;\n        } else {\n          authValues.push(selectOption);\n        }\n      }\n    });\n    if (hasErrors) { return false; }\n\n    if (authValues.length === 0) {\n      this.authFieldValueForm.get('AUTH_VALUE').setValue('');\n      this.authFieldValueForm.get('STATUS').setValue('red');\n    } else {\n      this.authFieldValueForm.get('AUTH_VALUE').setValue(JSON.stringify(authValues, null, ' '));\n      this.authFieldValueForm.get('STATUS').setValue('green');\n    }\n    this.authFieldValueForm.get('AUTH_VALUE').markAsDirty();\n    return true;\n  }\n\n  checkFullPermission(): void {\n    this._setFullPermission(!this.fullPermission);\n    this.authFieldValueForm.get('AUTH_VALUE').markAsDirty();\n  }\n\n  _setFullPermission(isFull: boolean): void {\n    this.fullPermission = isFull;\n    this.authFieldValueForm.get('STATUS').setValue(isFull ? 'green' : 'red');\n    this.authFieldValueForm.get('AUTH_VALUE').setValue(isFull ? '\"*\"' : '');\n    if (isFull) {\n      this.singleValueArray = this.fb.array([]);\n      this.selectOptionArray = this.fb.array([]);\n    } else {\n      this.singleValueArray = this.fb.array([this.fb.group({Low: ''})]);\n      this.selectOptionArray = this.fb.array([this.fb.group({\n        Operator: Operator.Between, Option: Option.Include,\n        Low: '', High: ''})]);\n    }\n  }\n}\n","<div class=\"btn-toolbar\" role=\"toolbar\">\n  <div class=\"custom-control custom-checkbox\">\n    <input type=\"checkbox\" class=\"custom-control-input\" id=\"fullPermission\"\n           [(ngModel)]=\"fullPermission\" [disabled]=\"readonly\" (click)=\"checkFullPermission()\">\n    <label class=\"custom-control-label\" for=\"fullPermission\">Enable Full Permission</label>\n  </div>\n  <span *ngIf=\"authFieldValueForm\"\n        [ngClass]=\"{'green-light': authFieldValueForm.get('STATUS').value === 'green',\n                       'red-light': authFieldValueForm.get('STATUS').value  === 'red'}\"\n        class=\"ml-4 mt-1 traffic-light\"></span>\n</div>\n\n<ul class=\"nav nav-tabs mt-1\">\n  <li class=\"nav-item\">\n    <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\"\n       (click)=\"switchTabStrip(1)\">Single Values</a>\n  </li>\n  <li class=\"nav-item\">\n    <a class=\"nav-link\" [class.active]=\"tabStrip===2\" href=\"javascript:void(0);\"\n       (click)=\"switchTabStrip(2)\">Select Options</a>\n  </li>\n</ul>\n<div *ngIf=\"attrCtrl\" class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n  <app-auth-value-singles *ngSwitchCase=\"1\"\n                          [singleValueArray]=\"singleValueArray\"\n                          [attrCtrl]=\"attrCtrl\"\n                          [readonly]=\"readonly\">\n  </app-auth-value-singles>\n  <app-auth-value-selopts *ngSwitchCase=\"2\"\n                          [selectOptionArray]=\"selectOptionArray\"\n                          [attrCtrl]=\"attrCtrl\"\n                          [highAttrCtrl]=\"highAttrCtrl\"\n                          [readonly]=\"readonly\">\n  </app-auth-value-selopts>\n</div>\n","import {Component, Input, OnChanges, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormGroup} from '@angular/forms';\nimport {SearchHelpComponent} from 'jor-angular';\n\n@Component({\n  selector: 'app-permission-detail-user',\n  templateUrl: './permission-detail-user.component.html',\n  styleUrls: ['./permission-detail-user.component.css']\n})\nexport class PermissionDetailUserComponent implements OnInit, OnChanges {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  userFormArray: FormArray;\n\n  constructor() { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n\n  ngOnChanges(): void {\n    this.userFormArray = this.mainForm.get('users') as FormArray;\n  }\n\n  ngOnInit() {\n\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, rowIDx: number) {\n      return () => context.onChangeKey(rowIDx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalBySearchHelp('USER', 'USER_ID',\n      'USER_ID', exportObject, this.readonly, afterExportFn);\n  }\n}\n","<table class=\"table table-bordered table-sm dk-table ml-3 mt-4\" [formGroup]=\"mainForm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th class=\"dk-name\">User ID</th>\n    <th class=\"dk-name\">User Name</th>\n    <th class=\"dk-icon\">Synced</th>\n  </tr>\n  </thead>\n\n  <tbody formArrayName=\"users\" class=\"mb-4\">\n  <tr *ngFor=\"let userForm of userFormArray.controls; let i = index\" >\n    <td [formGroup]=\"userForm\">\n      <div class=\"input-group\">\n        <input class=\"form-control form-control-sm\" type=\"text\" formControlName=\"USER_ID\" readonly>\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-sm btn-outline-secondary btn-light\" type=\"button\" id=\"searchPermission\"\n                  (click)=\"onSearchHelp(i, userForm)\">\n            <span class=\"fas fa-search\"></span>\n          </button>\n        </div>\n      </div>\n    </td>\n    <td [formGroup]=\"userForm\">\n      <input type=\"text\" formControlName=\"USER_NAME\" readonly class=\"form-control form-control-sm\">\n    </td>\n    <td [formGroup]=\"userForm\">\n      <input type=\"text\" formControlName=\"SYNCED\" readonly class=\"form-control form-control-sm\">\n    </td>\n  </tr>\n  </tbody>\n</table>\n\n<dk-app-search-help></dk-app-search-help>\n","/**\n * The custom route reuse strategy inherits the \"RouteReuseStrategy\" to achieve a very usual case,\n * which by default, Angular doesn't support.\n * 1. Search for items based on filter conditions.\n * 2. Navigate to one of the item to the detail page(component).\n * 3. Navigate back to searched item list without re-initializing the search&list component again.\n * This requires the Angular route to save the search&list component, and restore it whenever back.\n * The detail solution is described in following thread:\n * https://stackoverflow.com/questions/41280471/how-to-implement-routereusestrategy-shoulddetach-for-specific-routes-in-angular\n */\nimport {ActivatedRouteSnapshot, DetachedRouteHandle, RouteReuseStrategy} from '@angular/router';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class CustomReuseStrategy implements RouteReuseStrategy {\n  routesToCache: string[] = ['users', 'apps', 'app-categories', 'auth-objects', 'permissions', 'profiles' ];\n  storedRouteHandles = new Map<string, DetachedRouteHandle>();\n\n  /**\n   * When navigation from a reusable component, and if shouldReuseRoute return false,\n   * this method is invoked to decide whether the current route should be stored.\n   * @param route\n   */\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    // console.log('detaching', route);\n    return this.routesToCache.indexOf(route.routeConfig.path) > -1;\n  }\n\n  /**\n   * If the current route need to be stored, that is shouldDetach return true,\n   * then on this method, you can implement a way to store routes. Usually in a Map.\n   * @param route\n   * @param handle\n   */\n  store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle): void {\n    // console.log('store', route);\n    this.storedRouteHandles.set(route.routeConfig.path, handle);\n  }\n\n  /**\n   * When navigation to a reusable component, and if shouldReuseRoute return false,\n   * this method is invoked to decide whether the target component can be get from a reuse buffer.\n   * @param route\n   */\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    // console.log('shouldAttach', route);\n    return this.storedRouteHandles.has(route.routeConfig.path);\n  }\n\n  /**\n   * If shouldAttach return true, then this method is invoke to retrieve the component from the buffer.\n   * @param route\n   */\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n    return this.storedRouteHandles.get(route.routeConfig.path);\n  }\n\n  /**\n   * By default, Angular doesn't re-initializing the same component if the navigation is not to\n   * a different one. For example, you switch different entity ID in the same entity type detail page.\n   * In this way, shouldReuseRoute should return true to avoid executing other methods in this Class.\n   * However, if you navigate from search&list component to entity detail component, then the method should return false.\n   * So that other methods can be executed to decide whether the search&list component should be stored for future reuse.\n   * @param future\n   * @param curr\n   */\n  shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n    // console.log('shouldReuseRoute, future:', future, 'current:', curr);\n    return future.routeConfig === curr.routeConfig;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable, of} from 'rxjs';\nimport {catchError, map} from 'rxjs/operators';\nimport {Entity, QueryObject, Relationship, UiMapperService} from 'jor-angular';\nimport {Router} from '@angular/router';\nimport {environment} from '../environments/environment';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {AppCategoryList, AppList, AuthObjList, Authorization, AuthProfileList, PermissionList, UserList} from './identity';\nimport {formatDate} from '@angular/common';\nimport {AbstractControl, FormArray} from '@angular/forms';\nimport {Session} from 'ui-logon-angular';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable({providedIn: 'root'})\nexport class IdentityService {\n  private originalHost = environment.originalHost;\n  private session: Session;\n  private pseudoNodeID = 0;\n\n  constructor(private http: HttpClient,\n              private messageService: MessageService,\n              private uiMapperService: UiMapperService,\n              private router: Router) {\n  }\n\n  setSession( data: any ) {\n    this.session = <Session>data;\n  }\n\n  get Session(): Session {\n    if (this.session) { return this. session; }\n    const defaultSession = new Session();\n    defaultSession.USER_ID = 'DH001';\n    defaultSession.LANGUAGE = 'EN';\n    return defaultSession;\n  }\n\n  get CurrentTime(): string {\n    return formatDate( new Date(), 'yyyy-MM-dd hh:mm:ss', 'en-US' );\n  }\n\n  searchPermissions(permissionID: string, permissionDesc: string): Observable<PermissionList[] | Message[]> {\n    const queryObject = new QueryObject();\n    queryObject.ENTITY_ID = 'permission';\n    queryObject.RELATION_ID = 'r_role';\n    queryObject.PROJECTION = ['NAME', 'DESCRIPTION',\n      {FIELD_NAME: 'CREATED_BY', RELATION_ID: 'permission'},\n      {FIELD_NAME: 'CREATE_TIME', RELATION_ID: 'permission'},\n      {FIELD_NAME: 'CHANGED_BY', RELATION_ID: 'permission'},\n      {FIELD_NAME: 'CHANGE_TIME', RELATION_ID: 'permission'}];\n    queryObject.FILTER = [];\n    if (permissionID) {\n      if (permissionID.includes('*') || permissionID.includes('%')) {\n        queryObject.FILTER.push({FIELD_NAME: 'NAME', OPERATOR: 'CN', LOW: permissionID});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'NAME', OPERATOR: 'EQ', LOW: permissionID});\n      }\n    }\n    if (permissionDesc) {\n      if (permissionDesc.includes('*')) {\n        permissionDesc = permissionDesc.replace(/\\*/gi, '%');\n        queryObject.FILTER.push({FIELD_NAME: 'DESCRIPTION', OPERATOR: 'CN', LOW: permissionDesc});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'DESCRIPTION', OPERATOR: 'EQ', LOW: permissionDesc});\n      }\n    }\n    queryObject.SORT = [{FIELD_NAME: 'CHANGE_TIME', RELATION_ID: 'permission', ORDER: 'DESC'}];\n    return this.http.post<any>(this.originalHost + `/api/query`, queryObject, httpOptions).pipe(\n      catchError(this.handleError<any>('searchObjects')));\n  }\n\n  getPermissionDetail(permissionName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_role', NAME: permissionName},\n      piece: {RELATIONS: ['permission', 'r_role'],\n        RELATIONSHIPS: [\n          {\n            RELATIONSHIP_ID: 'rs_user_role',\n            PARTNER_ENTITY_PIECES: { RELATIONS: ['r_user'] }\n          },\n          {\n            RELATIONSHIP_ID: 'rs_role_category_profile',\n            PARTNER_ENTITY_PIECES: [\n              { ENTITY_ID: 'category',\n                piece: { RELATIONS: ['r_app_category'],\n                  RELATIONSHIPS: [{RELATIONSHIP_ID: 'rs_app_category',\n                    PARTNER_ENTITY_PIECES: { RELATIONS: ['app'] } }]}},\n              { ENTITY_ID: 'authProfile',\n                piece: { RELATIONS: ['authProfile'],\n                  RELATIONSHIPS: [{RELATIONSHIP_ID: 'rs_auth_profile_object',\n                    PARTNER_ENTITY_PIECES: { RELATIONS: ['authObject'],\n                      RELATIONSHIPS: [{ RELATIONSHIP_ID: 'rs_auth_object_field',\n                        PARTNER_ENTITY_PIECES: { RELATIONS: ['authField'] }}]}}]}}\n            ]\n          }\n        ]\n      }\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getPermissionDetail')));\n  }\n\n  getPermissionByName(permissionName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_role', NAME: permissionName},\n      piece: {RELATIONS: ['r_role']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getPermissionByName')));\n  }\n\n  searchApps(appID: string, appName: string): Observable<AppList[] | Message[]> {\n    const queryObject = new QueryObject();\n    queryObject.ENTITY_ID = 'app';\n    queryObject.RELATION_ID = 'app';\n    queryObject.PROJECTION = ['APP_ID', 'NAME', 'ROUTE_LINK', 'IS_EXTERNAL', 'CREATED_BY', 'CREATE_TIME', 'CHANGED_BY', 'CHANGE_TIME'];\n    queryObject.FILTER = [];\n    if (appID) {\n      if (appID.includes('*') || appID.includes('%')) {\n        queryObject.FILTER.push({FIELD_NAME: 'APP_ID', OPERATOR: 'CN', LOW: appID});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'APP_ID', OPERATOR: 'EQ', LOW: appID});\n      }\n    }\n    if (appName) {\n      if (appName.includes('*')) {\n        appName = appName.replace(/\\*/gi, '%');\n        queryObject.FILTER.push({FIELD_NAME: 'NAME', OPERATOR: 'CN', LOW: appName});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'NAME', OPERATOR: 'EQ', LOW: appName});\n      }\n    }\n    queryObject.SORT = [{FIELD_NAME: 'CHANGE_TIME', ORDER: 'DESC'}];\n    return this.http.post<any>(this.originalHost + `/api/query`, queryObject, httpOptions).pipe(\n      catchError(this.handleError<any>('searchObjects')));\n  }\n\n  getAppDetail(appID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'app', APP_ID: appID},\n      piece: {\n        RELATIONS: ['app'],\n        RELATIONSHIPS: [\n          {\n            RELATIONSHIP_ID: 'rs_app_category',\n            PARTNER_ENTITY_PIECES: { RELATIONS: ['r_app_category'] }\n          },\n          {\n            RELATIONSHIP_ID: 'rs_app_auth',\n            PARTNER_ENTITY_PIECES: {\n              RELATIONS: ['authObject'],\n              RELATIONSHIPS: [\n                {\n                  RELATIONSHIP_ID: 'rs_auth_object_field',\n                  PARTNER_ENTITY_PIECES: { RELATIONS: ['authField'] }\n                }\n              ]\n            }\n          }\n        ]\n      }\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAppDetail')));\n  }\n\n  getAppByID(appID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'app', APP_ID: appID},\n      piece: {RELATIONS: ['app']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAppByID')));\n  }\n\n  getCategoryName(categoryID: string): Observable<{}> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_app_category', ID: categoryID},\n      piece: {RELATIONS: ['r_app_category']}\n    };\n    return this.http.post<{}>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      map(instance => {\n        return 'INSTANCE_GUID' in instance ?\n          {\n            INSTANCE_GUID: instance['INSTANCE_GUID'],\n            NAME: instance['r_app_category'] ? instance['r_app_category'][0]['NAME'] : '',\n            ICON: instance['r_app_category'] ? instance['r_app_category'][0]['ICON'] : ''\n          } : instance[0];\n      }),\n      catchError(this.handleError<any>('getCategoryName')));\n  }\n\n  searchAuthObjects(authObjName: string, authObjDesc: string): Observable<AuthObjList[] | Message[]> {\n    const queryObject = new QueryObject();\n    queryObject.ENTITY_ID = 'authObject';\n    queryObject.RELATION_ID = 'authObject';\n    queryObject.PROJECTION = ['OBJ_NAME', 'DESC', 'CREATED_BY', 'CREATE_TIME', 'CHANGED_BY', 'CHANGE_TIME'];\n    queryObject.FILTER = [];\n    if (authObjName) {\n      if (authObjName.includes('*') || authObjName.includes('%')) {\n        queryObject.FILTER.push({FIELD_NAME: 'OBJ_NAME', OPERATOR: 'CN', LOW: authObjName});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'OBJ_NAME', OPERATOR: 'EQ', LOW: authObjName});\n      }\n    }\n    if (authObjDesc) {\n      if (authObjDesc.includes('*')) {\n        authObjDesc = authObjDesc.replace(/\\*/gi, '%');\n        queryObject.FILTER.push({FIELD_NAME: 'DESC', OPERATOR: 'CN', LOW: authObjDesc});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'DESC', OPERATOR: 'EQ', LOW: authObjDesc});\n      }\n    }\n    queryObject.SORT = [{FIELD_NAME: 'CHANGE_TIME', ORDER: 'DESC'}];\n    return this.http.post<any>(this.originalHost + `/api/query`, queryObject, httpOptions).pipe(\n      catchError(this.handleError<any>('searchAuthObjects')));\n  }\n\n  getAuthObjectDetail(authObjName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'authObject', OBJ_NAME: authObjName},\n      piece: {\n        RELATIONS: ['authObject'],\n        RELATIONSHIPS: [\n          {\n            RELATIONSHIP_ID: 'rs_auth_object_field',\n            PARTNER_ENTITY_PIECES: { RELATIONS: ['authField'] }\n          }\n        ]\n      }\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAuthObjectDetail')));\n  }\n\n  getAuthObjectByName(authObjName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'authObject', OBJ_NAME: authObjName},\n      piece: {RELATIONS: ['authObject']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAuthObjectByName')));\n  }\n\n  getAuthFieldInfo(authFieldName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'authField', FIELD_NAME: authFieldName},\n      piece: {RELATIONS: ['authField']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      map(instance => {\n        return 'INSTANCE_GUID' in instance ?\n          {\n            INSTANCE_GUID: instance['INSTANCE_GUID'],\n            NAME: instance['authField'] ? instance['authField'][0]['FIELD_NAME'] : '',\n            DATA_ELEMENT: instance['authField'] ? instance['authField'][0]['DATA_ELEMENT'] : ''\n          } : instance[0];\n      }),\n      catchError(this.handleError<any>('getAuthObjectByName')));\n  }\n\n  searchAppCategories(appCategoryID: string, appCategoryName: string): Observable<AppCategoryList[] | Message[]> {\n    const queryObject = new QueryObject();\n    queryObject.ENTITY_ID = 'category';\n    queryObject.RELATION_ID = 'r_app_category';\n    queryObject.PROJECTION = [ 'ID', 'NAME', 'ICON',\n      {FIELD_NAME: 'CREATED_BY', RELATION_ID: 'category'},\n      {FIELD_NAME: 'CREATE_TIME', RELATION_ID: 'category'},\n      {FIELD_NAME: 'CHANGED_BY', RELATION_ID: 'category'},\n      {FIELD_NAME: 'CHANGE_TIME', RELATION_ID: 'category'} ];\n    queryObject.FILTER = [];\n    if (appCategoryID) {\n      if (appCategoryID.includes('*') || appCategoryID.includes('%')) {\n        queryObject.FILTER.push({FIELD_NAME: 'ID', OPERATOR: 'CN', LOW: appCategoryID});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'ID', OPERATOR: 'EQ', LOW: appCategoryID});\n      }\n    }\n    if (appCategoryName) {\n      if (appCategoryName.includes('*')) {\n        appCategoryName = appCategoryName.replace(/\\*/gi, '%');\n        queryObject.FILTER.push({FIELD_NAME: 'NAME', OPERATOR: 'CN', LOW: appCategoryName});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'NAME', OPERATOR: 'EQ', LOW: appCategoryName});\n      }\n    }\n    queryObject.FILTER.push({RELATION_ID: 'category', FIELD_NAME: 'TYPE', OPERATOR: 'EQ', LOW: 'APP'});\n    queryObject.SORT = [{FIELD_NAME: 'CHANGE_TIME', RELATION_ID: 'category', ORDER: 'DESC'}];\n    return this.http.post<any>(this.originalHost + `/api/query`, queryObject, httpOptions).pipe(\n      catchError(this.handleError<any>('searchAppCategories')));\n  }\n\n  getAppCategoryDetail(appCategoryID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_app_category', ID: appCategoryID},\n      piece: {\n        RELATIONS: ['category', 'r_app_category'],\n        RELATIONSHIPS: [\n          {\n            RELATIONSHIP_ID: 'rs_app_category',\n            PARTNER_ENTITY_PIECES: { RELATIONS: ['app'] }\n          },\n          {\n            RELATIONSHIP_ID: 'rs_role_category_profile',\n            PARTNER_ENTITY_PIECES: [\n              {\n                ENTITY_ID: 'permission',\n                piece: { RELATIONS: ['r_role']}\n              }\n            ]\n          }\n        ]\n      }\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAppCategoryDetail')));\n  }\n\n  getAppCategoryByID(appCategoryID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_app_category', ID: appCategoryID},\n      piece: {RELATIONS: ['r_app_category']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAppCategoryByID')));\n  }\n\n  searchAuthProfiles(profileName: string, profileDesc: string): Observable<AuthProfileList[] | Message[]> {\n    const queryObject = new QueryObject();\n    queryObject.ENTITY_ID = 'authProfile';\n    queryObject.RELATION_ID = 'authProfile';\n    queryObject.PROJECTION = [ 'PROFILE_NAME', 'DESC', 'CREATED_BY', 'CREATE_TIME', 'CHANGED_BY', 'CHANGE_TIME'];\n    queryObject.FILTER = [];\n    if (profileName) {\n      if (profileName.includes('*') || profileName.includes('%')) {\n        queryObject.FILTER.push({FIELD_NAME: 'PROFILE_NAME', OPERATOR: 'CN', LOW: profileName});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'PROFILE_NAME', OPERATOR: 'EQ', LOW: profileName});\n      }\n    }\n    if (profileDesc) {\n      if (profileDesc.includes('*')) {\n        profileDesc = profileDesc.replace(/\\*/gi, '%');\n        queryObject.FILTER.push({FIELD_NAME: 'DESC', OPERATOR: 'CN', LOW: profileDesc});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'DESC', OPERATOR: 'EQ', LOW: profileDesc});\n      }\n    }\n    queryObject.SORT = [{FIELD_NAME: 'CHANGE_TIME', ORDER: 'DESC'}];\n    return this.http.post<any>(this.originalHost + `/api/query`, queryObject, httpOptions).pipe(\n      catchError(this.handleError<any>('searchAuthProfiles')));\n  }\n\n  getAuthProfileDetail(profileName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'authProfile', PROFILE_NAME: profileName},\n      piece: {\n        RELATIONS: ['authProfile'],\n        RELATIONSHIPS: [\n          {\n            RELATIONSHIP_ID: 'rs_auth_profile_object',\n            PARTNER_ENTITY_PIECES: {\n              RELATIONS: ['authObject'],\n              RELATIONSHIPS: [\n                {\n                  RELATIONSHIP_ID: 'rs_auth_object_field',\n                  PARTNER_ENTITY_PIECES: { RELATIONS: ['authField'] }\n                }\n              ]\n            }\n          }\n        ]\n      }\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAuthProfileDetail')));\n  }\n\n  getAuthProfileByName(profileName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'authProfile', PROFILE_NAME: profileName},\n      piece: {RELATIONS: ['authProfile']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAuthProfileByName')));\n  }\n\n  searchUsers(userID: string, userName: string): Observable<UserList[] | Message[]> {\n    const queryObject = new QueryObject();\n    queryObject.ENTITY_ID = 'person';\n    queryObject.RELATION_ID = 'r_user';\n    queryObject.PROJECTION = ['USER_ID', 'USER_NAME', 'DISPLAY_NAME', 'LOCK', 'PWD_STATE'];\n    queryObject.FILTER = [];\n    if (userID) {\n      if (userID.includes('*') || userID.includes('%')) {\n        queryObject.FILTER.push({FIELD_NAME: 'USER_ID', OPERATOR: 'CN', LOW: userID});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'USER_ID', OPERATOR: 'EQ', LOW: userID});\n      }\n    }\n    if (userName) {\n      if (userName.includes('*')) {\n        userName = userName.replace(/\\*/gi, '%');\n        queryObject.FILTER.push({FIELD_NAME: 'USER_NAME', OPERATOR: 'CN', LOW: userName});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'USER_NAME', OPERATOR: 'EQ', LOW: userName});\n      }\n    }\n    queryObject.SORT = ['USER_ID'];\n    return this.http.post<any>(this.originalHost + `/api/query`, queryObject, httpOptions).pipe(\n      catchError(this.handleError<any>('searchObjects')));\n  }\n\n  getUserDetail(userID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_user', USER_ID: userID},\n      piece: {RELATIONS: ['r_user', 'r_employee', 'r_email', 'r_address', 'r_personalization'],\n        RELATIONSHIPS: [\n          {\n            RELATIONSHIP_ID: 'rs_user_role',\n            PARTNER_ENTITY_PIECES: { RELATIONS: ['r_role'] }\n          }]\n      }\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getUserDetail')));\n  }\n\n  getUserByUserID(userID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_user', USER_ID: userID},\n      piece: {RELATIONS: ['r_user']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getUserByUserID')));\n  }\n\n  getUserByUserName(userName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_user', USER_NAME: userName},\n      piece: {RELATIONS: ['r_user']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getUserByUserName')));\n  }\n\n  getRoleDesc(roleID: string): Observable<{}> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_role', NAME: roleID},\n      piece: {RELATIONS: ['r_role']}\n    };\n    return this.http.post<{}>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      map(instance => {\n        return 'INSTANCE_GUID' in instance ?\n          {\n            INSTANCE_GUID: instance['INSTANCE_GUID'],\n            DESCRIPTION: instance['r_role'] ? instance['r_role'][0]['DESCRIPTION'] : ''\n          } : instance[0];\n      }),\n      catchError(this.handleError<any>('getRoleDesc')));\n  }\n\n  orchestrate(operations: any): any {\n    return this.http.post<any>(\n      this.originalHost + `/api/entity/orchestrate`, operations, httpOptions).pipe(\n      catchError(this.handleError<any>('orchestrate')));\n  }\n\n  save(entity: Entity): Observable<Entity | Message[]> {\n    if (entity['INSTANCE_GUID']) {\n      return this.http.put<Entity | Message[]>(\n        this.originalHost + `/api/entity`, entity, httpOptions).pipe(\n        catchError(this.handleError<any>('saveUser')));\n    } else {\n      return this.http.post<Entity | Message[]>(\n        this.originalHost + `/api/entity`, entity, httpOptions).pipe(\n        catchError(this.handleError<any>('save')));\n    }\n  }\n\n  delete(entityGUID: string): Observable<null | Message[]> {\n    return this.http.delete<null | Message[]>(this.originalHost + `/api/entity/instance/` + entityGUID, httpOptions).pipe(\n      catchError(this.handleError<any>('delete'))\n    );\n  }\n\n  parseProfileAuthObject(relationship: Relationship): any {\n    const authorizations = [];\n    if (!relationship) { return authorizations; }\n    relationship.values.forEach( value => {\n      const authorization = value['AUTH_VALUE'] ?\n        <Authorization>JSON.parse(value['AUTH_VALUE']) : null;\n      const status = authorization ?\n        Object.values(authorization.AuthFieldValue).findIndex( authValue => !authValue ) !== -1 ?\n          'yellow' : 'green' : 'red';\n      authorizations.push({\n        CHECKED: '',\n        COLLAPSED: false,\n        NODE_ID: value['RELATIONSHIP_INSTANCE_GUID'] || ++this.pseudoNodeID,\n        STATUS: status,\n        RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n        auth_object_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n        AUTH_VALUE: value['AUTH_VALUE'],\n        OBJ_NAME: value['PARTNER_INSTANCES'][0]['authObject'][0]['OBJ_NAME'],\n        DESC: value['PARTNER_INSTANCES'][0]['authObject'][0]['DESC'],\n        ROW_TYPE: 'OBJECT',\n        FIELD_NAME: '',\n        DATA_ELEMENT: '',\n      });\n\n      const authObjectFields = value['PARTNER_INSTANCES'][0]['relationships'][0];\n      authObjectFields.values.forEach( value2 => {\n        const authFieldName = value2['PARTNER_INSTANCES'][0]['authField'][0]['FIELD_NAME'];\n        authorizations.push({\n          CHECKED: '',\n          COLLAPSED: false,\n          NODE_ID: value['RELATIONSHIP_INSTANCE_GUID'] || this.pseudoNodeID,\n          STATUS: authorization.AuthFieldValue[authFieldName] ?\n            authorization.AuthFieldValue[authFieldName].length > 0 ? 'green' : 'red' : 'red',\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          auth_object_INSTANCE_GUID: '',\n          AUTH_VALUE: authorization && authorization.AuthFieldValue[authFieldName]\n            && JSON.stringify(authorization.AuthFieldValue[authFieldName], null, ' '),\n          OBJ_NAME: value['PARTNER_INSTANCES'][0]['authObject'][0]['OBJ_NAME'],\n          DESC: '',\n          ROW_TYPE: 'FIELD',\n          FIELD_NAME: authFieldName,\n          DATA_ELEMENT: value2['PARTNER_INSTANCES'][0]['authField'][0]['DATA_ELEMENT'],\n        });\n      });\n    });\n    return authorizations;\n  }\n\n  composeAuthChanges( formArray: FormArray, originalValue: any, relationshipID: string): any {\n    let authorization;\n    let currentAuthObjectCtrl: AbstractControl;\n    let isAuthorizationChanged = false;\n    formArray.controls.forEach( control => {\n      const rowType = control.get('ROW_TYPE').value;\n      if (rowType === 'OBJECT') {\n        if (currentAuthObjectCtrl && isAuthorizationChanged) {\n          currentAuthObjectCtrl.get('AUTH_VALUE').setValue(JSON.stringify(authorization, null, ' '));\n          currentAuthObjectCtrl.get('AUTH_VALUE').markAsDirty();\n        }\n        currentAuthObjectCtrl = control;\n        authorization = new Authorization();\n        authorization.AuthObject = control.get('OBJ_NAME').value;\n        authorization.AuthFieldValue = {};\n        isAuthorizationChanged = false;\n      } else { // Field\n        if (control.dirty) {\n          isAuthorizationChanged = true;\n          control.markAsPristine();\n        }\n        authorization.AuthFieldValue[control.get('FIELD_NAME').value] =\n          control.get('AUTH_VALUE').value ? JSON.parse(control.get('AUTH_VALUE').value) : null;\n      }\n    });\n    if (currentAuthObjectCtrl && isAuthorizationChanged) {\n      currentAuthObjectCtrl.get('AUTH_VALUE').setValue(JSON.stringify(authorization, null, ' '));\n      currentAuthObjectCtrl.get('AUTH_VALUE').markAsDirty();\n    }\n    const originalAuthObjValue = [];\n    if ( originalValue ) {\n      originalValue.forEach( authObj => {\n        if (authObj.ROW_TYPE === 'OBJECT') { originalAuthObjValue.push( authObj ); }\n      });\n    }\n\n    return this.uiMapperService.composeChangedRelationship(\n      relationshipID, [{ENTITY_ID: 'authObject', ROLE_ID: 'auth_object'}],\n      formArray, originalAuthObjValue,\n      ['CHECKED', 'COLLAPSED', 'NODE_ID', 'OBJ_NAME', 'DESC', 'ROW_TYPE', 'FIELD_NAME', 'DATA_ELEMENT']);\n  }\n\n  private handleError<T> (operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n      if (error.status === 401) {\n        this.messageService.addMessage('EXCEPTION', 'NOT_AUTHENTICATED_OR_SESSION_EXPIRED', messageType.Exception);\n      } else {\n        this.messageService.addMessage('EXCEPTION', 'GENERIC', messageType.Exception, operation, error.message);\n      }\n\n      this.router.navigate(['errors']);\n      console.error(operation, error); // log to console instead\n\n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, Entity, EntityService, RelationMeta, Relationship, UiMapperService} from 'jor-angular';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {DialogService} from '../../dialog.service';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {switchMap} from 'rxjs/operators';\nimport {forkJoin, Observable, of} from 'rxjs';\nimport {existingAppValidator} from '../../async-validators';\nimport {Authorization} from '../../identity';\n\n@Component({\n  selector: 'app-app-detail',\n  templateUrl: './app-detail.component.html',\n  styleUrls: ['./app-detail.component.css']\n})\nexport class AppDetailComponent implements OnInit {\n  mainForm: FormGroup;\n  relationMetas: RelationMeta[];\n  attrCtrls: AttributeBase[];\n  readonly = true;\n  isNewMode = false;\n  action: string;\n  instanceGUID: string;\n  originalValue = {};\n  changedValue = {};\n  tabStrip = 1;\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private dialogService: DialogService,\n              private identityService: IdentityService,\n              private attributeControlService: AttributeControlService,\n              private entityService: EntityService,\n              private uiMapperService: UiMapperService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.action = params.get('action');\n        if (this.action === 'new') {\n          this.isNewMode = true;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('app'),\n            this._createNewEntity()\n          ]);\n        } else {\n          this.isNewMode = false;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('app'),\n            this.identityService.getAppDetail(params.get('appID'))\n          ]);\n        }\n      })\n    ).subscribe( data => {\n      this.relationMetas = data[0] as RelationMeta[];\n      this.attrCtrls = this.attributeControlService.toAttributeControl(\n        this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'app').ATTRIBUTES);\n      if ('ENTITY_ID' in data[1]) {\n        this.instanceGUID = data[1]['INSTANCE_GUID'];\n        this._generateMainForm(<Entity>data[1]);\n        if (this.isNewMode || this.action === 'change') {\n          this._switch2EditMode();\n        } else {\n          this._switch2DisplayMode();\n        }\n      } else {\n        const errorMessages = <Message[]>data[1];\n        errorMessages.forEach( msg => this.messageService.add(msg));\n      }\n    });\n  }\n\n  return2List(): void {\n    this.router.navigate(['apps']);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  switchEditDisplay(): void {\n    if (this.readonly ) {\n      this._switch2EditMode();\n    } else {\n      if (this.mainForm.dirty) {\n        this.dialogService.confirm('Discard changes?').subscribe(confirm => {\n          if (confirm) {\n            this.mainForm.reset(this.originalValue);\n            this._switch2DisplayMode();\n          }\n        });\n      } else {\n        this._switch2DisplayMode();\n      }\n    }\n    this.messageService.clearMessages();\n  }\n\n  _switch2DisplayMode(): void {\n    this.readonly = true;\n    this._setCheckBoxState();\n\n    const appIDCtrl = this.mainForm.get('APP_ID') as FormControl;\n    appIDCtrl.clearAsyncValidators();\n\n    const appCategoryArray = this.mainForm.get('appCategories') as FormArray;\n    let lastIndex = appCategoryArray.length - 1;\n    while (lastIndex >= 0) {\n      const appCategoryGroup = appCategoryArray.at(lastIndex);\n      if (appCategoryGroup.invalid || !appCategoryGroup.value.ID) {\n        appCategoryArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    this.mainForm.markAsPristine();\n    // Replace the URL from change to display\n    window.history.replaceState({}, '', `/apps/${appIDCtrl.value};action=display`);\n  }\n\n  _switch2EditMode(): void {\n    this.readonly = false;\n    this._setCheckBoxState();\n\n    const appIDCtrl = this.mainForm.get('APP_ID') as FormControl;\n    if (this.isNewMode) {\n      appIDCtrl.setAsyncValidators(\n        existingAppValidator(this.identityService, this.messageService));\n    }\n\n    // Replace the URL from to display\n    if (this.action === 'display') {this.action = 'change'; }\n    window.history.replaceState({}, '', `/apps/${appIDCtrl.value};action=` + this.action);\n  }\n\n  _createNewEntity(): Observable<Entity> {\n    const appDetail = new Entity();\n    appDetail.ENTITY_ID = 'app';\n    appDetail['app'] = [\n      { APP_ID: '', NAME: '', ROUTE_LINK: '', IS_EXTERNAL: '', CREATED_BY: '', CREATE_TIME: '', CHANGED_BY: '', CHANGE_TIME: '' }\n    ];\n    appDetail['relationships'] = [];\n    return of(appDetail);\n  }\n\n  _generateMainForm(data: Entity): void {\n    this.mainForm = this.fb.group({\n      APP_ID: [data['app'][0]['APP_ID'], [Validators.required]],\n      NAME: [data['app'][0]['NAME']],\n      target: this.fb.group({\n        ROUTE_LINK: [data['app'][0]['ROUTE_LINK']],\n        IS_EXTERNAL: [data['app'][0]['IS_EXTERNAL']]\n      }),\n      admin: this.fb.group({\n        CREATED_BY: [data['app'][0]['CREATED_BY']],\n        CREATE_TIME: [data['app'][0]['CREATE_TIME']],\n        CHANGED_BY: [data['app'][0]['CHANGED_BY']],\n        CHANGE_TIME: [data['app'][0]['CHANGE_TIME']]\n      })\n    });\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.mainForm.addControl('appCategories',\n      this.fb.array(parsedRelationship.appCategories.map( appCategory => this.fb.group( appCategory))));\n    this.mainForm.addControl('appAuthObjects',\n      this.fb.array(parsedRelationship.appAuthObjects.map( appAuthObject => this.fb.group( appAuthObject))));\n    this.originalValue = this.mainForm.getRawValue();\n  }\n\n  _parseRelationships( relationships: Relationship[] ): any {\n    const parsedRelationship = {\n      appCategories: [],\n      appAuthObjects: []\n    };\n    if (!relationships) { return parsedRelationship; }\n    relationships.forEach( relationship => {\n      switch (relationship.RELATIONSHIP_ID) {\n        case 'rs_app_category':\n          __parseAppCategory(relationship);\n          break;\n        case 'rs_app_auth':\n          parsedRelationship.appAuthObjects = this.identityService.parseProfileAuthObject(relationship);\n          break;\n        default:\n        // Do nothing.\n      }\n    });\n    return parsedRelationship;\n\n    function __parseAppCategory( relationship: Relationship): void {\n      relationship.values.forEach( value => {\n        parsedRelationship.appCategories.push({\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          ORDER: value['ORDER'],\n          app_category_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n          ID: value['PARTNER_INSTANCES'][0]['r_app_category'][0]['ID'],\n          NAME: value['PARTNER_INSTANCES'][0]['r_app_category'][0]['NAME'],\n          ICON: value['PARTNER_INSTANCES'][0]['r_app_category'][0]['ICON']\n        });\n      });\n    }\n\n    function __parseAppAuthObject( relationship: Relationship): void {\n      relationship.values.forEach( value => {\n        const authorization = value['AUTH_VALUE'] ?\n          <Authorization>JSON.parse(value['AUTH_VALUE']) : null;\n        const status = authorization ?\n          Object.values(authorization.AuthFieldValue).findIndex( authValue => !authValue ) !== -1 ?\n            'yellow' : 'green' : 'red';\n        parsedRelationship.appAuthObjects.push({\n          CHECKED: '',\n          COLLAPSED: false,\n          NODE_ID: value['RELATIONSHIP_INSTANCE_GUID'],\n          STATUS: status,\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          auth_object_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n          AUTH_VALUE: value['AUTH_VALUE'],\n          OBJ_NAME: value['PARTNER_INSTANCES'][0]['authObject'][0]['OBJ_NAME'],\n          DESC: value['PARTNER_INSTANCES'][0]['authObject'][0]['DESC'],\n          ROW_TYPE: 'OBJECT',\n          FIELD_NAME: '',\n          DATA_ELEMENT: '',\n        });\n\n        const authObjectFields = value['PARTNER_INSTANCES'][0]['relationships'][0];\n        authObjectFields.values.forEach( value2 => {\n          const authFieldName = value2['PARTNER_INSTANCES'][0]['authField'][0]['FIELD_NAME'];\n          parsedRelationship.appAuthObjects.push({\n            CHECKED: '',\n            COLLAPSED: false,\n            NODE_ID: value['RELATIONSHIP_INSTANCE_GUID'],\n            STATUS: authorization.AuthFieldValue[authFieldName] ?\n              authorization.AuthFieldValue[authFieldName].length > 0 ? 'green' : 'red' : 'red',\n            RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n            auth_object_INSTANCE_GUID: '',\n            AUTH_VALUE: authorization && authorization.AuthFieldValue[authFieldName]\n              && JSON.stringify(authorization.AuthFieldValue[authFieldName], null, ' '),\n            OBJ_NAME: value['PARTNER_INSTANCES'][0]['authObject'][0]['OBJ_NAME'],\n            DESC: '',\n            ROW_TYPE: 'FIELD',\n            FIELD_NAME: authFieldName,\n            DATA_ELEMENT: value2['PARTNER_INSTANCES'][0]['authField'][0]['DATA_ELEMENT'],\n          });\n        });\n      });\n    }\n  }\n\n  _resetValue(data: Entity): void {\n    this.originalValue = {\n      APP_ID: data['app'][0]['APP_ID'],\n      NAME: data['app'][0]['NAME'],\n      target: {\n        ROUTE_LINK: data['app'][0]['ROUTE_LINK'],\n        IS_EXTERNAL: data['app'][0]['IS_EXTERNAL']\n      },\n      admin: {\n        CREATED_BY: data['app'][0]['CREATED_BY'],\n        CREATE_TIME: data['app'][0]['CREATE_TIME'],\n        CHANGED_BY: data['app'][0]['CHANGED_BY'],\n        CHANGE_TIME: data['app'][0]['CHANGE_TIME']\n      }\n    };\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.originalValue['appCategories'] = parsedRelationship.appCategories;\n    this.originalValue['appAuthObjects'] = parsedRelationship.appAuthObjects;\n    this.mainForm.reset(this.originalValue);\n  }\n\n  _setCheckBoxState() {\n    if (this.readonly) {\n      this.mainForm.get('target.IS_EXTERNAL').disable();\n    } else {\n      this.mainForm.get('target.IS_EXTERNAL').enable();\n    }\n  }\n\n  save() {\n    this.messageService.clearMessages();\n    if (this._composeChanges()) {\n      this.identityService.save(<Entity>this.changedValue).subscribe( data => {\n        this.changedValue = {};\n        if ('INSTANCE_GUID' in data) {\n          const appID = data['app'][0]['APP_ID'];\n          this.instanceGUID = data['INSTANCE_GUID'];\n          this.isNewMode = false;\n          this.identityService.getAppDetail(appID).subscribe(instance => {\n            if ('ENTITY_ID' in instance) {\n              this._switch2DisplayMode();\n              this._resetValue(<Entity>instance);\n            } else {\n              const errorMessages = <Message[]>instance;\n              errorMessages.forEach( msg => this.messageService.add(msg));\n            }\n          });\n          this.messageService.reportMessage('APP', 'SAVED', 'S', appID);\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n        }\n      });\n    }\n  }\n\n  _composeChanges() {\n    if (this.mainForm.invalid) {\n      this.messageService.reportMessage('PERMISSION', 'INVALID', 'E');\n      return false;\n    }\n\n    if (this.mainForm.dirty === false) {\n      this.messageService.reportMessage('GENERAL', 'NO_CHANGE', 'W');\n      return false;\n    }\n\n    this.changedValue['ENTITY_ID'] = 'app';\n    this.changedValue['INSTANCE_GUID'] = this.instanceGUID;\n\n    if (this.isNewMode) {\n      this.changedValue['app'] = {\n        action: 'add', APP_ID: this.mainForm.get('APP_ID').value,\n        CREATED_BY: this.identityService.Session.USER_ID, CREATE_TIME: this.identityService.CurrentTime,\n        CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n    } else {\n      this.changedValue['app'] = {\n        action: 'update', CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n    }\n\n    if (this.mainForm.get('NAME').dirty) {\n      this.changedValue['app']['NAME'] = this.mainForm.get('NAME').value;\n    }\n    if (this.mainForm.get('target.ROUTE_LINK').dirty) {\n      this.changedValue['app']['ROUTE_LINK'] = this.mainForm.get('target.ROUTE_LINK').value;\n    }\n    if (this.mainForm.get('target.IS_EXTERNAL').dirty) {\n      this.changedValue['app']['IS_EXTERNAL'] = this.mainForm.get('target.IS_EXTERNAL').value;\n    }\n\n    const appAuthObjFormArray = this.mainForm.get('appAuthObjects') as FormArray;\n    const relationship = this.identityService.composeAuthChanges(appAuthObjFormArray,\n      this.originalValue['appAuthObjects'], 'rs_app_auth');\n    if (relationship) { this.changedValue['relationships'] = [relationship]; }\n\n    return true;\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    if (this.isNewMode || (this.mainForm && this.mainForm.dirty)) {\n      return this.dialogService.confirm('Discard changes?');\n    } else {\n      return true;\n    }\n  }\n\n}\n","<nav class=\"navbar dk-fixed-top navbar-light bg-light\">\n  <div>\n    <span class=\"font-weight-bold mb-0 mx-1\">{{isNewMode? 'New App' : readonly? 'Display App' : 'Change App'}}</span>\n  </div>\n\n  <div class=\"flex-row-reverse\">\n    <button class=\"btn btn-sm btn-outline-info mr-2\" type=\"button\" title=\"Return to List\" id=\"toList\"\n            (click)=\"return2List()\" >\n      <span class=\"fas fa-list-ul\"> To List</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Edit/Display\" id=\"editDisplay\" (click)=\"switchEditDisplay()\">\n      <span *ngIf=\"readonly\" class=\"fas fa-edit\"> Edit</span>\n      <span *ngIf=\"!readonly\" class=\"fas fa-glasses\"> Display</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Save\" id=\"save\" (click)=\"save()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-save\"> Save</span>\n    </button>\n  </div>\n</nav>\n\n<div class=\"mt-2 mb-2\">\n  <dk-message></dk-message>\n</div>\n\n<div *ngIf=\"mainForm\" class=\"ml-2\">\n  <div class=\"mt-2 ml-1 row\">\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('APP_ID')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('NAME')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"readonly\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n  </div>\n\n  <ul class=\"nav nav-tabs mt-1\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(1)\">Target</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===2\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(2)\">Authorization</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===3\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(3)\">Categories</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===4\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(4)\">Admin</a>\n    </li>\n  </ul>\n\n  <div class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n    <app-app-target *ngSwitchCase=\"1\" [mainForm]=\"mainForm\" [relationMetas]=\"relationMetas\" [readonly]=\"readonly\"></app-app-target>\n    <app-authorization *ngSwitchCase=\"2\" [mainForm]=\"mainForm\" [ctrlName]=\"'appAuthObjects'\"  [readonly]=\"readonly\"></app-authorization>\n    <app-app-categories *ngSwitchCase=\"3\" [mainForm]=\"mainForm\" [readonly]=\"readonly\"></app-app-categories>\n    <app-admin-info *ngSwitchCase=\"4\" [mainForm]=\"mainForm\" [relationMetas]=\"relationMetas\" [adminRelation]=\"'app'\"></app-admin-info>\n  </div>\n</div>\n","export class PermissionList {\n  NAME: string;\n  DESCRIPTION: string;\n  CREATED_BY: string;\n  CREATE_TIME: string;\n  CHANGED_BY: string;\n  CHANGE_TIME: string;\n  INSTANCE_GUID: string;\n}\n\nexport class UserList {\n  USER_ID: string;\n  USER_NAME: string;\n  DISPLAY_NAME: string;\n  LOCK: boolean;\n  PWD_STATE: string;\n  INSTANCE_GUID: string;\n}\n\nexport class AppList {\n  APP_ID: string;\n  NAME: string;\n  ROUTE_LINK: string;\n  IS_EXTERNAL: boolean;\n  CREATED_BY: string;\n  CREATE_TIME: string;\n  CHANGED_BY: string;\n  CHANGE_TIME: string;\n  INSTANCE_GUID: string;\n}\n\nexport class AuthObjList {\n  OBJ_NAME: string;\n  DESC: string;\n  CREATED_BY: string;\n  CREATE_TIME: string;\n  CHANGED_BY: string;\n  CHANGE_TIME: string;\n  INSTANCE_GUID: string;\n}\n\nexport class AuthProfileList {\n  PROFILE_NAME: string;\n  DESC: string;\n  CREATED_BY: string;\n  CREATE_TIME: string;\n  CHANGED_BY: string;\n  CHANGE_TIME: string;\n  INSTANCE_GUID: string;\n}\n\nexport class AppCategoryList {\n  ID: string;\n  ICON: string;\n  NAME: string;\n  TYPE: string;\n  CREATED_BY: string;\n  CREATE_TIME: string;\n  CHANGED_BY: string;\n  CHANGE_TIME: string;\n  INSTANCE_GUID: string;\n}\n\nexport class Authorization {\n  AuthObject: string;\n  AuthFieldValue: AuthFieldValue;\n}\n\nexport class AuthFieldValue {\n  [key: string]: Array<string | SelectOption>;\n}\n\nexport class SelectOption {\n  Operator: Operator;\n  Option: Option;\n  Low: string | number;\n  High: string | number;\n}\n\nexport enum Operator {\n  Between = 'Between',\n  GreaterThan = 'GreaterThan',\n  LessThan = 'LessThan',\n  GreaterEqual = 'GreaterEqual',\n  LessEqual = 'LessEqual',\n  Equal = 'Equal',\n  NotEqual = 'NotEqual',\n  StartsWith = 'StartsWith',\n  EndsWith = 'EndsWith',\n  Contains = 'Contains',\n  Matches = 'Matches'\n}\n\nexport enum Option {\n  Include = 'Include',\n  Exclude = 'Exclude'\n}\n","import { Component, OnInit } from '@angular/core';\nimport {FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, Entity, EntityService, RelationMeta, Relationship, UiMapperService} from 'jor-angular';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {DialogService} from '../../dialog.service';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {switchMap} from 'rxjs/operators';\nimport {forkJoin, Observable, of} from 'rxjs';\nimport {existingProfileValidator} from '../../async-validators';\nimport {Authorization} from '../../identity';\n\n@Component({\n  selector: 'app-profile-detail',\n  templateUrl: './profile-detail.component.html',\n  styleUrls: ['./profile-detail.component.css']\n})\nexport class ProfileDetailComponent implements OnInit {\n  mainForm: FormGroup;\n  relationMetas: RelationMeta[];\n  attrCtrls: AttributeBase[];\n  readonly = true;\n  isNewMode = false;\n  action: string;\n  instanceGUID: string;\n  originalValue = {};\n  changedValue = {};\n  tabStrip = 1;\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private dialogService: DialogService,\n              private identityService: IdentityService,\n              private attributeControlService: AttributeControlService,\n              private entityService: EntityService,\n              private uiMapperService: UiMapperService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.action = params.get('action');\n        if (this.action === 'new') {\n          this.isNewMode = true;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('authProfile'),\n            this._createNewEntity()\n          ]);\n        } else {\n          this.isNewMode = false;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('authProfile'),\n            this.identityService.getAuthProfileDetail(params.get('profileName'))\n          ]);\n        }\n      })\n    ).subscribe( data => {\n      this.relationMetas = data[0] as RelationMeta[];\n      this.attrCtrls = this.attributeControlService.toAttributeControl(\n        this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'authProfile').ATTRIBUTES);\n      if ('ENTITY_ID' in data[1]) {\n        this.instanceGUID = data[1]['INSTANCE_GUID'];\n        this._generateMainForm(<Entity>data[1]);\n        if (this.isNewMode || this.action === 'change') {\n          this._switch2EditMode();\n        } else {\n          this._switch2DisplayMode();\n        }\n      } else {\n        const errorMessages = <Message[]>data[1];\n        errorMessages.forEach( msg => this.messageService.add(msg));\n      }\n    });\n  }\n\n  return2List(): void {\n    this.router.navigate(['profiles']);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  switchEditDisplay(): void {\n    if (this.readonly ) {\n      this._switch2EditMode();\n    } else {\n      if (this.mainForm.dirty) {\n        this.dialogService.confirm('Discard changes?').subscribe(confirm => {\n          if (confirm) {\n            this.mainForm.reset(this.originalValue);\n            this._switch2DisplayMode();\n          }\n        });\n      } else {\n        this._switch2DisplayMode();\n      }\n    }\n    this.messageService.clearMessages();\n  }\n\n  _switch2DisplayMode(): void {\n    this.readonly = true;\n\n    const profileNameCtrl = this.mainForm.get('PROFILE_NAME') as FormControl;\n    profileNameCtrl.clearAsyncValidators();\n\n    this.mainForm.markAsPristine();\n    // Replace the URL from change to display\n    window.history.replaceState({}, '', `/profiles/${profileNameCtrl.value};action=display`);\n  }\n\n  _switch2EditMode(): void {\n    this.readonly = false;\n\n    const profileNameCtrl = this.mainForm.get('PROFILE_NAME') as FormControl;\n    if (this.isNewMode) {\n      profileNameCtrl.setAsyncValidators(\n        existingProfileValidator(this.identityService, this.messageService));\n    }\n\n    // Replace the URL from to display\n    if (this.action === 'display') {this.action = 'change'; }\n    window.history.replaceState({}, '', `/profiles/${profileNameCtrl.value};action=` + this.action);\n  }\n\n  _createNewEntity(): Observable<Entity> {\n    const profileDetail = new Entity();\n    profileDetail.ENTITY_ID = 'authProfile';\n    profileDetail['authProfile'] = [\n      { PROFILE_NAME: '', DESC: '', CREATED_BY: '', CREATE_TIME: '', CHANGED_BY: '', CHANGE_TIME: '' }\n    ];\n    profileDetail['relationships'] = [];\n    return of(profileDetail);\n  }\n\n  _generateMainForm(data: Entity): void {\n    this.mainForm = this.fb.group({\n      PROFILE_NAME: [data['authProfile'][0]['PROFILE_NAME'], [Validators.required]],\n      DESC: [data['authProfile'][0]['DESC']],\n      admin: this.fb.group({\n        CREATED_BY: [data['authProfile'][0]['CREATED_BY']],\n        CREATE_TIME: [data['authProfile'][0]['CREATE_TIME']],\n        CHANGED_BY: [data['authProfile'][0]['CHANGED_BY']],\n        CHANGE_TIME: [data['authProfile'][0]['CHANGE_TIME']]\n      })\n    });\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.mainForm.addControl('authObjects',\n      this.fb.array(parsedRelationship.authObjects.map( authObject => this.fb.group( authObject ))));\n    this.originalValue = this.mainForm.getRawValue();\n  }\n\n  _parseRelationships( relationships: Relationship[] ): any {\n    const parsedRelationship = {\n      authObjects : []\n    };\n    if (!relationships) { return parsedRelationship; }\n    relationships.forEach( relationship => {\n      switch (relationship.RELATIONSHIP_ID) {\n        case 'rs_auth_profile_object':\n          __parseAuthObjects(relationship);\n          break;\n        default:\n        // Do nothing.\n      }\n    });\n    return parsedRelationship;\n\n    function __parseAuthObjects(relationship: Relationship): void {\n      relationship.values.forEach(value => {\n        const authorization = value['AUTH_VALUE'] ? <Authorization>JSON.parse(value['AUTH_VALUE']) : null;\n        const status = authorization ?\n          Object.values(authorization.AuthFieldValue).findIndex(authValue => !authValue) !== -1 ?\n            'yellow' : 'green' : 'red';\n        parsedRelationship.authObjects.push({\n          CHECKED: '',\n          COLLAPSED: false,\n          NODE_ID: value['RELATIONSHIP_INSTANCE_GUID'],\n          STATUS: status,\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          auth_object_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n          AUTH_VALUE: value['AUTH_VALUE'],\n          OBJ_NAME: value['PARTNER_INSTANCES'][0]['authObject'][0]['OBJ_NAME'],\n          DESC: value['PARTNER_INSTANCES'][0]['authObject'][0]['DESC'],\n          ROW_TYPE: 'OBJECT',\n          FIELD_NAME: '',\n          DATA_ELEMENT: '',\n        });\n\n        const authObjectFields = value['PARTNER_INSTANCES'][0]['relationships'][0];\n        authObjectFields.values.forEach(value2 => {\n          const authFieldName = value2['PARTNER_INSTANCES'][0]['authField'][0]['FIELD_NAME'];\n          parsedRelationship.authObjects.push({\n            CHECKED: '',\n            COLLAPSED: false,\n            NODE_ID: value['RELATIONSHIP_INSTANCE_GUID'],\n            STATUS: authorization && authorization.AuthFieldValue && authorization.AuthFieldValue[authFieldName] ?\n              authorization.AuthFieldValue[authFieldName].length > 0 ? 'green' : 'red' : 'red',\n            RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n            auth_object_INSTANCE_GUID: '',\n            AUTH_VALUE: authorization && authorization.AuthFieldValue[authFieldName]\n              && JSON.stringify(authorization.AuthFieldValue[authFieldName], null, ' '),\n            OBJ_NAME: value['PARTNER_INSTANCES'][0]['authObject'][0]['OBJ_NAME'],\n            DESC: '',\n            ROW_TYPE: 'FIELD',\n            FIELD_NAME: authFieldName,\n            DATA_ELEMENT: value2['PARTNER_INSTANCES'][0]['authField'][0]['DATA_ELEMENT'],\n          });\n        });\n      });\n    }\n  }\n\n  _resetValue(data: Entity): void {\n    this.originalValue = {\n      PROFILE_NAME: data['authProfile'][0]['PROFILE_NAME'],\n      DESC: data['authProfile'][0]['DESC'],\n      admin: {\n        CREATED_BY: data['authProfile'][0]['CREATED_BY'],\n        CREATE_TIME: data['authProfile'][0]['CREATE_TIME'],\n        CHANGED_BY: data['authProfile'][0]['CHANGED_BY'],\n        CHANGE_TIME: data['authProfile'][0]['CHANGE_TIME']\n      }\n    };\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.originalValue['authObjects'] = parsedRelationship.authObjects;\n    this.originalValue['roles'] = parsedRelationship.roles;\n    this.mainForm.reset(this.originalValue);\n  }\n\n  save() {\n    this.messageService.clearMessages();\n    if (this._composeChanges()) {\n      this.identityService.save(<Entity>this.changedValue).subscribe( data => {\n        this.changedValue = {};\n        if ('INSTANCE_GUID' in data) {\n          const profileName = data['authProfile'][0]['PROFILE_NAME'];\n          this.instanceGUID = data['INSTANCE_GUID'];\n          this.isNewMode = false;\n          this.identityService.getAuthProfileDetail(profileName).subscribe(instance => {\n            if ('ENTITY_ID' in instance) {\n              this._switch2DisplayMode();\n              this._resetValue(<Entity>instance);\n            } else {\n              const errorMessages = <Message[]>instance;\n              errorMessages.forEach( msg => this.messageService.add(msg));\n            }\n          });\n          this.messageService.reportMessage('AUTH_PROFILE', 'SAVED', 'S', profileName);\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n        }\n      });\n    }\n  }\n\n  _composeChanges() {\n    if (this.mainForm.invalid) {\n      this.messageService.reportMessage('AUTH_PROFILE', 'INVALID', 'E');\n      return false;\n    }\n\n    if (this.mainForm.dirty === false) {\n      this.messageService.reportMessage('GENERAL', 'NO_CHANGE', 'W');\n      return false;\n    }\n\n    this.changedValue['ENTITY_ID'] = 'authProfile';\n    this.changedValue['INSTANCE_GUID'] = this.instanceGUID;\n\n    if (this.isNewMode) {\n      this.changedValue['authProfile'] = {\n        action: 'add', PROFILE_NAME: this.mainForm.get('PROFILE_NAME').value,\n        CREATED_BY: this.identityService.Session.USER_ID, CREATE_TIME: this.identityService.CurrentTime,\n        CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n    } else {\n      this.changedValue['authProfile'] = {\n        action: 'update', CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n    }\n\n    if (this.mainForm.get('DESC').dirty) {\n      this.changedValue['authProfile']['DESC'] = this.mainForm.get('DESC').value;\n    }\n\n    const authObjectFormArray = this.mainForm.get('authObjects') as FormArray;\n    const relationship = this.identityService.composeAuthChanges(authObjectFormArray,\n      this.originalValue['appAuthObjects'], 'rs_auth_profile_object');\n    if (relationship) { this.changedValue['relationships'] = [relationship]; }\n\n    return true;\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    if (this.isNewMode || (this.mainForm && this.mainForm.dirty)) {\n      return this.dialogService.confirm('Discard changes?');\n    } else {\n      return true;\n    }\n  }\n}\n","<nav class=\"navbar dk-fixed-top navbar-light bg-light\">\n  <div>\n    <span class=\"font-weight-bold mb-0 mx-1\">{{isNewMode? 'New Profile' : readonly? 'Display Profile' : 'Change Profile'}}</span>\n  </div>\n\n  <div class=\"flex-row-reverse\">\n    <button class=\"btn btn-sm btn-outline-info mr-2\" type=\"button\" title=\"Return to List\" id=\"toList\"\n            (click)=\"return2List()\" >\n      <span class=\"fas fa-list-ul\"> To List</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Edit/Display\" id=\"editDisplay\" (click)=\"switchEditDisplay()\">\n      <span *ngIf=\"readonly\" class=\"fas fa-edit\"> Edit</span>\n      <span *ngIf=\"!readonly\" class=\"fas fa-glasses\"> Display</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Save\" id=\"save\" (click)=\"save()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-save\"> Save</span>\n    </button>\n  </div>\n</nav>\n\n<div class=\"mt-2 mb-2\">\n  <dk-message></dk-message>\n</div>\n\n<div *ngIf=\"mainForm\" class=\"ml-2\">\n  <div class=\"mt-2 ml-1 row\">\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('PROFILE_NAME')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('DESC')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"readonly\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n  </div>\n\n  <ul class=\"nav nav-tabs mt-1\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(1)\">Authorization</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===3\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(3)\">Admin</a>\n    </li>\n  </ul>\n\n  <div class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n    <app-authorization *ngSwitchCase=\"1\" [mainForm]=\"mainForm\" [ctrlName]=\"'authObjects'\"  [readonly]=\"readonly\"></app-authorization>\n    <app-admin-info *ngSwitchCase=\"3\" [mainForm]=\"mainForm\" [relationMetas]=\"relationMetas\" [adminRelation]=\"'authProfile'\"></app-admin-info>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {Router} from '@angular/router';\nimport {IdentityService} from '../../identity.service';\nimport {UserList} from '../../identity';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css']\n})\nexport class UserListComponent implements OnInit {\n  userID: string;\n  userName: string;\n  users: UserList[];\n  showDeletionConfirmation = false;\n  toBeDeletedUser: string;\n\n  get displayDeletionConfirmation() {return this.showDeletionConfirmation ? 'block' : 'none'; }\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  search() {\n    this.messageService.clearMessages();\n    this.users = [];\n    this.userID = this.userID ? this.userID.trim() : '';\n    this.userName = this.userName ? this.userName.trim() : '';\n    this.identityService.searchUsers(this.userID, this.userName).subscribe(\n      data => {\n        if (!data[0]) {\n          this.messageService.reportMessage('GENERAL', 'EMPTY_LIST', messageType.Warning);\n        } else if (data[0]['msgCat']) {\n          const messages = <Message[]>data;\n          messages.forEach( msg => this.messageService.add(msg));\n        } else {\n          this.users = <UserList[]>data;\n        }\n      }\n    );\n  }\n\n  enterSearch($event): void {\n    if ($event.keyCode === 13 ) {\n       this.search();\n    }\n  }\n\n  newUser(): void {\n    this.router.navigate(['users', '/', {action: 'new'}]);\n  }\n\n  displayUser(userID: string): void {\n    this.router.navigate(['users', userID, {action: 'display'}]);\n  }\n\n  changeUser(userID: string): void {\n    this.router.navigate(['users', userID, {action: 'change'}]);\n  }\n\n  deleteUser(userID: string): void {\n    this.toBeDeletedUser = userID;\n    this.showDeletionConfirmation = true;\n  }\n\n  cancelDeletion(): void {\n    this.showDeletionConfirmation = false;\n  }\n\n  confirmDeletion(): void {\n    const toBeDeletedUserGUID = this.users.find( ele => ele.USER_ID === this.toBeDeletedUser).INSTANCE_GUID;\n    this.identityService.delete(toBeDeletedUserGUID).subscribe( errorMsg => {\n      this.showDeletionConfirmation = false;\n      if (errorMsg) {\n        const messages = <Message[]>errorMsg;\n        messages.forEach( msg => this.messageService.add(msg));\n      } else {\n        this.search();\n      }\n    });\n  }\n\n}\n","<div class=\"card mb-3 pt-3\">\n  <div class=\"mt-2 pl-4 row\">\n    <div class=\"col-6 form-group row\">\n      <label for=\"user_id\" class=\"col-sm-3 col-form-label col-form-label-sm\">User ID:</label>\n      <input id=\"user_id\" name=\"user_id\" [(ngModel)]=\"userID\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\" autofocus>\n    </div>\n    <div class=\"col-6 form-group row\">\n      <label for=\"user_name\" class=\"col-sm-3 col-form-label col-form-label-sm\">User Name:</label>\n      <input id=\"user_name\" name=\"user_name\" [(ngModel)]=\"userName\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\">\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <button type=\"button\" id=\"search\" class=\"btn btn-sm btn-primary float-right mr-4\" (click)=\"search()\">Search</button>\n  </div>\n</div>\n\n<div class=\"mt-2 mb-4 mx-4\">\n  <dk-message></dk-message>\n  <div class=\"btn-toolbar justify-content-end my-2\" role=\"toolbar\">\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"newUser()\"><span class=\"fas fa-plus\"></span> New</button>\n  </div>\n  <table class=\"table table-bordered table-sm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th>User ID</th>\n      <th>User Name</th>\n      <th>Display Name</th>\n      <th class=\"dk-lock\">Locked?</th>\n      <th class=\"dk-password-state\" >Password State</th>\n      <th class=\"dk-actions\">Action</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let user of users\">\n      <td><a [routerLink]=\"['/users', user.USER_ID, {action: 'display'}]\">{{user.USER_ID}}</a></td>\n      <td>{{user.USER_NAME}}</td>\n      <td>{{user.DISPLAY_NAME}}</td>\n      <td >\n        <span *ngIf=\"user.LOCK\" class=\"fas fa-lock\" title=\"Locked\"></span>\n        <span *ngIf=\"!user.LOCK\" class=\"fas fa-lock-open\" title=\"Unlocked\"></span>\n      </td>\n      <td [ngSwitch]=\"user.PWD_STATE\">\n        <div *ngSwitchCase=\"\">\n          <span class=\"badge badge-primary\">Initial</span>\n        </div>\n        <div *ngSwitchCase=\"1\">\n          <span class=\"badge badge-success\">Active</span>\n        </div>\n        <div *ngSwitchCase=\"2\">\n          <span class=\"badge badge-warning\">Renew</span>\n        </div>\n      </td>\n      <td>\n        <button title=\"Display\" id=\"display\" class=\"btn btn-sm\" type=\"button\" (click)=\"displayUser(user.USER_ID)\">\n          <span class=\"fas fa-search\"></span>\n        </button>\n        <button title=\"Change\" id=\"change\" class=\"btn btn-sm\" type=\"button\" (click)=\"changeUser(user.USER_ID)\">\n          <span class=\"fas fa-pen\"></span>\n        </button>\n        <button title=\"Delete\" id=\"delete\" class=\"btn btn-sm\" type=\"button\" (click)=\"deleteUser(user.USER_ID)\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class=\"modal\" [class.show]=\"showDeletionConfirmation\"\n       [ngStyle]=\"{'display': displayDeletionConfirmation}\" id=\"deletionConfirmation\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-sm modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"confirmDeletion\">Confirm Deletion</h5>\n          <button type=\"button\" class=\"close\" (click)=\"cancelDeletion()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure to delete the user '{{toBeDeletedUser}}'?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" id=\"cancel\" class=\"btn btn-sm btn-secondary\" (click)=\"cancelDeletion()\">Cancel</button>\n          <button type=\"button\" id=\"confirm\" class=\"btn btn-sm btn-primary\" (click)=\"confirmDeletion()\">Confirm</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormGroup} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, RelationMeta} from 'jor-angular';\n\n@Component({\n  selector: 'app-admin-info',\n  templateUrl: './admin-info.component.html',\n  styleUrls: ['./admin-info.component.css']\n})\nexport class AdminInfoComponent implements OnInit {\n  @Input() mainForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  @Input() adminRelation: string;\n  private attrCtrls: AttributeBase[];\n  adminForm: FormGroup;\n\n  constructor(private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.adminForm = this.mainForm.get('admin') as FormGroup;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === this.adminRelation).ATTRIBUTES);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n}\n","<form class=\"mt-4 ml-2 row\">\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('CREATED_BY')\"\n                          [formGroup]=\"adminForm\"\n                          [isSmallSize] = \"true\"\n                          [readonly]=\"true\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('CREATE_TIME')\"\n                          [formGroup]=\"adminForm\"\n                          [isSmallSize] = \"true\"\n                          [readonly]=\"true\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('CHANGED_BY')\"\n                          [formGroup]=\"adminForm\"\n                          [isSmallSize] = \"true\"\n                          [readonly]=\"true\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('CHANGE_TIME')\"\n                          [formGroup]=\"adminForm\"\n                          [isSmallSize] = \"true\"\n                          [readonly]=\"true\">\n  </dk-app-attribute-form2>\n</form>\n","import { Component, OnInit } from '@angular/core';\nimport {FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, Entity, EntityService, RelationMeta, Relationship, UiMapperService} from 'jor-angular';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {DialogService} from '../../dialog.service';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {switchMap} from 'rxjs/operators';\nimport {forkJoin, Observable, of} from 'rxjs';\nimport {existingAppCategoryValidator} from '../../async-validators';\n\n@Component({\n  selector: 'app-app-category-detail',\n  templateUrl: './app-category-detail.component.html',\n  styleUrls: ['./app-category-detail.component.css']\n})\nexport class AppCategoryDetailComponent implements OnInit {\n  mainForm: FormGroup;\n  relationMetas: RelationMeta[];\n  attrCtrls: AttributeBase[];\n  readonly = true;\n  isNewMode = false;\n  action: string;\n  instanceGUID: string;\n  originalValue = {};\n  changedValue = {};\n  tabStrip = 1;\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private dialogService: DialogService,\n              private identityService: IdentityService,\n              private attributeControlService: AttributeControlService,\n              private entityService: EntityService,\n              private uiMapperService: UiMapperService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.action = params.get('action');\n        if (this.action === 'new') {\n          this.isNewMode = true;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('category'),\n            this._createNewEntity()\n          ]);\n        } else {\n          this.isNewMode = false;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('category'),\n            this.identityService.getAppCategoryDetail(params.get('appCategory'))\n          ]);\n        }\n      })\n    ).subscribe( data => {\n      this.relationMetas = data[0] as RelationMeta[];\n      this.attrCtrls = this.attributeControlService.toAttributeControl(\n        this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_app_category').ATTRIBUTES);\n      if ('ENTITY_ID' in data[1]) {\n        this.instanceGUID = data[1]['INSTANCE_GUID'];\n        this._generateMainForm(<Entity>data[1]);\n        if (this.isNewMode || this.action === 'change') {\n          this._switch2EditMode();\n        } else {\n          this._switch2DisplayMode();\n        }\n      } else {\n        const errorMessages = <Message[]>data[1];\n        errorMessages.forEach( msg => this.messageService.add(msg));\n      }\n    });\n  }\n\n  return2List(): void {\n    this.router.navigate(['app-categories']);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  switchEditDisplay(): void {\n    if (this.readonly ) {\n      this._switch2EditMode();\n    } else {\n      if (this.mainForm.dirty) {\n        this.dialogService.confirm('Discard changes?').subscribe(confirm => {\n          if (confirm) {\n            this.mainForm.reset(this.originalValue);\n            this._switch2DisplayMode();\n          }\n        });\n      } else {\n        this._switch2DisplayMode();\n      }\n    }\n    this.messageService.clearMessages();\n  }\n\n  _switch2DisplayMode(): void {\n    this.readonly = true;\n\n    const appCategoryIDCtrl = this.mainForm.get('ID') as FormControl;\n    appCategoryIDCtrl.clearAsyncValidators();\n\n    const appArray = this.mainForm.get('apps') as FormArray;\n    let lastIndex = appArray.length - 1;\n    while (lastIndex >= 0) {\n      const appGroup = appArray.at(lastIndex);\n      if (appGroup.invalid || !appGroup.value.APP_ID) {\n        appArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    this.mainForm.markAsPristine();\n    // Replace the URL from change to display\n    window.history.replaceState({}, '', `/app-categories/${appCategoryIDCtrl.value};action=display`);\n  }\n\n  _switch2EditMode(): void {\n    this.readonly = false;\n\n    const appCategoryIDCtrl = this.mainForm.get('ID') as FormControl;\n    if (this.isNewMode) {\n      appCategoryIDCtrl.setAsyncValidators(\n        existingAppCategoryValidator(this.identityService, this.messageService));\n    }\n\n    const appArray = this.mainForm.get('apps') as FormArray;\n    appArray.push( this.fb.group({\n      APP_ID: [''],\n      NAME: [''],\n      ORDER: [0],\n      portal_app_INSTANCE_GUID: [''],\n      RELATIONSHIP_INSTANCE_GUID: ['']\n    }));\n\n    // Replace the URL from to display\n    if (this.action === 'display') {this.action = 'change'; }\n    window.history.replaceState({}, '', `/app-categories/${appCategoryIDCtrl.value};action=` + this.action);\n  }\n\n  _createNewEntity(): Observable<Entity> {\n    const appCategoryDetail = new Entity();\n    appCategoryDetail.ENTITY_ID = 'category';\n    appCategoryDetail['category'] = [\n      { NAME: '', TYPE: 'APP', CREATED_BY: '', CREATE_TIME: '', CHANGED_BY: '', CHANGE_TIME: '' }\n    ];\n    appCategoryDetail['r_app_category'] = [\n      { ID: '', NAME: '', ICON: '' }\n    ];\n    appCategoryDetail['relationships'] = [];\n    return of(appCategoryDetail);\n  }\n\n  _generateMainForm(data: Entity): void {\n    this.mainForm = this.fb.group({\n      ID: [data['r_app_category'][0]['ID'], [Validators.required]],\n      NAME: [data['r_app_category'][0]['NAME']],\n      ICON: [data['r_app_category'][0]['ICON']],\n      admin: this.fb.group({\n        CREATED_BY: [data['category'][0]['CREATED_BY']],\n        CREATE_TIME: [data['category'][0]['CREATE_TIME']],\n        CHANGED_BY: [data['category'][0]['CHANGED_BY']],\n        CHANGE_TIME: [data['category'][0]['CHANGE_TIME']]\n      })\n    });\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.mainForm.addControl('apps',\n      this.fb.array(parsedRelationship.apps.map( app => this.fb.group( app ))));\n    this.mainForm.addControl('roles',\n      this.fb.array(parsedRelationship.roles.map( role => this.fb.group( role ))));\n    this.originalValue = this.mainForm.getRawValue();\n  }\n\n  _parseRelationships( relationships: Relationship[] ): any {\n    const parsedRelationship = {\n      apps : [],\n      roles: []\n    };\n    if (!relationships) { return parsedRelationship; }\n    relationships.forEach( relationship => {\n      switch (relationship.RELATIONSHIP_ID) {\n        case 'rs_app_category':\n          __parseApp(relationship);\n          break;\n        case 'rs_role_category_profile':\n          __parseSystemRole(relationship);\n          break;\n        default:\n        // Do nothing.\n      }\n    });\n    return parsedRelationship;\n\n    function __parseApp( relationship: Relationship): void {\n      relationship.values.forEach( value => {\n        parsedRelationship.apps.push({\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          portal_app_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n          APP_ID: value['PARTNER_INSTANCES'][0]['app'][0]['APP_ID'],\n          NAME: value['PARTNER_INSTANCES'][0]['app'][0]['NAME'],\n          ORDER: value['ORDER']\n        });\n      });\n    }\n\n    function __parseSystemRole( relationship: Relationship): void {\n      relationship.values.forEach( value => {\n        const permission = value['PARTNER_INSTANCES'].find( partner => partner.ENTITY_ID === 'permission');\n        parsedRelationship.roles.push({\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          system_role_INSTANCE_GUID: permission.INSTANCE_GUID,\n          NAME: permission.r_role[0].NAME,\n          DESCRIPTION: permission.r_role[0].DESCRIPTION,\n          ORDER: value['ORDER']\n        });\n      });\n    }\n  }\n\n  _resetValue(data: Entity): void {\n    this.originalValue = {\n      ID: data['r_app_category'][0]['ID'],\n      NAME: data['r_app_category'][0]['NAME'],\n      ICON: data['r_app_category'][0]['ICON'],\n      admin: {\n        CREATED_BY: data['category'][0]['CREATED_BY'],\n        CREATE_TIME: data['category'][0]['CREATE_TIME'],\n        CHANGED_BY: data['category'][0]['CHANGED_BY'],\n        CHANGE_TIME: data['category'][0]['CHANGE_TIME']\n      }\n    };\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.originalValue['apps'] = parsedRelationship.apps;\n    this.originalValue['roles'] = parsedRelationship.roles;\n    this.mainForm.reset(this.originalValue);\n  }\n\n  save() {\n    this.messageService.clearMessages();\n    if (this._composeChanges()) {\n      this.identityService.save(<Entity>this.changedValue).subscribe( data => {\n        this.changedValue = {};\n        if ('INSTANCE_GUID' in data) {\n          const appCategoryID = data['r_app_category'][0]['ID'];\n          this.instanceGUID = data['INSTANCE_GUID'];\n          this.isNewMode = false;\n          this.identityService.getAppCategoryDetail(appCategoryID).subscribe(instance => {\n            if ('ENTITY_ID' in instance) {\n              this._switch2DisplayMode();\n              this._resetValue(<Entity>instance);\n            } else {\n              const errorMessages = <Message[]>instance;\n              errorMessages.forEach( msg => this.messageService.add(msg));\n            }\n          });\n          this.messageService.reportMessage('APP_CATEGORY', 'SAVED', 'S', appCategoryID);\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n        }\n      });\n    }\n  }\n\n  _composeChanges() {\n    if (this.mainForm.invalid) {\n      this.messageService.reportMessage('APP_CATEGORY', 'INVALID', 'E');\n      return false;\n    }\n\n    if (this.mainForm.dirty === false) {\n      this.messageService.reportMessage('GENERAL', 'NO_CHANGE', 'W');\n      return false;\n    }\n\n    this.changedValue['ENTITY_ID'] = 'category';\n    this.changedValue['INSTANCE_GUID'] = this.instanceGUID;\n\n    if (this.isNewMode) {\n      this.changedValue['category'] = {\n        action: 'add', TYPE: 'APP',\n        CREATED_BY: this.identityService.Session.USER_ID, CREATE_TIME: this.identityService.CurrentTime,\n        CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime\n      };\n      this.changedValue['r_app_category'] = { action: 'add', ID: this.mainForm.get('ID').value };\n    } else {\n      this.changedValue['category'] = {\n        action: 'update', CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n      this.changedValue['r_app_category'] = { action: 'update', ID: this.mainForm.get('ID').value};\n    }\n\n    if (this.mainForm.get('NAME').dirty) {\n      this.changedValue['category']['NAME'] = this.mainForm.get('NAME').value;\n      this.changedValue['r_app_category']['NAME'] = this.mainForm.get('NAME').value;\n    }\n\n    if (this.mainForm.get('ICON').dirty) {\n      this.changedValue['r_app_category']['ICON'] = this.mainForm.get('ICON').value;\n    }\n\n    const appFormArray = this.mainForm.get('apps') as FormArray;\n    const relationship = this.uiMapperService.composeChangedRelationship(\n      'rs_app_category',\n      [{ENTITY_ID: 'app', ROLE_ID: 'portal_app'}],\n      appFormArray,\n      this.originalValue['apps'],\n      ['APP_ID', 'NAME']);\n\n    if (relationship) {this.changedValue['relationships'] = [relationship]; }\n\n    return true;\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    if (this.isNewMode || (this.mainForm && this.mainForm.dirty)) {\n      return this.dialogService.confirm('Discard changes?');\n    } else {\n      return true;\n    }\n  }\n}\n","<nav class=\"navbar dk-fixed-top navbar-light bg-light\">\n  <div>\n    <span class=\"font-weight-bold mb-0 mx-1\">{{isNewMode? 'New App Category' :\n      readonly? 'Display App Category' : 'Change App Category'}}</span>\n  </div>\n\n  <div class=\"flex-row-reverse\">\n    <button class=\"btn btn-sm btn-outline-info mr-2\" type=\"button\" title=\"Return to List\" id=\"toList\"\n            (click)=\"return2List()\" >\n      <span class=\"fas fa-list-ul\"> To List</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Edit/Display\" id=\"editDisplay\" (click)=\"switchEditDisplay()\">\n      <span *ngIf=\"readonly\" class=\"fas fa-edit\"> Edit</span>\n      <span *ngIf=\"!readonly\" class=\"fas fa-glasses\"> Display</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Save\" id=\"save\" (click)=\"save()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-save\"> Save</span>\n    </button>\n  </div>\n</nav>\n\n<div class=\"mt-2 mb-2\">\n  <dk-message></dk-message>\n</div>\n\n<div *ngIf=\"mainForm\" class=\"mx-2\">\n  <div class=\"mt-2 ml-1 row\">\n    <dk-app-attribute-form2 class=\"col-md-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('ID')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n    <dk-app-attribute-form2 class=\"col-md-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('NAME')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"readonly\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n    <dk-app-attribute-form2 class=\"col-md-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('ICON')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"readonly\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n  </div>\n\n  <ul class=\"nav nav-tabs mt-1\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(1)\">Apps</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===2\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(2)\">Roles</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===3\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(3)\">Admin</a>\n    </li>\n  </ul>\n\n  <div class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n    <app-app-category-detail-app *ngSwitchCase=\"1\" [mainForm]=\"mainForm\"  [readonly]=\"readonly\"></app-app-category-detail-app>\n    <app-app-category-detail-role *ngSwitchCase=\"2\" [mainForm]=\"mainForm\" ></app-app-category-detail-role>\n    <app-admin-info *ngSwitchCase=\"3\" [mainForm]=\"mainForm\" [relationMetas]=\"relationMetas\" [adminRelation]=\"'category'\"></app-admin-info>\n  </div>\n</div>\n","import {IdentityService} from './identity.service';\nimport {AbstractControl, AsyncValidatorFn, ValidationErrors} from '@angular/forms';\nimport {Observable, timer} from 'rxjs';\nimport {map, switchMap} from 'rxjs/operators';\nimport {MessageService} from 'ui-message-angular';\n\nexport function existingUserNameValidator(identityService: IdentityService,\n                                          messageService: MessageService,\n                                          userID: string): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getUserByUserName(control.value).pipe(\n        map(data => {\n          if (data['r_user'] && data['r_user'][0]['USER_ID'] !== userID) {\n            return {message: messageService.generateMessage('USER', 'USER_NAME_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n\nexport function existingUserIDValidator(identityService: IdentityService,\n                                        messageService: MessageService): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getUserByUserID(control.value).pipe(\n        map(data => {\n          if (data['r_user'] && data['r_user'][0]['USER_ID'] === control.value) {\n            return {message: messageService.generateMessage('USER', 'USER_ID_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n\nexport function existingPermissionValidator(identityService: IdentityService,\n                                          messageService: MessageService): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getPermissionByName(control.value).pipe(\n        map(data => {\n          if (data['r_role'] && data['r_role'][0]['NAME'] === control.value) {\n            return {message: messageService.generateMessage('PERMISSION', 'PERMISSION_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n\nexport function existingAppValidator(identityService: IdentityService,\n                                            messageService: MessageService): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getAppByID(control.value).pipe(\n        map(data => {\n          if (data['app'] && data['app'][0]['APP_ID'] === control.value) {\n            return {message: messageService.generateMessage('APP', 'APP_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n\nexport function existingAuthObjectValidator(identityService: IdentityService,\n                                     messageService: MessageService): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getAuthObjectByName(control.value).pipe(\n        map(data => {\n          if (data['authObject'] && data['authObject'][0]['OBJ_NAME'] === control.value) {\n            return {message: messageService.generateMessage('AUTH_OBJECT', 'AUTH_OBJECT_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n\nexport function existingAppCategoryValidator(identityService: IdentityService,\n                                            messageService: MessageService): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getAppCategoryByID(control.value).pipe(\n        map(data => {\n          if (data['r_app_category'] && data['r_app_category'][0]['ID'] === control.value) {\n            return {message: messageService.generateMessage('APP_CATEGORY', 'APP_CATEGORY_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n\nexport function existingProfileValidator(identityService: IdentityService,\n                                             messageService: MessageService): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getAuthProfileByName(control.value).pipe(\n        map(data => {\n          if (data['authProfile'] && data['authProfile'][0]['PROFILE_NAME'] === control.value) {\n            return {message: messageService.generateMessage('AUTH_PROFILE', 'AUTH_PROFILE_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n","import { Component, OnInit } from '@angular/core';\nimport {FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, Entity, EntityService, RelationMeta, Relationship, UiMapperService} from 'jor-angular';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {DialogService} from '../../dialog.service';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {switchMap} from 'rxjs/operators';\nimport {forkJoin, Observable, of} from 'rxjs';\nimport {existingAuthObjectValidator} from '../../async-validators';\n\n@Component({\n  selector: 'app-auth-object-detail',\n  templateUrl: './auth-object-detail.component.html',\n  styleUrls: ['./auth-object-detail.component.css']\n})\nexport class AuthObjectDetailComponent implements OnInit {\n  mainForm: FormGroup;\n  relationMetas: RelationMeta[];\n  attrCtrls: AttributeBase[];\n  readonly = true;\n  isNewMode = false;\n  action: string;\n  instanceGUID: string;\n  originalValue = {};\n  changedValue = {};\n  tabStrip = 1;\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private dialogService: DialogService,\n              private identityService: IdentityService,\n              private attributeControlService: AttributeControlService,\n              private entityService: EntityService,\n              private uiMapperService: UiMapperService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.action = params.get('action');\n        if (this.action === 'new') {\n          this.isNewMode = true;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('authObject'),\n            this._createNewEntity()\n          ]);\n        } else {\n          this.isNewMode = false;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('authObject'),\n            this.identityService.getAuthObjectDetail(params.get('authObjName'))\n          ]);\n        }\n      })\n    ).subscribe( data => {\n      this.relationMetas = data[0] as RelationMeta[];\n      this.attrCtrls = this.attributeControlService.toAttributeControl(\n        this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'authObject').ATTRIBUTES);\n      if ('ENTITY_ID' in data[1]) {\n        this.instanceGUID = data[1]['INSTANCE_GUID'];\n        this._generateMainForm(<Entity>data[1]);\n        if (this.isNewMode || this.action === 'change') {\n          this._switch2EditMode();\n        } else {\n          this._switch2DisplayMode();\n        }\n      } else {\n        const errorMessages = <Message[]>data[1];\n        errorMessages.forEach( msg => this.messageService.add(msg));\n      }\n    });\n  }\n\n  return2List(): void {\n    this.router.navigate(['auth-objects']);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  switchEditDisplay(): void {\n    if (this.readonly ) {\n      this._switch2EditMode();\n    } else {\n      if (this.mainForm.dirty) {\n        this.dialogService.confirm('Discard changes?').subscribe(confirm => {\n          if (confirm) {\n            this.mainForm.reset(this.originalValue);\n            this._switch2DisplayMode();\n          }\n        });\n      } else {\n        this._switch2DisplayMode();\n      }\n    }\n    this.messageService.clearMessages();\n  }\n\n  _switch2DisplayMode(): void {\n    this.readonly = true;\n\n    const appIDCtrl = this.mainForm.get('OBJ_NAME') as FormControl;\n    appIDCtrl.clearAsyncValidators();\n\n    const authFieldArray = this.mainForm.get('authFields') as FormArray;\n    let lastIndex = authFieldArray.length - 1;\n    while (lastIndex >= 0) {\n      const authFieldGroup = authFieldArray.at(lastIndex);\n      if (authFieldGroup.invalid || !authFieldGroup.value.FIELD_NAME) {\n        authFieldArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    this.mainForm.markAsPristine();\n    // Replace the URL from change to display\n    window.history.replaceState({}, '', `/auth-objects/${appIDCtrl.value};action=display`);\n  }\n\n  _switch2EditMode(): void {\n    this.readonly = false;\n\n    const authObjCtrl = this.mainForm.get('OBJ_NAME') as FormControl;\n    if (this.isNewMode) {\n      authObjCtrl.setAsyncValidators(\n        existingAuthObjectValidator(this.identityService, this.messageService));\n    }\n\n    const appCategoryArray = this.mainForm.get('authFields') as FormArray;\n    appCategoryArray.push( this.fb.group({\n      FIELD_NAME: [''],\n      DATA_ELEMENT: [''],\n      auth_field_INSTANCE_GUID: [''],\n      RELATIONSHIP_INSTANCE_GUID: ['']\n    }));\n\n    // Replace the URL from to display\n    if (this.action === 'display') {this.action = 'change'; }\n    window.history.replaceState({}, '', `/auth-objects/${authObjCtrl.value};action=` + this.action);\n  }\n\n  _createNewEntity(): Observable<Entity> {\n    const authObjectDetail = new Entity();\n    authObjectDetail.ENTITY_ID = 'authObject';\n    authObjectDetail['authObject'] = [\n      { OBJ_NAME: '', DESC: '', CREATED_BY: '', CREATE_TIME: '', CHANGED_BY: '', CHANGE_TIME: '' }\n    ];\n    authObjectDetail['relationships'] = [];\n    return of(authObjectDetail);\n  }\n\n  _generateMainForm(data: Entity): void {\n    this.mainForm = this.fb.group({\n      OBJ_NAME: [data['authObject'][0]['OBJ_NAME'], [Validators.required]],\n      DESC: [data['authObject'][0]['DESC']],\n      admin: this.fb.group({\n        CREATED_BY: [data['authObject'][0]['CREATED_BY']],\n        CREATE_TIME: [data['authObject'][0]['CREATE_TIME']],\n        CHANGED_BY: [data['authObject'][0]['CHANGED_BY']],\n        CHANGE_TIME: [data['authObject'][0]['CHANGE_TIME']]\n      })\n    });\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.mainForm.addControl('authFields',\n      this.fb.array(parsedRelationship.authFields.map( authField => this.fb.group( authField ))));\n    this.originalValue = this.mainForm.getRawValue();\n  }\n\n  _parseRelationships( relationships: Relationship[] ): any {\n    const parsedRelationship = {\n      authFields : []\n    };\n    if (!relationships) { return parsedRelationship; }\n    relationships.forEach( relationship => {\n      switch (relationship.RELATIONSHIP_ID) {\n        case 'rs_auth_object_field':\n          __parseAuthField(relationship);\n          break;\n        default:\n        // Do nothing.\n      }\n    });\n    return parsedRelationship;\n\n    function __parseAuthField( relationship: Relationship): void {\n      relationship.values.forEach( value => {\n        parsedRelationship.authFields.push({\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          auth_field_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n          FIELD_NAME: value['PARTNER_INSTANCES'][0]['authField'][0]['FIELD_NAME'],\n          DATA_ELEMENT: value['PARTNER_INSTANCES'][0]['authField'][0]['DATA_ELEMENT']\n        });\n      });\n    }\n  }\n\n  _resetValue(data: Entity): void {\n    this.originalValue = {\n      OBJ_NAME: data['authObject'][0]['OBJ_NAME'],\n      DESC: data['authObject'][0]['DESC'],\n      admin: {\n        CREATED_BY: data['authObject'][0]['CREATED_BY'],\n        CREATE_TIME: data['authObject'][0]['CREATE_TIME'],\n        CHANGED_BY: data['authObject'][0]['CHANGED_BY'],\n        CHANGE_TIME: data['authObject'][0]['CHANGE_TIME']\n      }\n    };\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.originalValue['authFields'] = parsedRelationship.authFields;\n    this.mainForm.reset(this.originalValue);\n  }\n\n  save() {\n    this.messageService.clearMessages();\n    if (this._composeChanges()) {\n      this.identityService.save(<Entity>this.changedValue).subscribe( data => {\n        this.changedValue = {};\n        if ('INSTANCE_GUID' in data) {\n          const authObjName = data['authObject'][0]['OBJ_NAME'];\n          this.instanceGUID = data['INSTANCE_GUID'];\n          this.isNewMode = false;\n          this.identityService.getAuthObjectDetail(authObjName).subscribe(instance => {\n            if ('ENTITY_ID' in instance) {\n              this._switch2DisplayMode();\n              this._resetValue(<Entity>instance);\n            } else {\n              const errorMessages = <Message[]>instance;\n              errorMessages.forEach( msg => this.messageService.add(msg));\n            }\n          });\n          this.messageService.reportMessage('AUTH_OBJECT', 'SAVED', 'S', authObjName);\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n        }\n      });\n    }\n  }\n\n  _composeChanges() {\n    if (this.mainForm.invalid) {\n      this.messageService.reportMessage('AUTH_OBJECT', 'INVALID', 'E');\n      return false;\n    }\n\n    if (this.mainForm.dirty === false) {\n      this.messageService.reportMessage('GENERAL', 'NO_CHANGE', 'W');\n      return false;\n    }\n\n    this.changedValue['ENTITY_ID'] = 'authObject';\n    this.changedValue['INSTANCE_GUID'] = this.instanceGUID;\n\n    if (this.isNewMode) {\n      this.changedValue['authObject'] = {\n        action: 'add', OBJ_NAME: this.mainForm.get('OBJ_NAME').value,\n        CREATED_BY: this.identityService.Session.USER_ID, CREATE_TIME: this.identityService.CurrentTime,\n        CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n    } else {\n      this.changedValue['authObject'] = {\n        action: 'update', CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n    }\n\n    if (this.mainForm.get('DESC').dirty) {\n      this.changedValue['authObject']['DESC'] = this.mainForm.get('DESC').value;\n    }\n\n    const authFieldFormArray = this.mainForm.get('authFields') as FormArray;\n    const relationship = this.uiMapperService.composeChangedRelationship(\n      'rs_auth_object_field',\n      [{ENTITY_ID: 'authField', ROLE_ID: 'auth_field'}],\n      authFieldFormArray,\n      this.originalValue['authFields'],\n      ['FIELD_NAME', 'DATA_ELEMENT']);\n\n    if (relationship) {this.changedValue['relationships'] = [relationship]; }\n\n    return true;\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    if (this.isNewMode || (this.mainForm && this.mainForm.dirty)) {\n      return this.dialogService.confirm('Discard changes?');\n    } else {\n      return true;\n    }\n  }\n\n}\n","<nav class=\"navbar dk-fixed-top navbar-light bg-light\">\n  <div>\n    <span class=\"font-weight-bold mb-0 mx-1\">{{isNewMode? 'New Authorization Object' :\n      readonly? 'Display Authorization Object' : 'Change Authorization Object'}}</span>\n  </div>\n\n  <div class=\"flex-row-reverse\">\n    <button class=\"btn btn-sm btn-outline-info mr-2\" type=\"button\" title=\"Return to List\" id=\"toList\"\n            (click)=\"return2List()\" >\n      <span class=\"fas fa-list-ul\"> To List</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Edit/Display\" id=\"editDisplay\" (click)=\"switchEditDisplay()\">\n      <span *ngIf=\"readonly\" class=\"fas fa-edit\"> Edit</span>\n      <span *ngIf=\"!readonly\" class=\"fas fa-glasses\"> Display</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Save\" id=\"save\" (click)=\"save()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-save\"> Save</span>\n    </button>\n  </div>\n</nav>\n\n<div class=\"mt-2 mb-2\">\n  <dk-message></dk-message>\n</div>\n\n<div *ngIf=\"mainForm\" class=\"ml-2\">\n  <div class=\"mt-2 ml-1 row\">\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('OBJ_NAME')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('DESC')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"readonly\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n  </div>\n\n  <ul class=\"nav nav-tabs mt-1\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(1)\">Authorization Fields</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===2\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(2)\">Admin</a>\n    </li>\n  </ul>\n\n  <div class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n    <app-auth-object-field *ngSwitchCase=\"1\" [mainForm]=\"mainForm\"  [readonly]=\"readonly\"></app-auth-object-field>\n    <app-admin-info *ngSwitchCase=\"2\" [mainForm]=\"mainForm\" [relationMetas]=\"relationMetas\" [adminRelation]=\"'authObject'\"></app-admin-info>\n  </div>\n</div>\n","import { Component } from '@angular/core';\nimport { EntityService } from 'jor-angular';\nimport {environment} from '../environments/environment';\nimport {LogonService} from 'ui-logon-angular';\nimport {IdentityService} from './identity.service';\nimport {msgStore} from './msgStore';\nimport {MessageService} from 'ui-message-angular';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  constructor(private entityService: EntityService,\n              private identityService: IdentityService,\n              private messageService: MessageService,\n              private logonService: LogonService) {\n    this.entityService.setOriginalHost(environment.originalHost);\n    this.logonService.setHost(environment.originalHost);\n    this.logonService.try_get_session().subscribe( data => {\n      this.identityService.setSession( data );\n      this.messageService.setMessageStore(msgStore, this.identityService.Session.LANGUAGE);\n    });\n  }\n}\n","<div class=\"dk-logon-view\">\n  <router-outlet></router-outlet>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {switchMap} from 'rxjs/operators';\nimport {IdentityService} from '../../identity.service';\nimport {forkJoin, Observable, of} from 'rxjs';\nimport {\n  AttributeBase,\n  AttributeControlService,\n  Entity,\n  EntityService,\n  RelationMeta,\n  UiMapperService\n} from 'jor-angular';\nimport {existingUserIDValidator, existingUserNameValidator} from '../../async-validators';\nimport {DialogService} from '../../dialog.service';\n\n@Component({\n  selector: 'app-user-detail',\n  templateUrl: './user-detail.component.html',\n  styleUrls: ['./user-detail.component.css']\n})\nexport class UserDetailComponent implements OnInit {\n  userForm: FormGroup;\n  relationMetas: RelationMeta[];\n  attrCtrls: AttributeBase[];\n  readonly = true;\n  isNewMode = false;\n  action: string;\n  instanceGUID: string;\n  originalUserValue = {};\n  changedUser = {};\n  tabStrip = 1;\n\n  get pwdStatus(): string {\n    switch (this.userForm.get('PWD_STATUS').value) {\n      case '':\n        return 'Initial';\n      case 1:\n        return 'Active';\n      case 3:\n        return 'Need Change';\n      default:\n        return 'Initial';\n    }\n  }\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private dialogService: DialogService,\n              private identityService: IdentityService,\n              private attributeControlService: AttributeControlService,\n              private entityService: EntityService,\n              private uiMapperService: UiMapperService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.action = params.get('action');\n        if (this.action === 'new') {\n          this.isNewMode = true;\n          return forkJoin(\n            [this.entityService.getRelationMetaOfEntity('person'), this._createNewUser()]);\n        } else {\n          this.isNewMode = false;\n          return forkJoin(\n            [this.entityService.getRelationMetaOfEntity('person'),\n            this.identityService.getUserDetail(params.get('userID'))]);\n        }\n      })\n    ).subscribe( data => {\n      this.relationMetas = data[0] as RelationMeta[];\n      this.attrCtrls = this.attributeControlService.toAttributeControl(\n        this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_user').ATTRIBUTES);\n      if ('ENTITY_ID' in data[1]) {\n        this.instanceGUID = data[1]['INSTANCE_GUID'];\n        this._generateUserForm(<Entity>data[1]);\n        if (this.isNewMode || this.action === 'change') {\n          this._switch2EditMode();\n        } else {\n          this._switch2DisplayMode();\n        }\n      } else {\n        const errorMessages = <Message[]>data[1];\n        errorMessages.forEach( msg => this.messageService.add(msg));\n      }\n    });\n  }\n\n  return2List(): void {\n    this.router.navigate(['users']);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  switchEditDisplay(): void {\n    if (this.readonly ) {\n      this._switch2EditMode();\n    } else {\n      if (this.userForm.dirty) {\n        this.dialogService.confirm('Discard changes?').subscribe(confirm => {\n          if (confirm) {\n            this.userForm.reset(this.originalUserValue);\n            this._switch2DisplayMode();\n          }\n        });\n      } else {\n        this._switch2DisplayMode();\n      }\n    }\n    this.messageService.clearMessages();\n  }\n\n  _switch2DisplayMode(): void {\n    this.readonly = true;\n    this._setCheckBoxState();\n\n    const userIDCtrl = this.userForm.get('USER_ID') as FormControl;\n    userIDCtrl.clearAsyncValidators();\n    const userNameCtrl = this.userForm.get('userBasic.names.USER_NAME') as FormControl;\n    userNameCtrl.clearAsyncValidators();\n\n    const emailArray = this.userForm.get('emails') as FormArray;\n    let lastIndex = emailArray.length - 1;\n    while (lastIndex >= 0) {\n      const emailFormGroup = emailArray.at(lastIndex);\n      if (emailFormGroup.invalid || !emailFormGroup.value.EMAIL) {\n        emailArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    const addressArray = this.userForm.get('addresses') as FormArray;\n    lastIndex = addressArray.length - 1;\n    while (lastIndex >= 0) {\n      const addressFormGroup = addressArray.at(lastIndex);\n      if (addressFormGroup.invalid || !addressFormGroup.value.ADDRESS_VALUE) {\n        addressArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    const roleArray = this.userForm.get('userRole') as FormArray;\n    lastIndex = roleArray.length - 1;\n    while (lastIndex >= 0) {\n      const roleFormGroup = roleArray.at(lastIndex);\n      if (roleFormGroup.invalid || !roleFormGroup.value.NAME) {\n        roleArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    this.userForm.markAsPristine();\n    // Replace the URL from change to display\n    window.history.replaceState({}, '', `/users/${userIDCtrl.value};action=display`);\n  }\n\n  _switch2EditMode(): void {\n    this.readonly = false;\n    this._setCheckBoxState();\n\n    const userIDCtrl = this.userForm.get('USER_ID') as FormControl;\n    if (this.isNewMode) {\n      userIDCtrl.setAsyncValidators(\n        existingUserIDValidator(this.identityService, this.messageService));\n    }\n\n    const userNameCtrl = this.userForm.get('userBasic.names.USER_NAME') as FormControl;\n    userNameCtrl.setAsyncValidators(\n      existingUserNameValidator(this.identityService, this.messageService, this.userForm.get('USER_ID').value));\n\n    const roleArray = this.userForm.get('userRole') as FormArray;\n    roleArray.push( this.fb.group({\n      NAME: [''],\n      DESCRIPTION: [''],\n      system_role_INSTANCE_GUID: [''],\n      RELATIONSHIP_INSTANCE_GUID: [''],\n    }));\n\n    // Replace the URL from to display\n    if (this.action === 'display') {this.action = 'change'; }\n    window.history.replaceState({}, '', `/users/${userIDCtrl.value};action=` + this.action);\n  }\n\n  _createNewUser(): Observable<Entity> {\n    const userDetail = new Entity();\n    userDetail['ENTITY_ID'] = 'person';\n    userDetail['r_user'] = [\n      { USER_ID: '', LOCK: 0, PWD_STATUS: '', USER_NAME: '', DISPLAY_NAME: '',\n        GIVEN_NAME: '', MIDDLE_NAME: '', FAMILY_NAME: ''}\n    ];\n    userDetail['r_employee'] = [\n      {TITLE: '', DEPARTMENT_ID: '', COMPANY_ID: '', GENDER: ''}\n    ];\n    userDetail['r_email'] = [];\n    userDetail['r_personalization'] = [\n      {USER_ID: '', LANGUAGE: '', TIMEZONE: '', DECIMAL_FORMAT: '', DATE_FORMAT: ''}\n    ];\n    userDetail['relationships'] = [];\n    return of(userDetail);\n  }\n\n  _generateUserForm(data: Entity): void {\n    this.userForm = this.fb.group({\n      USER_ID: [data['r_user'][0]['USER_ID'], [Validators.required]],\n      LOCK: [data['r_user'][0]['LOCK']],\n      PWD_STATUS: [data['r_user'][0]['PWD_STATUS']],\n      userBasic: this.fb.group({\n        names: this.fb.group({\n          USER_NAME: [data['r_user'][0]['USER_NAME'], [Validators.required]],\n          DISPLAY_NAME: [data['r_user'][0]['DISPLAY_NAME'], [Validators.required]],\n          GIVEN_NAME: [data['r_user'][0]['GIVEN_NAME']],\n          MIDDLE_NAME: [data['r_user'][0]['MIDDLE_NAME']],\n          FAMILY_NAME: [data['r_user'][0]['FAMILY_NAME']]\n        }),\n        employee: this.fb.group({\n          TITLE: [data['r_employee'][0]['TITLE']],\n          DEPARTMENT_ID: [data['r_employee'][0]['DEPARTMENT_ID']],\n          COMPANY_ID: [data['r_employee'][0]['COMPANY_ID'], [Validators.required]],\n          GENDER: [data['r_employee'][0]['GENDER']]\n        })\n      }),\n      emails:  this.fb.array([]),\n      addresses: this.fb.array([]),\n      userPersonalization: this.fb.group({\n        USER_ID: [data['r_personalization'] ? data['r_personalization'][0]['USER_ID'] : ''],\n        LANGUAGE: [data['r_personalization'] ? data['r_personalization'][0]['LANGUAGE'] : ''],\n        TIMEZONE: [data['r_personalization'] ? data['r_personalization'][0]['TIMEZONE'] : ''],\n        DECIMAL_FORMAT: [data['r_personalization'] ? data['r_personalization'][0]['DECIMAL_FORMAT'] : ''],\n        DATE_FORMAT: [data['r_personalization'] ? data['r_personalization'][0]['DATE_FORMAT'] : '']\n      }),\n      userRole: this.fb.array([])\n    });\n\n    const emailArray = this.userForm.get('emails') as FormArray;\n    data['r_email'].forEach( email => {\n      emailArray.push(\n        this.fb.group({\n          EMAIL: [email['EMAIL'], [Validators.required]],\n          TYPE: [email['TYPE'], [Validators.required]],\n          PRIMARY: [email['PRIMARY']]\n        })\n      );\n    });\n\n    const addressArray = this.userForm.get('addresses') as FormArray;\n    if (data['r_address']) {\n      data['r_address'].forEach( address => {\n        addressArray.push(\n          this.fb.group({\n            ADDRESS_ID: [address['ADDRESS_ID']],\n            TYPE: [address['TYPE'], [Validators.required]],\n            ADDRESS_VALUE: [address['ADDRESS_VALUE'], [Validators.required]],\n            POSTCODE: [address['POSTCODE']],\n            CITY: [address['CITY']],\n            COUNTRY: [address['COUNTRY']],\n            PRIMARY: [address['PRIMARY']]\n          })\n        );\n      });\n    }\n\n    const roleArray = this.userForm.get('userRole') as FormArray;\n    const userRoleRelationship = data['relationships'][0];\n    if (userRoleRelationship) {\n      userRoleRelationship.values.forEach( value => {\n        const roleInstance = value.PARTNER_INSTANCES[0];\n        roleArray.push(\n          this.fb.group({\n            NAME: [roleInstance['r_role'][0]['NAME']],\n            DESCRIPTION: [roleInstance['r_role'][0]['DESCRIPTION']],\n            system_role_INSTANCE_GUID: [roleInstance['INSTANCE_GUID']],\n            RELATIONSHIP_INSTANCE_GUID: [value['RELATIONSHIP_INSTANCE_GUID']]\n          })\n        );\n      });\n    }\n\n    this.originalUserValue = this.userForm.getRawValue();\n  }\n\n  _resetUserValue(data: Entity): void {\n    this.originalUserValue = {\n      USER_ID: data['r_user'][0]['USER_ID'],\n      LOCK: data['r_user'][0]['LOCK'],\n      PWD_STATUS: data['r_user'][0]['PWD_STATUS'],\n      userBasic: {\n        names: {\n          USER_NAME: data['r_user'][0]['USER_NAME'],\n          DISPLAY_NAME: data['r_user'][0]['DISPLAY_NAME'],\n          GIVEN_NAME: data['r_user'][0]['GIVEN_NAME'],\n          MIDDLE_NAME: data['r_user'][0]['MIDDLE_NAME'],\n          FAMILY_NAME: data['r_user'][0]['FAMILY_NAME']\n        },\n        employee: {\n          TITLE: data['r_employee'][0]['TITLE'],\n          DEPARTMENT_ID: data['r_employee'][0]['DEPARTMENT_ID'],\n          COMPANY_ID: data['r_employee'][0]['COMPANY_ID'],\n          GENDER: data['r_employee'][0]['GENDER']\n        }\n      },\n      emails: [],\n      addresses: [],\n      userPersonalization: {\n        USER_ID: data['r_personalization'] ? data['r_personalization'][0]['USER_ID'] : '',\n        LANGUAGE: data['r_personalization'] ? data['r_personalization'][0]['LANGUAGE'] : '',\n        TIMEZONE: data['r_personalization'] ? data['r_personalization'][0]['TIMEZONE'] : '',\n        DECIMAL_FORMAT: data['r_personalization'] ? data['r_personalization'][0]['DECIMAL_FORMAT'] : '',\n        DATE_FORMAT: data['r_personalization'] ? data['r_personalization'][0]['DATE_FORMAT'] : ''\n      },\n      userRole: []\n    };\n\n    data['r_email'].forEach( email => {\n      this.originalUserValue['emails'].push(\n        {\n          EMAIL: email['EMAIL'],\n          TYPE: email['TYPE'],\n          PRIMARY: email['PRIMARY']\n        }\n      );\n    });\n\n    if (data['r_address']) {\n      data['r_address'].forEach( address => {\n        this.originalUserValue['addresses'].push(\n          {\n            ADDRESS_ID: address['ADDRESS_ID'],\n            TYPE: address['TYPE'],\n            ADDRESS_VALUE: address['ADDRESS_VALUE'],\n            POSTCODE: address['POSTCODE'],\n            CITY: address['CITY'],\n            COUNTRY: address['COUNTRY'],\n            PRIMARY: address['PRIMARY']\n          }\n        );\n      });\n    }\n\n    const userRoleRelationship = data['relationships'][0];\n    if (userRoleRelationship) {\n      userRoleRelationship.values.forEach( value => {\n        const roleInstance = value.PARTNER_INSTANCES[0];\n        this.originalUserValue['userRole'].push(\n          {\n            NAME: [roleInstance['r_role'][0]['NAME']],\n            DESCRIPTION: [roleInstance['r_role'][0]['DESCRIPTION']],\n            system_role_INSTANCE_GUID: [roleInstance['INSTANCE_GUID']],\n            RELATIONSHIP_INSTANCE_GUID: [value['RELATIONSHIP_INSTANCE_GUID']]\n          }\n        );\n      });\n    }\n\n    this.userForm.reset(this.originalUserValue);\n  }\n\n  _setCheckBoxState() {\n    const userEmailFormArray = this.userForm.get('emails') as FormArray;\n    const userAddressFormArray = this.userForm.get('addresses') as FormArray;\n    const userEmployeeForm = this.userForm.get('userBasic').get('employee') as FormGroup;\n    const userPersonalizationForm = this.userForm.get('userPersonalization') as FormGroup;\n    if (this.readonly) {\n      userEmailFormArray.controls.forEach( userEmailForm => {\n        userEmailForm.get('PRIMARY').disable();\n        userEmailForm.get('TYPE').disable();\n      });\n      userAddressFormArray.controls.forEach( userAddressForm => {\n        userAddressForm.get('PRIMARY').disable();\n        userAddressForm.get('TYPE').disable();\n      });\n      userEmployeeForm.get('GENDER').disable();\n      userPersonalizationForm.get('LANGUAGE').disable();\n      userPersonalizationForm.get('TIMEZONE').disable();\n      userPersonalizationForm.get('DECIMAL_FORMAT').disable();\n      userPersonalizationForm.get('DATE_FORMAT').disable();\n    } else {\n      userEmailFormArray.controls.forEach( userEmailForm => {\n        userEmailForm.get('PRIMARY').enable();\n        userEmailForm.get('TYPE').enable();\n      });\n      userAddressFormArray.controls.forEach( userAddressForm => {\n        userAddressForm.get('PRIMARY').enable();\n        userAddressForm.get('TYPE').enable();\n      });\n      userEmployeeForm.get('GENDER').enable();\n      userPersonalizationForm.get('LANGUAGE').enable();\n      userPersonalizationForm.get('TIMEZONE').enable();\n      userPersonalizationForm.get('DECIMAL_FORMAT').enable();\n      userPersonalizationForm.get('DATE_FORMAT').enable();\n    }\n  }\n\n  save() {\n    this.messageService.clearMessages();\n    if (this._composeChangesToUser()) {\n      this.identityService.save(<Entity>this.changedUser).subscribe( data => {\n        this.changedUser = {};\n        if ('INSTANCE_GUID' in data) {\n          const userID = data['r_user'][0]['USER_ID'];\n          this.instanceGUID = data['INSTANCE_GUID'];\n          this.isNewMode = false;\n          this.identityService.getUserDetail(userID).subscribe(userData => {\n            if ('ENTITY_ID' in userData) {\n              this._switch2DisplayMode();\n              this._resetUserValue(<Entity>userData);\n            } else {\n              const errorMessages = <Message[]>userData;\n              errorMessages.forEach( msg => this.messageService.add(msg));\n            }\n          });\n          this.messageService.reportMessage('USER', 'USER_SAVED', 'S', userID);\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n        }\n      });\n    }\n  }\n\n  _composeChangesToUser() {\n    if (this.userForm.invalid) {\n      this.messageService.reportMessage('USER', 'INVALID', 'E');\n      return false;\n    }\n\n    if (this.userForm.dirty === false) {\n      this.messageService.reportMessage('GENERAL', 'NO_CHANGE', 'W');\n      return false;\n    }\n\n    this.changedUser['ENTITY_ID'] = 'person';\n    this.changedUser['INSTANCE_GUID'] = this.instanceGUID;\n    if (this.isNewMode) {\n      this.changedUser['person'] = {action: 'add', TYPE: 'employee', SYSTEM_ACCESS: 'PORTAL'};\n    }\n\n    const userBasicFormGroup = this.userForm.get('userBasic');\n    const userID = this.userForm.get('USER_ID').value;\n    if (userBasicFormGroup.dirty) {\n      const userBasicNamesFormGroup = userBasicFormGroup.get('names') as FormGroup;\n      this.changedUser['r_user'] = this.uiMapperService.composeChangedRelation(\n        userBasicNamesFormGroup, {USER_ID: userID}, this.isNewMode);\n\n      const userBasicEmployeeFormGroup = userBasicFormGroup.get('employee') as FormGroup;\n      this.changedUser['r_employee'] = this.uiMapperService.composeChangedRelation(\n        userBasicEmployeeFormGroup, {USER_ID: userID}, this.isNewMode);\n    }\n\n    const userEmailFormArray = this.userForm.get('emails') as FormArray;\n    this.changedUser['r_email'] = this.uiMapperService.composeChangedRelationArray(\n      userEmailFormArray, this.originalUserValue['emails'], {EMAIL: null});\n\n    const userAddressFormArray = this.userForm.get('addresses') as FormArray;\n    this.changedUser['r_address'] = this.uiMapperService.composeChangedRelationArray(\n      userAddressFormArray, this.originalUserValue['addresses'], {ADDRESS_ID: null});\n\n    const userPersonalizationFormGroup = this.userForm.get('userPersonalization') as FormGroup;\n    this.changedUser['r_personalization'] = this.uiMapperService.composeChangedRelation(\n      userPersonalizationFormGroup, {USER_ID: userID}, !userPersonalizationFormGroup.get('USER_ID').value);\n\n    const userRoleFormArray = this.userForm.get('userRole') as FormArray;\n    const relationship = this.uiMapperService.composeChangedRelationship(\n      'rs_user_role',\n      [{ENTITY_ID: 'permission', ROLE_ID: 'system_role'}],\n      userRoleFormArray, this.originalUserValue['userRole'], ['NAME', 'DESCRIPTION']);\n    if (relationship) {this.changedUser['relationships'] = [relationship]; }\n\n    return true;\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    if (this.isNewMode || (this.userForm && this.userForm.dirty)) {\n      return this.dialogService.confirm('Discard changes?');\n    } else {\n      return true;\n    }\n  }\n}\n\n","<nav class=\"navbar dk-fixed-top navbar-light bg-light\">\n  <div>\n    <span class=\"font-weight-bold mb-0 mx-1\">{{isNewMode? 'New User' : readonly? 'Display User' : 'Change User'}}</span>\n  </div>\n\n  <div class=\"flex-row-reverse\">\n    <button class=\"btn btn-sm btn-outline-info mr-2\" type=\"button\" title=\"Return to List\" id=\"toList\"\n            (click)=\"return2List()\" >\n      <span class=\"fas fa-list-ul\"> To List</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Edit/Display\" id=\"editDisplay\" (click)=\"switchEditDisplay()\">\n      <span *ngIf=\"readonly\" class=\"fas fa-edit\"> Edit</span>\n      <span *ngIf=\"!readonly\" class=\"fas fa-glasses\"> Display</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Save\" id=\"save\" (click)=\"save()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-save\"> Save</span>\n    </button>\n  </div>\n</nav>\n\n<div class=\"mt-2 mb-2\">\n  <dk-message></dk-message>\n</div>\n\n<div *ngIf=\"userForm\" class=\"ml-2\">\n  <div class=\"mt-2 ml-1 row\">\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('USER_ID')\"\n                            [formGroup]=\"userForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize]=\"true\">\n    </dk-app-attribute-form2>\n    <div class=\"col-md-6 col-lg-4 row form-group mr-2\" [formGroup]=\"userForm\">\n      <label for=\"lockStatus\" class=\"col-form-label col-form-label-sm\">Lock Status:</label>\n      <div id=\"lockStatus\" class=\"form-control dk-icon\">\n        <span *ngIf=\"userForm.get('LOCK').value\" class=\"fas fa-lock\" > Locked</span>\n        <span *ngIf=\"!userForm.get('LOCK').value\" class=\"fas fa-lock-open\"> Unlocked</span>\n      </div>\n    </div>\n    <div class=\"col-md-6 col-lg-4 row form-group mr-2\" [formGroup]=\"userForm\">\n      <label for=\"passwordStatus\" class=\"col-form-label col-form-label-sm\">Password Status:</label>\n      <div id=\"passwordStatus\" class=\"form-control dk-icon\" [ngSwitch]=\"userForm.get('PWD_STATUS').value\">\n        <div *ngSwitchCase=\"\">\n          <span class=\"badge badge-primary\">Initial</span>\n        </div>\n        <div *ngSwitchCase=\"1\">\n          <span class=\"badge badge-success\">Active</span>\n        </div>\n        <div *ngSwitchCase=\"2\">\n          <span class=\"badge badge-warning\">Renew</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <ul class=\"nav nav-tabs mt-1\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(1)\">Basic</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===2\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(2)\">Email</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===3\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(3)\">Address</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===4\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(4)\">Personalization</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===5\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(5)\">Role</a>\n    </li>\n  </ul>\n\n  <div class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n    <app-user-basic *ngSwitchCase=\"1\" [userForm]=\"userForm\" [relationMetas]=\"relationMetas\" [readonly]=\"readonly\"></app-user-basic>\n    <app-user-email *ngSwitchCase=\"2\" [userForm]=\"userForm\" [relationMetas]=\"relationMetas\" [readonly]=\"readonly\"></app-user-email>\n    <app-user-address *ngSwitchCase=\"3\" [userForm]=\"userForm\" [relationMetas]=\"relationMetas\"  [readonly]=\"readonly\"></app-user-address>\n    <app-user-personalization *ngSwitchCase=\"4\" [userForm]=\"userForm\" [relationMetas]=\"relationMetas\" [readonly]=\"readonly\"></app-user-personalization>\n    <app-user-role *ngSwitchCase=\"5\" [userForm]=\"userForm\" [readonly]=\"readonly\"></app-user-role>\n  </div>\n</div>\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormGroup} from '@angular/forms';\nimport {SearchHelpComponent} from 'jor-angular';\n\n@Component({\n  selector: 'app-app-categories',\n  templateUrl: './app-categories.component.html',\n  styleUrls: ['./app-categories.component.css']\n})\nexport class AppCategoriesComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  appCategoryFormArray: FormArray;\n\n  constructor() { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n\n  ngOnInit() {\n    this.appCategoryFormArray = this.mainForm.get('appCategories') as FormArray;\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, rowIDx: number) {\n      return () => context.onChangeKey(rowIDx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalByEntity('category', 'r_app_category',\n      exportObject, true, null, null, afterExportFn);\n  }\n}\n","<table class=\"table table-bordered table-sm dk-table ml-3 mt-4\" [formGroup]=\"mainForm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th class=\"dk-name\">Category</th>\n    <th class=\"dk-description\">Name</th>\n    <th class=\"dk-icon\">ICON</th>\n    <th class=\"dk-number\">Order</th>\n  </tr>\n  </thead>\n\n  <tbody formArrayName=\"appCategories\" class=\"mb-4\">\n  <tr *ngFor=\"let appCategoryForm of appCategoryFormArray.controls; let i = index\" >\n    <td [formGroup]=\"appCategoryForm\">\n      <div class=\"input-group dk-name\">\n        <input class=\"form-control form-control-sm\" type=\"text\" formControlName=\"ID\" readonly>\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-sm btn-outline-secondary btn-light\" type=\"button\" id=\"searchPermission\"\n                  (click)=\"onSearchHelp(i, appCategoryForm)\">\n            <span class=\"fas fa-search\"></span>\n          </button>\n        </div>\n      </div>\n    </td>\n    <td [formGroup]=\"appCategoryForm\" class=\"dk-description\">\n      <input type=\"text\" formControlName=\"NAME\" readonly class=\"form-control form-control-sm\">\n    </td>\n    <td>\n      <span [ngClass]=\"appCategoryForm.get('ICON').value\"></span>\n    </td>\n    <td [formGroup]=\"appCategoryForm\" class=\"dk-number\">\n      <input type=\"number\" formControlName=\"ORDER\" readonly class=\"form-control form-control-sm\">\n    </td>\n  </tr>\n  </tbody>\n</table>\n\n<dk-app-search-help></dk-app-search-help>\n","import {Component, Input, OnChanges, OnInit} from '@angular/core';\nimport {AbstractControl, Form, FormArray, FormGroup} from '@angular/forms';\n\n@Component({\n  selector: 'app-permission-detail-profile',\n  templateUrl: './permission-detail-profile.component.html',\n  styleUrls: ['./permission-detail-profile.component.css']\n})\nexport class PermissionDetailProfileComponent implements OnInit, OnChanges {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  profileFormArray: FormArray;\n  currentProfileFormGroup: FormGroup;\n\n  constructor() { }\n\n  ngOnChanges(): void {\n    this.profileFormArray = <FormArray>this.mainForm.get('categories');\n    this.onSelect(this.profileFormArray.at(0));\n  }\n\n  ngOnInit(): void {\n  }\n\n  onSelect(ctrl: AbstractControl): void {\n    this.currentProfileFormGroup = <FormGroup>ctrl;\n  }\n}\n","<div class=\"row ml-1\">\n  <div class=\"col-3\">\n    <div class=\"btn-toolbar justify-content-end mt-3\" role=\"toolbar\">\n      <button type=\"button\" id=\"remove-object\" class=\"btn btn-light btn-sm\"></button>\n    </div>\n    <div class=\"list-group\">\n      <div *ngFor=\"let profileCtrl of profileFormArray.controls\" >\n        <a *ngIf=\"profileCtrl.get('ROW_TYPE').value === 'category'\" (click)=\"onSelect(profileCtrl)\"\n         class=\"list-group-item list-group-item-action flex-column align-items-start\"\n         [class.active]=\"profileCtrl.get('profile.PROFILE_NAME').value === currentProfileFormGroup.get('profile.PROFILE_NAME').value\">\n        <div class=\"d-flex w-100 justify-content-between\">\n          <h5 class=\"mb-1 dk-text\">{{profileCtrl.get('profile.DESC').value}}</h5>\n        </div>\n        <p class=\"mb-1 dk-text\">{{profileCtrl.get('profile.PROFILE_NAME').value}}</p>\n        <small>changed at: {{profileCtrl.get('profile.CHANGE_TIME').value}}</small>\n      </a>\n      </div>\n    </div>\n  </div>\n  <div class=\"col-9\">\n    <app-authorization [mainForm]=\"currentProfileFormGroup?.get('profile')\" [ctrlName]=\"'authorizations'\"\n                       [readonly]=\"readonly\"></app-authorization>\n  </div>\n</div>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppComponent } from './app.component';\nimport {RouteReuseStrategy, RouterModule, Routes} from '@angular/router';\nimport {LogonComponent, LandingPageComponent} from 'ui-logon-angular';\nimport {LogonModule} from 'ui-logon-angular';\nimport {environment} from '../environments/environment';\nimport { PermissionListComponent } from './permission/permission-list/permission-list.component';\nimport { PermissionDetailComponent } from './permission/permission-detail/permission-detail.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {MessageModule} from 'ui-message-angular';\nimport {WorkProtectionGuard} from './work-protection.guard';\nimport {JorAngularModule} from 'jor-angular';\nimport { AppListComponent } from './app/app-list/app-list.component';\nimport { AppDetailComponent } from './app/app-detail/app-detail.component';\nimport { AppTargetComponent } from './app/app-detail/app-target/app-target.component';\nimport { AppCategoriesComponent } from './app/app-detail/app-categories/app-categories.component';\nimport { AuthObjectListComponent } from './auth_object/auth-object-list/auth-object-list.component';\nimport { AuthObjectDetailComponent } from './auth_object/auth-object-detail/auth-object-detail.component';\nimport { AuthObjectFieldComponent } from './auth_object/auth-object-detail/auth-object-field/auth-object-field.component';\nimport { AdminInfoComponent } from './admin-info/admin-info.component';\nimport { AuthorizationComponent } from './authorization/authorization.component';\nimport { AuthValueComponent } from './authorization/auth-value/auth-value.component';\nimport { AuthValueSinglesComponent } from './authorization/auth-value/auth-value-singles/auth-value-singles.component';\nimport { AuthValueSeloptsComponent } from './authorization/auth-value/auth-value-selopts/auth-value-selopts.component';\nimport { AppCategoryListComponent } from './app_category/app-category-list/app-category-list.component';\nimport { AppCategoryDetailComponent } from './app_category/app-category-detail/app-category-detail.component';\nimport { AppCategoryDetailAppComponent } from\n    './app_category/app-category-detail/app-category-detail-app/app-category-detail-app.component';\nimport { AppCategoryDetailRoleComponent } from\n    './app_category/app-category-detail/app-category-detail-role/app-category-detail-role.component';\nimport { ProfileListComponent } from './profile/profile-list/profile-list.component';\nimport { ProfileDetailComponent } from './profile/profile-detail/profile-detail.component';\nimport { PermissionDetailCategoryComponent } from './permission/permission-detail/permission-detail-category/permission-detail-category.component';\nimport { PermissionDetailProfileComponent } from './permission/permission-detail/permission-detail-profile/permission-detail-profile.component';\nimport { PermissionDetailUserComponent } from './permission/permission-detail/permission-detail-user/permission-detail-user.component';\nimport {UserListComponent} from './user/user-list/user-list.component';\nimport {UserDetailComponent} from './user/user-detail/user-detail.component';\nimport {UserBasicComponent} from './user/user-detail/user-basic/user-basic.component';\nimport {UserPersonalizationComponent} from './user/user-detail/user-personalization/user-personalization.component';\nimport {UserRoleComponent} from './user/user-detail/user-role/user-role.component';\nimport {UserEmailComponent} from './user/user-detail/user-email/user-email.component';\nimport {UserAddressComponent} from './user/user-detail/user-address/user-address.component';\nimport {CustomReuseStrategy} from './custom.reuse.strategy';\n\nconst appRoutes: Routes = [\n  {\n    path: 'logon', component: LogonComponent,\n    data: {\n      title: 'Logon Portal (DH001/Dark1234)', userLabel: 'User ID', pwdLabel: 'Password', btnLabel: 'Sign In',\n      redirectPath: environment.redirectPath, redirectUrl: environment.redirectUrl, host: environment.originalHost\n    }\n  },\n  { path: 'landing', component: LandingPageComponent },\n  { path: 'users', component: UserListComponent},\n  { path: 'users/:userID', component: UserDetailComponent, canDeactivate: [WorkProtectionGuard]},\n  { path: 'apps', component: AppListComponent },\n  { path: 'apps/:appID', component: AppDetailComponent, canDeactivate: [WorkProtectionGuard]},\n  { path: 'app-categories', component: AppCategoryListComponent },\n  { path: 'app-categories/:appCategory', component: AppCategoryDetailComponent, canDeactivate: [WorkProtectionGuard]},\n  { path: 'auth-objects', component: AuthObjectListComponent },\n  { path: 'auth-objects/:authObjName', component: AuthObjectDetailComponent, canDeactivate: [WorkProtectionGuard]},\n  { path: 'permissions', component: PermissionListComponent },\n  { path: 'permissions/:permissionName', component: PermissionDetailComponent, canDeactivate: [WorkProtectionGuard]},\n  { path: 'profiles', component: ProfileListComponent },\n  { path: 'profiles/:profileName', component: ProfileDetailComponent, canDeactivate: [WorkProtectionGuard]},\n  { path: '**', redirectTo: 'logon', pathMatch: 'full'}\n];\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    UserListComponent,\n    UserDetailComponent,\n    UserBasicComponent,\n    UserPersonalizationComponent,\n    UserRoleComponent,\n    UserEmailComponent,\n    UserAddressComponent,\n    AppListComponent,\n    AppDetailComponent,\n    AppTargetComponent,\n    AppCategoriesComponent,\n    AuthObjectListComponent,\n    AuthObjectDetailComponent,\n    AuthObjectFieldComponent,\n    AdminInfoComponent,\n    AuthorizationComponent,\n    AuthValueComponent,\n    AuthValueSinglesComponent,\n    AuthValueSeloptsComponent,\n    AppCategoryListComponent,\n    AppCategoryDetailComponent,\n    AppCategoryDetailAppComponent,\n    AppCategoryDetailRoleComponent,\n    ProfileListComponent,\n    ProfileDetailComponent,\n    PermissionListComponent,\n    PermissionDetailComponent,\n    PermissionDetailCategoryComponent,\n    PermissionDetailProfileComponent,\n    PermissionDetailUserComponent\n  ],\n  imports: [\n    BrowserModule,\n    LogonModule,\n    RouterModule.forRoot(appRoutes),\n    FormsModule,\n    ReactiveFormsModule,\n    MessageModule,\n    JorAngularModule\n  ],\n  providers: [\n    {provide: RouteReuseStrategy, useClass: CustomReuseStrategy}\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormArray, FormBuilder} from '@angular/forms';\nimport {AttributeBase} from 'jor-angular';\nimport {Operator, Option} from '../../../identity';\n\n@Component({\n  selector: 'app-auth-value-selopts',\n  templateUrl: './auth-value-selopts.component.html',\n  styleUrls: ['./auth-value-selopts.component.css']\n})\nexport class AuthValueSeloptsComponent implements OnInit {\n  @Input() selectOptionArray: FormArray;\n  @Input() attrCtrl: AttributeBase;\n  @Input() highAttrCtrl: AttributeBase;\n  @Input() readonly;\n  operatorEnum;\n  optionEnum;\n\n  constructor(private fb: FormBuilder) { }\n\n  ngOnInit(): void {\n    this.operatorEnum = Object.values(Operator);\n    this.optionEnum = Object.values(Option);\n  }\n\n  onChangeOperator(idx: number): void {\n    const selectOptionCtrl = this.selectOptionArray.at(idx);\n    if ( selectOptionCtrl.get('Operator').value === Operator.Between ) {\n      selectOptionCtrl.get('High').enable();\n    } else {\n      selectOptionCtrl.get('High').setValue('');\n      selectOptionCtrl.get('High').disable();\n    }\n  }\n\n  insertValue(idx: number): void {\n    this.selectOptionArray.insert(idx, this.fb.group({\n      Operator: Operator.Between,\n      Option: Option.Include,\n      Low: '',\n      High: ''\n    }));\n  }\n\n  deleteValue(idx: number): void {\n    if (this.selectOptionArray.length === 1) {\n      this.selectOptionArray.at(idx).get('Low').setValue('');\n      this.selectOptionArray.at(idx).get('High').setValue('');\n    } else {\n      this.selectOptionArray.removeAt(idx);\n    }\n    this.selectOptionArray.markAsDirty();\n  }\n}\n","<table class=\"table table-bordered table-sm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th scope=\"col\">Operator</th>\n    <th scope=\"col\">Option</th>\n    <th scope=\"col\">{{attrCtrl.label}} (Low)</th>\n    <th scope=\"col\">{{attrCtrl.label}} (High)</th>\n    <th scope=\"col\">Actions</th>\n  </tr>\n  </thead>\n\n  <tbody>\n  <tr *ngFor=\"let selectOptionForm of selectOptionArray.controls; let i = index\">\n    <td [formGroup]=\"selectOptionForm\" >\n      <select name=\"operator\" class=\"form-control form-control-sm\" required\n              formControlName=\"Operator\" (change)=\"onChangeOperator(i)\">\n        <option *ngFor=\"let operator of operatorEnum\" [value]=\"operator\">{{operator}}</option>\n      </select>\n    </td>\n    <td [formGroup]=\"selectOptionForm\" >\n      <select name=\"operator\" class=\"form-control form-control-sm\" required formControlName=\"Option\">\n        <option *ngFor=\"let option of optionEnum\" [value]=\"option\">{{option}}</option>\n      </select>\n    </td>\n    <td>\n      <dk-app-attribute [attributeControl]=\"attrCtrl\"\n                        [formGroup]=\"selectOptionForm\"\n                        [isSmallSize] = \"true\"\n                        [readonly]=\"readonly\">\n      </dk-app-attribute>\n    </td>\n    <td>\n      <dk-app-attribute [attributeControl]=\"highAttrCtrl\"\n                        [formGroup]=\"selectOptionForm\"\n                        [isSmallSize] = \"true\"\n                        [readonly]=\"readonly\">\n      </dk-app-attribute>\n    </td>\n    <td class=\"dk-actions\">\n      <button class=\"btn btn-sm\" type=\"button\" id=\"add\" [disabled]=\"readonly\" (click)=\"insertValue(i)\" title=\"Insert\">\n        <span class=\"fas fa-plus\"></span>\n      </button>\n      <button class=\"btn btn-sm\" type=\"button\" id=\"delete\" [disabled]=\"readonly\" (click)=\"deleteValue(i)\" title=\"Delete\">\n        <span class=\"far fa-trash-alt\"></span>\n      </button>\n    </td>\n  </tr>\n  </tbody>\n</table>\n","import { Component, OnInit } from '@angular/core';\nimport {PermissionList} from '../../identity';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {IdentityService} from '../../identity.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-permission-list',\n  templateUrl: './permission-list.component.html',\n  styleUrls: ['./permission-list.component.css']\n})\nexport class PermissionListComponent implements OnInit {\n  permissionName: string;\n  permissionDesc: string;\n  permissions: PermissionList[];\n  showDeletionConfirmation = false;\n  toBeDeletedInstance: string;\n\n  get displayDeletionConfirmation() {return this.showDeletionConfirmation ? 'block' : 'none'; }\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  search() {\n    this.messageService.clearMessages();\n    this.permissions = [];\n    this.permissionName = this.permissionName ? this.permissionName.trim() : '';\n    this.permissionDesc = this.permissionDesc ? this.permissionDesc.trim() : '';\n    this.identityService.searchPermissions(this.permissionName, this.permissionDesc).subscribe(\n      data => {\n        if (!data[0]) {\n          this.messageService.reportMessage('GENERAL', 'EMPTY_LIST', messageType.Warning);\n        } else if (data[0]['msgCat']) {\n          const messages = <Message[]>data;\n          messages.forEach( msg => this.messageService.add(msg));\n        } else {\n          this.permissions = <PermissionList[]>data;\n        }\n      }\n    );\n  }\n\n  enterSearch($event): void {\n    if ($event.keyCode === 13 ) {\n      this.search();\n    }\n  }\n\n  new(): void {\n    this.router.navigate(['permissions', '/', {action: 'new'}]);\n  }\n\n  display(permissionName: string): void {\n    this.router.navigate(['permissions', permissionName, {action: 'display'}]);\n  }\n\n  change(permissionName: string): void {\n    this.router.navigate(['permissions', permissionName, {action: 'change'}]);\n  }\n\n  delete(permissionName: string): void {\n    this.toBeDeletedInstance = permissionName;\n    this.showDeletionConfirmation = true;\n  }\n\n  cancelDeletion(): void {\n    this.showDeletionConfirmation = false;\n  }\n\n  confirmDeletion(): void {\n    const toBeDeletedPermissionGUID = this.permissions.find(\n      ele => ele.NAME === this.toBeDeletedInstance).INSTANCE_GUID;\n    this.identityService.delete(toBeDeletedPermissionGUID).subscribe( errorMsg => {\n      this.showDeletionConfirmation = false;\n      if (errorMsg) {\n        const messages = <Message[]>errorMsg;\n        messages.forEach( msg => this.messageService.add(msg));\n      } else {\n        this.search();\n      }\n    });\n  }\n\n}\n","<div class=\"card mb-3 pt-3\">\n  <div class=\"mt-2 pl-4 row\">\n    <div class=\"col-6 form-group row\">\n      <label for=\"permission_name\" class=\"col-sm-3 col-form-label\">Permission:</label>\n      <input id=\"permission_name\" name=\"user_id\" [(ngModel)]=\"permissionName\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\" autofocus>\n    </div>\n    <div class=\"col-6 form-group row\">\n      <label for=\"permission_desc\" class=\"col-sm-3 col-form-label\">Description:</label>\n      <input id=\"permission_desc\" name=\"user_name\" [(ngModel)]=\"permissionDesc\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\">\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <button type=\"button\" id=\"search\" class=\"btn btn-primary btn-sm float-right mr-4\" (click)=\"search()\">Search</button>\n  </div>\n</div>\n\n<div class=\"mt-2 mb-4 mx-4\">\n  <dk-message></dk-message>\n  <div class=\"btn-toolbar justify-content-end my-2\" role=\"toolbar\">\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"new()\">\n      <span class=\"fas fa-plus\"></span> New</button>\n  </div>\n  <table class=\"table table-bordered table-sm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Description</th>\n      <th scope=\"col\">Created By</th>\n      <th scope=\"col\">Created At</th>\n      <th scope=\"col\">Changed By</th>\n      <th scope=\"col\">Changed At</th>\n      <th scope=\"col\">Action</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let permission of permissions\">\n      <td><a [routerLink]=\"['/permissions', permission.NAME, {action: 'display'}]\">{{permission.NAME}}</a></td>\n      <td>{{permission.DESCRIPTION}}</td>\n      <td>{{permission.CREATED_BY}}</td>\n      <td>{{permission.CREATE_TIME}}</td>\n      <td>{{permission.CHANGED_BY}}</td>\n      <td>{{permission.CHANGE_TIME}}</td>\n      <td class=\"dk-actions\">\n        <button title=\"Display\" id=\"display\" class=\"btn btn-sm\" type=\"button\" (click)=\"display(permission.NAME)\">\n          <span class=\"fas fa-search\"></span>\n        </button>\n        <button title=\"Change\" id=\"change\" class=\"btn btn-sm\" type=\"button\" (click)=\"change(permission.NAME)\">\n          <span class=\"fas fa-pen\"></span>\n        </button>\n        <button title=\"Delete\" id=\"delete\" class=\"btn btn-sm\" type=\"button\" (click)=\"delete(permission.NAME)\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class=\"modal fade\" [class.show]=\"showDeletionConfirmation\"\n       [ngStyle]=\"{'display': displayDeletionConfirmation}\" id=\"deletionConfirmation\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-sm modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"confirmDeletion\">Confirm Deletion</h5>\n          <button type=\"button\" class=\"close\" (click)=\"cancelDeletion()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure to delete the permission '{{toBeDeletedInstance}}'?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" id=\"cancel\" class=\"btn btn-sm btn-secondary\" (click)=\"cancelDeletion()\">Cancel</button>\n          <button type=\"button\" id=\"confirm\" class=\"btn btn-sm btn-primary\" (click)=\"confirmDeletion()\">Confirm</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"crnd\";","import { Component, OnInit } from '@angular/core';\nimport {AppList, AuthObjList} from '../../identity';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-auth-object-list',\n  templateUrl: './auth-object-list.component.html',\n  styleUrls: ['./auth-object-list.component.css']\n})\nexport class AuthObjectListComponent implements OnInit {\n  authObjName: string;\n  authObjDesc: string;\n  authObjects: AuthObjList[];\n  showDeletionConfirmation = false;\n  toBeDeletedInstance: string;\n\n  get displayDeletionConfirmation() {return this.showDeletionConfirmation ? 'block' : 'none'; }\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  search() {\n    this.messageService.clearMessages();\n    this.authObjects = [];\n    this.authObjName = this.authObjName ? this.authObjName.trim() : '';\n    this.authObjDesc = this.authObjDesc ? this.authObjDesc.trim() : '';\n    this.identityService.searchAuthObjects(this.authObjName, this.authObjDesc).subscribe(\n      data => {\n        if (!data[0]) {\n          this.messageService.reportMessage('GENERAL', 'EMPTY_LIST', messageType.Warning);\n        } else if (data[0]['msgCat']) {\n          const messages = <Message[]>data;\n          messages.forEach( msg => this.messageService.add(msg));\n        } else {\n          this.authObjects = <AuthObjList[]>data;\n        }\n      }\n    );\n  }\n\n  enterSearch($event): void {\n    if ($event.keyCode === 13 ) {\n      this.search();\n    }\n  }\n\n  new(): void {\n    this.router.navigate(['auth-objects', '/', {action: 'new'}]);\n  }\n\n  display(authObjName: string): void {\n    this.router.navigate(['auth-objects', authObjName, {action: 'display'}]);\n  }\n\n  change(authObjName: string): void {\n    this.router.navigate(['auth-objects', authObjName, {action: 'change'}]);\n  }\n\n  delete(authObjName: string): void {\n    this.toBeDeletedInstance = authObjName;\n    this.showDeletionConfirmation = true;\n  }\n\n  cancelDeletion(): void {\n    this.showDeletionConfirmation = false;\n  }\n\n  confirmDeletion(): void {\n    const toBeDeletedInstanceGUID = this.authObjects.find(\n      ele => ele.OBJ_NAME === this.toBeDeletedInstance).INSTANCE_GUID;\n    this.identityService.delete(toBeDeletedInstanceGUID).subscribe( errorMsg => {\n      this.showDeletionConfirmation = false;\n      if (errorMsg) {\n        const messages = <Message[]>errorMsg;\n        messages.forEach( msg => this.messageService.add(msg));\n      } else {\n        this.search();\n      }\n    });\n  }\n}\n","<div class=\"card mb-3 pt-3\">\n  <div class=\"mt-2 pl-4 row\">\n    <div class=\"col-6 form-group row\">\n      <label for=\"auth_obj_name\" class=\"col-sm-3 col-form-label\">Object Name:</label>\n      <input id=\"auth_obj_name\" name=\"auth_obj_name\" [(ngModel)]=\"authObjName\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\" autofocus>\n    </div>\n    <div class=\"col-6 form-group row\">\n      <label for=\"auth_obj_desc\" class=\"col-sm-3 col-form-label\">Description:</label>\n      <input id=\"auth_obj_desc\" name=\"auth_obj_desc\" [(ngModel)]=\"authObjDesc\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\">\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <button type=\"button\" id=\"search\" class=\"btn btn-primary btn-sm float-right mr-4\" (click)=\"search()\">Search</button>\n  </div>\n</div>\n\n<div class=\"mt-2 mb-4 mx-4\">\n  <dk-message></dk-message>\n  <div class=\"btn-toolbar justify-content-end my-2\" role=\"toolbar\">\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"new()\">\n      <span class=\"fas fa-plus\"></span> New</button>\n  </div>\n  <table class=\"table table-bordered table-sm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Desc</th>\n      <th scope=\"col\">Changed By</th>\n      <th scope=\"col\">Changed At</th>\n      <th scope=\"col\">Action</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let authObj of authObjects\">\n      <td><a [routerLink]=\"['/auth-objects', authObj.OBJ_NAME, {action: 'display'}]\">{{authObj.OBJ_NAME}}</a></td>\n      <td>{{authObj.DESC}}</td>\n      <td>{{authObj.CHANGED_BY}}</td>\n      <td>{{authObj.CHANGE_TIME}}</td>\n      <td class=\"dk-actions\">\n        <button title=\"Display\" id=\"display\" class=\"btn btn-sm\" type=\"button\" (click)=\"display(authObj.OBJ_NAME)\">\n          <span class=\"fas fa-search\"></span>\n        </button>\n        <button title=\"Change\" id=\"change\" class=\"btn btn-sm\" type=\"button\" (click)=\"change(authObj.OBJ_NAME)\">\n          <span class=\"fas fa-pen\"></span>\n        </button>\n        <button title=\"Delete\" id=\"delete\" class=\"btn btn-sm\" type=\"button\" (click)=\"delete(authObj.OBJ_NAME)\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class=\"modal\" [class.show]=\"showDeletionConfirmation\"\n       [ngStyle]=\"{'display': displayDeletionConfirmation}\" id=\"deletionConfirmation\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-sm modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"confirmDeletion\">Confirm Deletion</h5>\n          <button type=\"button\" class=\"close\" (click)=\"cancelDeletion()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure to delete the authorization object '{{toBeDeletedInstance}}'?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" id=\"cancel\" class=\"btn btn-sm btn-secondary\" (click)=\"cancelDeletion()\">Cancel</button>\n          <button type=\"button\" id=\"confirm\" class=\"btn btn-sm btn-primary\" (click)=\"confirmDeletion()\">Confirm</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {AppCategoryList, AuthObjList} from '../../identity';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-app-category-list',\n  templateUrl: './app-category-list.component.html',\n  styleUrls: ['./app-category-list.component.css']\n})\nexport class AppCategoryListComponent implements OnInit {\n  appCategoryID: string;\n  appCategoryName: string;\n  appCategories: AppCategoryList[];\n  showDeletionConfirmation = false;\n  toBeDeletedInstance: string;\n\n  get displayDeletionConfirmation() {return this.showDeletionConfirmation ? 'block' : 'none'; }\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  search() {\n    this.messageService.clearMessages();\n    this.appCategories = [];\n    this.appCategoryID = this.appCategoryID ? this.appCategoryID.trim() : '';\n    this.appCategoryName = this.appCategoryName ? this.appCategoryName.trim() : '';\n    this.identityService.searchAppCategories(this.appCategoryID, this.appCategoryName).subscribe(\n      data => {\n        if (!data[0]) {\n          this.messageService.reportMessage('GENERAL', 'EMPTY_LIST', messageType.Warning);\n        } else if (data[0]['msgCat']) {\n          const messages = <Message[]>data;\n          messages.forEach( msg => this.messageService.add(msg));\n        } else {\n          this.appCategories = <AppCategoryList[]>data;\n        }\n      }\n    );\n  }\n\n  enterSearch($event): void {\n    if ($event.keyCode === 13 ) {\n      this.search();\n    }\n  }\n\n  new(): void {\n    this.router.navigate(['app-categories', '/', {action: 'new'}]);\n  }\n\n  display(appCategoryID: string): void {\n    this.router.navigate(['app-categories', appCategoryID, {action: 'display'}]);\n  }\n\n  change(appCategoryID: string): void {\n    this.router.navigate(['app-categories', appCategoryID, {action: 'change'}]);\n  }\n\n  delete(appCategoryID: string): void {\n    this.toBeDeletedInstance = appCategoryID;\n    this.showDeletionConfirmation = true;\n  }\n\n  cancelDeletion(): void {\n    this.showDeletionConfirmation = false;\n  }\n\n  confirmDeletion(): void {\n    const toBeDeletedInstanceGUID = this.appCategories.find(\n      ele => ele.ID === this.toBeDeletedInstance).INSTANCE_GUID;\n    this.identityService.delete(toBeDeletedInstanceGUID).subscribe( errorMsg => {\n      this.showDeletionConfirmation = false;\n      if (errorMsg) {\n        const messages = <Message[]>errorMsg;\n        messages.forEach( msg => this.messageService.add(msg));\n      } else {\n        this.search();\n      }\n    });\n  }\n\n}\n","<div class=\"card mb-3 pt-3\">\n  <div class=\"mt-2 pl-4 row\">\n    <div class=\"col-6 form-group row\">\n      <label for=\"app_category_id\" class=\"col-sm-3 col-form-label\">Category ID:</label>\n      <input id=\"app_category_id\" name=\"app_category_id\" [(ngModel)]=\"appCategoryID\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\" autofocus>\n    </div>\n    <div class=\"col-6 form-group row\">\n      <label for=\"app_category_name\" class=\"col-sm-3 col-form-label\">Category Name:</label>\n      <input id=\"app_category_name\" name=\"app_category_name\" [(ngModel)]=\"appCategoryName\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\">\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <button type=\"button\" id=\"search\" class=\"btn btn-primary btn-sm float-right mr-4\" (click)=\"search()\">Search</button>\n  </div>\n</div>\n\n<div class=\"mt-2 mb-4 mx-4\">\n  <dk-message></dk-message>\n  <div class=\"btn-toolbar justify-content-end my-2\" role=\"toolbar\">\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"new()\">\n      <span class=\"fas fa-plus\"></span> New</button>\n  </div>\n  <table class=\"table table-bordered table-sm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th scope=\"col\">ID</th>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Icon</th>\n      <th scope=\"col\">Changed By</th>\n      <th scope=\"col\">Changed At</th>\n      <th scope=\"col\">Action</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let appCategory of appCategories\">\n      <td><a [routerLink]=\"['/app-categories', appCategory.ID, {action: 'display'}]\">{{appCategory.ID}}</a></td>\n      <td>{{appCategory.NAME}}</td>\n      <td><span [ngClass]=\"appCategory.ICON\"></span></td>\n      <td>{{appCategory.CHANGED_BY}}</td>\n      <td>{{appCategory.CHANGE_TIME}}</td>\n      <td class=\"dk-actions\">\n        <button title=\"Display\" id=\"display\" class=\"btn btn-sm\" type=\"button\" (click)=\"display(appCategory.ID)\">\n          <span class=\"fas fa-search\"></span>\n        </button>\n        <button title=\"Change\" id=\"change\" class=\"btn btn-sm\" type=\"button\" (click)=\"change(appCategory.ID)\">\n          <span class=\"fas fa-pen\"></span>\n        </button>\n        <button title=\"Delete\" id=\"delete\" class=\"btn btn-sm\" type=\"button\" (click)=\"delete(appCategory.ID)\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class=\"modal fade\" [class.show]=\"showDeletionConfirmation\"\n       [ngStyle]=\"{'display': displayDeletionConfirmation}\" id=\"deletionConfirmation\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-sm modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"confirmDeletion\">Confirm Deletion</h5>\n          <button type=\"button\" class=\"close\" (click)=\"cancelDeletion()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure to delete the app category '{{toBeDeletedInstance}}'?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" id=\"cancel\" class=\"btn btn-sm btn-secondary\" (click)=\"cancelDeletion()\">Cancel</button>\n          <button type=\"button\" id=\"confirm\" class=\"btn btn-sm btn-primary\" (click)=\"confirmDeletion()\">Confirm</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","import { ɵɵdefineInjectable, ɵɵinject, Injectable, Component, Inject, ViewChild, ElementRef, Input, NgModule } from '@angular/core';\nimport { HttpHeaders, HttpClient, HttpClientModule } from '@angular/common/http';\nimport { messageType, MessageService, MessageModule } from 'ui-message-angular';\nimport { of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AutofillMonitor } from '@angular/cdk/text-field';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common/http';\nimport * as ɵngcc2 from 'ui-message-angular';\nimport * as ɵngcc3 from '@angular/router';\nimport * as ɵngcc4 from '@angular/cdk/text-field';\nimport * as ɵngcc5 from '@angular/forms';\nimport * as ɵngcc6 from '@angular/common';\n\nconst _c0 = [\"inputUserID\"];\nconst _c1 = [\"inputPassword\"];\nfunction LogonComponent_i_18_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"i\", 14);\n} }\nconst msgStore = [\n    { msgCat: 'EXCEPTION',\n        msgName: 'GENERIC',\n        msgText: {\n            EN: { shortText: 'Exception Occurs',\n                longText: '%s1' }\n        }\n    }\n];\n\nconst httpOptions = {\n    headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\nclass LogonService {\n    constructor(http, messageService) {\n        this.http = http;\n        this.messageService = messageService;\n        this.host = '';\n        this.messageService.setMessageStore(msgStore, 'EN');\n    }\n    setHost(host) {\n        this.host = host;\n    }\n    logon(userid, password) {\n        return this.http.post(this.host ? this.host + '/api/logon' : 'api/logon', { username: userid, password: password }, httpOptions).pipe(catchError(this.handleError('Logon')));\n    }\n    logout() {\n        return this.http.delete(this.host ? this.host + '/api/logout' : 'api/logout', httpOptions).pipe(catchError(this.handleError('Logout')));\n    }\n    session() {\n        return this.http.get(this.host ? this.host + '/api/session' : 'api/session', httpOptions).pipe(catchError(this.handleError('Get session')));\n    }\n    /**\n     * this method is called during logon component initialization. It tries to get the session,\n     * but without raising any errors.\n     */\n    try_get_session() {\n        return this.http.get(this.host ? this.host + '/api/session' : 'api/session', httpOptions);\n    }\n    query(queryObject) {\n        return this.http.post(this.host ? this.host + '/api/query' : 'api/query', queryObject, httpOptions).pipe(catchError(this.handleError('query')));\n    }\n    read(instanceGUID) {\n        return this.http.get(this.host ? this.host + `/api/entity/instance/${instanceGUID}` : `api/entity/instance/${instanceGUID}`)\n            .pipe(catchError(this.handleError('read')));\n    }\n    handleError(operation = 'operation', result) {\n        return (error) => {\n            // TODO: send the error to remote logging infrastructure\n            console.error(error); // log to console instead\n            this.messageService.addMessage('EXCEPTION', 'GENERIC', messageType.Exception, JSON.stringify(error));\n            // Let the app keep running by returning an empty result.\n            return of(result);\n        };\n    }\n}\nLogonService.ɵfac = function LogonService_Factory(t) { return new (t || LogonService)(ɵngcc0.ɵɵinject(ɵngcc1.HttpClient), ɵngcc0.ɵɵinject(ɵngcc2.MessageService)); };\nLogonService.ɵprov = ɵɵdefineInjectable({ factory: function LogonService_Factory() { return new LogonService(ɵɵinject(HttpClient), ɵɵinject(MessageService)); }, token: LogonService, providedIn: \"root\" });\nLogonService.ctorParameters = () => [\n    { type: HttpClient },\n    { type: MessageService }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LogonService, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: ɵngcc1.HttpClient }, { type: ɵngcc2.MessageService }]; }, null); })();\n\nclass User {\n}\nclass PluralField {\n}\nclass QueryObject {\n}\nclass Projection {\n}\nclass Selection {\n}\nclass Sort {\n}\nclass Session {\n}\n\nclass LogonComponent {\n    constructor(document, router, route, autofill, logonService, messageService) {\n        this.document = document;\n        this.router = router;\n        this.route = route;\n        this.autofill = autofill;\n        this.logonService = logonService;\n        this.messageService = messageService;\n        this.user = new User;\n        this.isWaiting = false;\n        this.title = 'Logon Portal';\n        this.userLabel = 'User ID';\n        this.pwdLabel = 'Password';\n        this.btnLabel = 'Logon';\n        this.redirectUrl = '';\n        this.redirectPath = '';\n        this.host = '';\n    }\n    ngOnInit() {\n        this.autofill.monitor(this.inputUserID.nativeElement);\n        this.autofill.monitor(this.inputPassword.nativeElement);\n        if (this.route.snapshot.data['title']) {\n            this.title = this.route.snapshot.data['title'];\n        }\n        if (this.route.snapshot.data['userLabel']) {\n            this.userLabel = this.route.snapshot.data['userLabel'];\n        }\n        if (this.route.snapshot.data['pwdLabel']) {\n            this.pwdLabel = this.route.snapshot.data['pwdLabel'];\n        }\n        if (this.route.snapshot.data['btnLabel']) {\n            this.btnLabel = this.route.snapshot.data['btnLabel'];\n        }\n        if (this.route.snapshot.data['redirectUrl']) {\n            this.redirectUrl = this.route.snapshot.data['redirectUrl'];\n        }\n        if (this.route.snapshot.data['redirectPath']) {\n            this.redirectPath = this.route.snapshot.data['redirectPath'];\n        }\n        if (this.route.snapshot.data['host']) {\n            this.host = this.route.snapshot.data['host'];\n        }\n        this.logonService.setHost(this.host);\n    }\n    ngOnDestroy() {\n        this.autofill.stopMonitoring(this.inputUserID.nativeElement);\n        this.autofill.stopMonitoring(this.inputPassword.nativeElement);\n    }\n    logon() {\n        this.isWaiting = true;\n        this.logonService.logon(this.user.userid, this.user.password).subscribe(data => {\n            this.isWaiting = false;\n            if (!data) {\n                return;\n            }\n            if (data.err) {\n                if (Array.isArray(data.err)) {\n                    data.err.forEach(err => this.messageService.add(err));\n                }\n                else {\n                    this.messageService.report(data.err);\n                }\n            }\n            else {\n                this.user.displayName = data.user['DISPLAY_NAME'];\n                this.user.userid = data.user['USER_ID'];\n                this.user.username = data.user['USER_NAME'];\n                this.user.locked = data.user['LOCK'];\n                this.user.pwdState = data.user['PWD_STATE'];\n                this.user.name = data.user['GIVEN_NAME'];\n                if (this.redirectPath) {\n                    this.router.navigateByUrl(this.redirectPath);\n                }\n                else if (this.redirectUrl) {\n                    this.document.location.href = this.redirectUrl;\n                }\n            }\n        });\n    }\n}\nLogonComponent.ɵfac = function LogonComponent_Factory(t) { return new (t || LogonComponent)(ɵngcc0.ɵɵdirectiveInject(DOCUMENT), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.Router), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.ActivatedRoute), ɵngcc0.ɵɵdirectiveInject(ɵngcc4.AutofillMonitor), ɵngcc0.ɵɵdirectiveInject(LogonService), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.MessageService)); };\nLogonComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: LogonComponent, selectors: [[\"dk-logon\"]], viewQuery: function LogonComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵstaticViewQuery(_c0, true, ElementRef);\n        ɵngcc0.ɵɵstaticViewQuery(_c1, true, ElementRef);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.inputUserID = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.inputPassword = _t.first);\n    } }, inputs: { title: \"title\", userLabel: \"userLabel\", pwdLabel: \"pwdLabel\", btnLabel: \"btnLabel\", redirectUrl: \"redirectUrl\", redirectPath: \"redirectPath\", host: \"host\" }, decls: 20, vars: 8, consts: [[1, \"dk-form-logon\", 3, \"ngSubmit\"], [3, \"disabled\"], [1, \"text-center\", \"dk-mb-4\"], [1, \"dk-form-title\", \"dk-mb-3\", \"font-weight-normal\"], [1, \"dk-message-area\"], [1, \"dk-form-label-group\"], [\"type\", \"text\", \"id\", \"inputUserID\", \"name\", \"inputUserID\", \"placeholder\", \"User ID\", \"required\", \"\", \"autofocus\", \"\", 1, \"form-control\", \"dk-form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"inputUserID\", \"\"], [\"for\", \"inputUserID\"], [\"type\", \"password\", \"id\", \"inputPassword\", \"name\", \"inputPassword\", \"placeholder\", \"Password\", \"required\", \"\", 1, \"form-control\", \"dk-form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"inputPassword\", \"\"], [\"for\", \"inputPassword\"], [\"type\", \"submit\", 1, \"btn\", \"dk-btn-lg\", \"btn-primary\", \"btn-block\"], [\"class\", \"fas fa-spinner fa-spin\", 4, \"ngIf\"], [1, \"fas\", \"fa-spinner\", \"fa-spin\"]], template: function LogonComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"form\", 0);\n        ɵngcc0.ɵɵlistener(\"ngSubmit\", function LogonComponent_Template_form_ngSubmit_0_listener() { return ctx.logon(); });\n        ɵngcc0.ɵɵelementStart(1, \"fieldset\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n        ɵngcc0.ɵɵelementStart(3, \"h1\", 3);\n        ɵngcc0.ɵɵtext(4);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(5, \"div\", 4);\n        ɵngcc0.ɵɵelement(6, \"dk-message\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(7, \"div\", 5);\n        ɵngcc0.ɵɵelementStart(8, \"input\", 6, 7);\n        ɵngcc0.ɵɵlistener(\"ngModelChange\", function LogonComponent_Template_input_ngModelChange_8_listener($event) { return ctx.user.userid = $event; });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(10, \"label\", 8);\n        ɵngcc0.ɵɵtext(11);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(12, \"div\", 5);\n        ɵngcc0.ɵɵelementStart(13, \"input\", 9, 10);\n        ɵngcc0.ɵɵlistener(\"ngModelChange\", function LogonComponent_Template_input_ngModelChange_13_listener($event) { return ctx.user.password = $event; });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(15, \"label\", 11);\n        ɵngcc0.ɵɵtext(16);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(17, \"button\", 12);\n        ɵngcc0.ɵɵtemplate(18, LogonComponent_i_18_Template, 1, 0, \"i\", 13);\n        ɵngcc0.ɵɵtext(19);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"disabled\", ctx.isWaiting);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵtextInterpolate(ctx.title);\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"ngModel\", ctx.user.userid);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵtextInterpolate(ctx.userLabel);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngModel\", ctx.user.password);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵtextInterpolate(ctx.pwdLabel);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isWaiting);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.btnLabel, \" \");\n    } }, directives: [ɵngcc5.ɵangular_packages_forms_forms_y, ɵngcc5.NgControlStatusGroup, ɵngcc5.NgForm, ɵngcc2.MessageComponent, ɵngcc5.DefaultValueAccessor, ɵngcc5.RequiredValidator, ɵngcc5.NgControlStatus, ɵngcc5.NgModel, ɵngcc6.NgIf], styles: [\".dk-form-logon[_ngcontent-%COMP%]{--input-padding-x:0.75rem;--input-padding-y:0.75rem;line-height:1.5;margin:0 auto;max-width:420px;padding:15px;width:100%}.dk-form-logon[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.5rem}.dk-message-area[_ngcontent-%COMP%]{margin-bottom:.5rem}.dk-mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.dk-mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem}.dk-form-title[_ngcontent-%COMP%]{color:inherit;font-family:inherit;font-size:1.75rem;line-height:1.2}.dk-form-label-group[_ngcontent-%COMP%]{margin-bottom:1rem;position:relative}.dk-form-control[_ngcontent-%COMP%]{border-radius:.25rem;font-size:1rem;height:calc(2.9rem + 2px)}.dk-form-label-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .dk-form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding:var(--input-padding-y) var(--input-padding-x)}.dk-form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{border:1px solid transparent;border-radius:.25rem;color:#495057;display:block;left:0;line-height:1.5;margin-bottom:0;position:absolute;top:0;transition:all .1s ease-in-out;width:100%}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:transparent}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:transparent}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:transparent}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;-webkit-transition:background-color 50000s ease-in-out 0s;animation-name:cdk-text-field-autofill-start;transition:background-color 50000s ease-in-out 0s}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y) + var(--input-padding-y)*0.66667)}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder){padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y) + var(--input-padding-y)*0.66667)}.dk-form-label-group[_ngcontent-%COMP%]   input.cdk-text-field-autofilled[_ngcontent-%COMP%], .dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y) + var(--input-padding-y)*0.66667)}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) ~ label[_ngcontent-%COMP%]{color:#777;font-size:.75rem;padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y)/3)}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder) ~ label[_ngcontent-%COMP%]{color:#777;font-size:.75rem;padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y)/3)}.dk-form-label-group[_ngcontent-%COMP%]   input.cdk-text-field-autofilled[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%], .dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{color:#777;font-size:.75rem;padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y)/3)}.dk-btn-lg[_ngcontent-%COMP%]{border-radius:.3rem;font-size:1.25rem;line-height:1.5;padding:.5rem 1rem}\"] });\nLogonComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },\n    { type: Router },\n    { type: ActivatedRoute },\n    { type: AutofillMonitor },\n    { type: LogonService },\n    { type: MessageService }\n];\nLogonComponent.propDecorators = {\n    inputUserID: [{ type: ViewChild, args: ['inputUserID', { read: ElementRef, static: true },] }],\n    inputPassword: [{ type: ViewChild, args: ['inputPassword', { read: ElementRef, static: true },] }],\n    title: [{ type: Input }],\n    userLabel: [{ type: Input }],\n    pwdLabel: [{ type: Input }],\n    btnLabel: [{ type: Input }],\n    redirectUrl: [{ type: Input }],\n    redirectPath: [{ type: Input }],\n    host: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LogonComponent, [{\n        type: Component,\n        args: [{\n                selector: 'dk-logon',\n                template: \"<form class=\\\"dk-form-logon\\\" (ngSubmit)=\\\"logon()\\\">\\n  <fieldset [disabled]=\\\"isWaiting\\\">\\n    <div class=\\\"text-center dk-mb-4\\\">\\n      <!--<img class=\\\"mb-4\\\" src=\\\"https://getbootstrap.com/assets/brand/bootstrap-solid.svg\\\" alt=\\\"\\\" width=\\\"72\\\" height=\\\"72\\\">-->\\n      <h1 class=\\\"dk-form-title dk-mb-3 font-weight-normal\\\">{{title}}</h1>\\n    </div>\\n\\n    <div class=\\\"dk-message-area\\\">\\n      <dk-message></dk-message>\\n    </div>\\n\\n    <div class=\\\"dk-form-label-group\\\">\\n      <input type=\\\"text\\\" id=\\\"inputUserID\\\" name=\\\"inputUserID\\\" #inputUserID class=\\\"form-control dk-form-control\\\"\\n             [(ngModel)]=\\\"user.userid\\\" placeholder=\\\"User ID\\\" required=\\\"\\\" autofocus=\\\"\\\">\\n      <label for=\\\"inputUserID\\\">{{userLabel}}</label>\\n    </div>\\n\\n    <div class=\\\"dk-form-label-group\\\">\\n      <input type=\\\"password\\\" id=\\\"inputPassword\\\" name=\\\"inputPassword\\\" #inputPassword class=\\\"form-control dk-form-control\\\"\\n             [(ngModel)]=\\\"user.password\\\" placeholder=\\\"Password\\\" required=\\\"\\\">\\n      <label for=\\\"inputPassword\\\">{{pwdLabel}}</label>\\n    </div>\\n\\n    <button class=\\\"btn dk-btn-lg btn-primary btn-block\\\" type=\\\"submit\\\">\\n      <i *ngIf=\\\"isWaiting\\\" class=\\\"fas fa-spinner fa-spin\\\"></i> {{btnLabel}}\\n    </button>\\n  </fieldset>\\n</form>\\n\\n\",\n                styles: [\".dk-form-logon{--input-padding-x:0.75rem;--input-padding-y:0.75rem;line-height:1.5;margin:0 auto;max-width:420px;padding:15px;width:100%}.dk-form-logon label{font-size:1rem;margin-bottom:.5rem}.dk-message-area{margin-bottom:.5rem}.dk-mb-3{margin-bottom:1rem}.dk-mb-4{margin-bottom:1.5rem}.dk-form-title{color:inherit;font-family:inherit;font-size:1.75rem;line-height:1.2}.dk-form-label-group{margin-bottom:1rem;position:relative}.dk-form-control{border-radius:.25rem;font-size:1rem;height:calc(2.9rem + 2px)}.dk-form-label-group>input,.dk-form-label-group>label{padding:var(--input-padding-y) var(--input-padding-x)}.dk-form-label-group>label{border:1px solid transparent;border-radius:.25rem;color:#495057;display:block;left:0;line-height:1.5;margin-bottom:0;position:absolute;top:0;transition:all .1s ease-in-out;width:100%}.dk-form-label-group input:-ms-input-placeholder{color:transparent}.dk-form-label-group input::-moz-placeholder{color:transparent}.dk-form-label-group input::placeholder{color:transparent}.dk-form-label-group input:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;-webkit-transition:background-color 50000s ease-in-out 0s;animation-name:cdk-text-field-autofill-start;transition:background-color 50000s ease-in-out 0s}.dk-form-label-group input:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}.dk-form-label-group input:not(:-moz-placeholder-shown){padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y) + var(--input-padding-y)*0.66667)}.dk-form-label-group input:not(:-ms-input-placeholder){padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y) + var(--input-padding-y)*0.66667)}.dk-form-label-group input.cdk-text-field-autofilled,.dk-form-label-group input:not(:placeholder-shown){padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y) + var(--input-padding-y)*0.66667)}.dk-form-label-group input:not(:-moz-placeholder-shown)~label{color:#777;font-size:.75rem;padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y)/3)}.dk-form-label-group input:not(:-ms-input-placeholder)~label{color:#777;font-size:.75rem;padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y)/3)}.dk-form-label-group input.cdk-text-field-autofilled~label,.dk-form-label-group input:not(:placeholder-shown)~label{color:#777;font-size:.75rem;padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y)/3)}.dk-btn-lg{border-radius:.3rem;font-size:1.25rem;line-height:1.5;padding:.5rem 1rem}\"]\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: ɵngcc3.Router }, { type: ɵngcc3.ActivatedRoute }, { type: ɵngcc4.AutofillMonitor }, { type: LogonService }, { type: ɵngcc2.MessageService }]; }, { title: [{\n            type: Input\n        }], userLabel: [{\n            type: Input\n        }], pwdLabel: [{\n            type: Input\n        }], btnLabel: [{\n            type: Input\n        }], redirectUrl: [{\n            type: Input\n        }], redirectPath: [{\n            type: Input\n        }], host: [{\n            type: Input\n        }], inputUserID: [{\n            type: ViewChild,\n            args: ['inputUserID', { read: ElementRef, static: true }]\n        }], inputPassword: [{\n            type: ViewChild,\n            args: ['inputPassword', { read: ElementRef, static: true }]\n        }] }); })();\n\nclass LandingPageComponent {\n    constructor(router, logonService) {\n        this.router = router;\n        this.logonService = logonService;\n    }\n    ngOnInit() {\n    }\n    logout() {\n        this.logonService.logout().subscribe(data => {\n            this.router.navigateByUrl('');\n        });\n    }\n    session() {\n        this.logonService.session().subscribe(data => {\n            this.result = data;\n        });\n    }\n    query() {\n        const queryObject = {\n            ENTITY_ID: 'person',\n            RELATION_ID: 'r_user'\n        };\n        this.logonService.query(queryObject).subscribe(data => this.result = data);\n    }\n    read() {\n        this.logonService.read('2FBE7490E10F11E8A90957FA46F2CECA').subscribe(data => this.result = data);\n    }\n}\nLandingPageComponent.ɵfac = function LandingPageComponent_Factory(t) { return new (t || LandingPageComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc3.Router), ɵngcc0.ɵɵdirectiveInject(LogonService)); };\nLandingPageComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: LandingPageComponent, selectors: [[\"dk-landing-page\"]], decls: 15, vars: 3, consts: [[\"role\", \"group\", 1, \"btn-group\"], [\"type\", \"button\", 1, \"btn\", \"dk-btn-lg\", \"btn-primary\", 3, \"click\"], [1, \"container\"]], template: function LandingPageComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"h4\");\n        ɵngcc0.ɵɵtext(1, \" Logon Successfully\\n\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(2, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(3, \"button\", 1);\n        ɵngcc0.ɵɵlistener(\"click\", function LandingPageComponent_Template_button_click_3_listener() { return ctx.logout(); });\n        ɵngcc0.ɵɵtext(4, \"Logout\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(5, \"button\", 1);\n        ɵngcc0.ɵɵlistener(\"click\", function LandingPageComponent_Template_button_click_5_listener() { return ctx.session(); });\n        ɵngcc0.ɵɵtext(6, \"Get Session\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(7, \"button\", 1);\n        ɵngcc0.ɵɵlistener(\"click\", function LandingPageComponent_Template_button_click_7_listener() { return ctx.query(); });\n        ɵngcc0.ɵɵtext(8, \"Query\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(9, \"button\", 1);\n        ɵngcc0.ɵɵlistener(\"click\", function LandingPageComponent_Template_button_click_9_listener() { return ctx.read(); });\n        ɵngcc0.ɵɵtext(10, \"Read\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(11, \"div\", 2);\n        ɵngcc0.ɵɵelementStart(12, \"pre\");\n        ɵngcc0.ɵɵtext(13);\n        ɵngcc0.ɵɵpipe(14, \"json\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(13);\n        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(14, 1, ctx.result));\n    } }, pipes: [ɵngcc6.JsonPipe], encapsulation: 2 });\nLandingPageComponent.ctorParameters = () => [\n    { type: Router },\n    { type: LogonService }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LandingPageComponent, [{\n        type: Component,\n        args: [{\n                selector: 'dk-landing-page',\n                template: \"<h4>\\n  Logon Successfully\\n</h4>\\n\\n<div class=\\\"btn-group\\\" role=\\\"group\\\">\\n  <button type=\\\"button\\\" class=\\\"btn dk-btn-lg btn-primary\\\" (click)=\\\"logout()\\\">Logout</button>\\n  <button type=\\\"button\\\" class=\\\"btn dk-btn-lg btn-primary\\\" (click)=\\\"session()\\\">Get Session</button>\\n  <button type=\\\"button\\\" class=\\\"btn dk-btn-lg btn-primary\\\" (click)=\\\"query()\\\">Query</button>\\n  <button type=\\\"button\\\" class=\\\"btn dk-btn-lg btn-primary\\\" (click)=\\\"read()\\\">Read</button>\\n</div>\\n<div class=\\\"container\\\">\\n  <pre>{{result | json}}</pre>\\n</div>\\n\"\n            }]\n    }], function () { return [{ type: ɵngcc3.Router }, { type: LogonService }]; }, null); })();\n\nclass LogonModule {\n}\nLogonModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: LogonModule });\nLogonModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function LogonModule_Factory(t) { return new (t || LogonModule)(); }, imports: [[\n            CommonModule,\n            BrowserModule,\n            FormsModule,\n            HttpClientModule,\n            MessageModule\n        ]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(LogonModule, { declarations: function () { return [LogonComponent, LandingPageComponent]; }, imports: function () { return [CommonModule,\n        BrowserModule,\n        FormsModule,\n        HttpClientModule,\n        MessageModule]; }, exports: function () { return [LogonComponent]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LogonModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule,\n                    BrowserModule,\n                    FormsModule,\n                    HttpClientModule,\n                    MessageModule\n                ],\n                declarations: [LogonComponent, LandingPageComponent],\n                exports: [LogonComponent]\n            }]\n    }], null, null); })();\n\n/*\n * Public API Surface of logon\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { LandingPageComponent, LogonComponent, LogonModule, LogonService, PluralField, Projection, QueryObject, Selection, Session, Sort, User };\n\n//# sourceMappingURL=ui-logon-angular.js.map","import { Component, OnInit } from '@angular/core';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {Router} from '@angular/router';\nimport {AppList} from '../../identity';\n\n@Component({\n  selector: 'app-app-list',\n  templateUrl: './app-list.component.html',\n  styleUrls: ['./app-list.component.css']\n})\nexport class AppListComponent implements OnInit {\n  appID: string;\n  appName: string;\n  apps: AppList[];\n  showDeletionConfirmation = false;\n  toBeDeletedInstance: string;\n\n  get displayDeletionConfirmation() {return this.showDeletionConfirmation ? 'block' : 'none'; }\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  search() {\n    this.messageService.clearMessages();\n    this.apps = [];\n    this.appID = this.appID ? this.appID.trim() : '';\n    this.appName = this.appName ? this.appName.trim() : '';\n    this.identityService.searchApps(this.appID, this.appName).subscribe(\n      data => {\n        if (!data[0]) {\n          this.messageService.reportMessage('GENERAL', 'EMPTY_LIST', messageType.Warning);\n        } else if (data[0]['msgCat']) {\n          const messages = <Message[]>data;\n          messages.forEach( msg => this.messageService.add(msg));\n        } else {\n          this.apps = <AppList[]>data;\n        }\n      }\n    );\n  }\n\n  enterSearch($event): void {\n    if ($event.keyCode === 13 ) {\n      this.search();\n    }\n  }\n\n  new(): void {\n    this.router.navigate(['apps', '/', {action: 'new'}]);\n  }\n\n  display(appID: string): void {\n    this.router.navigate(['apps', appID, {action: 'display'}]);\n  }\n\n  change(appID: string): void {\n    this.router.navigate(['apps', appID, {action: 'change'}]);\n  }\n\n  delete(appID: string): void {\n    this.toBeDeletedInstance = appID;\n    this.showDeletionConfirmation = true;\n  }\n\n  cancelDeletion(): void {\n    this.showDeletionConfirmation = false;\n  }\n\n  confirmDeletion(): void {\n    const toBeDeletedInstanceGUID = this.apps.find(\n      ele => ele.APP_ID === this.toBeDeletedInstance).INSTANCE_GUID;\n    this.identityService.delete(toBeDeletedInstanceGUID).subscribe( errorMsg => {\n      this.showDeletionConfirmation = false;\n      if (errorMsg) {\n        const messages = <Message[]>errorMsg;\n        messages.forEach( msg => this.messageService.add(msg));\n      } else {\n        this.search();\n      }\n    });\n  }\n}\n","<div class=\"card mb-3 pt-3\">\n  <div class=\"mt-2 pl-4 row\">\n    <div class=\"col-6 form-group row\">\n      <label for=\"app_id\" class=\"col-sm-3 col-form-label\">App ID:</label>\n      <input id=\"app_id\" name=\"app_id\" [(ngModel)]=\"appID\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\" autofocus>\n    </div>\n    <div class=\"col-6 form-group row\">\n      <label for=\"app_name\" class=\"col-sm-3 col-form-label\">App Name:</label>\n      <input id=\"app_name\" name=\"app_name\" [(ngModel)]=\"appName\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\">\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <button type=\"button\" id=\"search\" class=\"btn btn-primary btn-sm float-right mr-4\" (click)=\"search()\">Search</button>\n  </div>\n</div>\n\n<div class=\"mt-2 mb-4 mx-4\">\n  <dk-message></dk-message>\n  <div class=\"btn-toolbar justify-content-end my-2\" role=\"toolbar\">\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"new()\">\n      <span class=\"fas fa-plus\"></span> New</button>\n  </div>\n  <table class=\"table table-bordered table-sm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th scope=\"col\">ID</th>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Link</th>\n      <th scope=\"col\">External?</th>\n<!--      <th scope=\"col\">Created By</th>-->\n<!--      <th scope=\"col\">Created At</th>-->\n      <th scope=\"col\">Changed By</th>\n      <th scope=\"col\">Changed At</th>\n      <th scope=\"col\">Action</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let app of apps\">\n      <td><a [routerLink]=\"['/apps', app.APP_ID, {action: 'display'}]\">{{app.APP_ID}}</a></td>\n      <td>{{app.NAME}}</td>\n      <td>{{app.ROUTE_LINK}}</td>\n      <td> <input type=\"checkbox\" [(ngModel)]=\"app.IS_EXTERNAL\" disabled></td>\n<!--      <td>{{app.CREATED_BY}}</td>-->\n<!--      <td>{{app.CREATE_TIME}}</td>-->\n      <td>{{app.CHANGED_BY}}</td>\n      <td>{{app.CHANGE_TIME}}</td>\n      <td class=\"dk-actions\">\n        <button title=\"Display\" id=\"display\" class=\"btn btn-sm\" type=\"button\" (click)=\"display(app.APP_ID)\">\n          <span class=\"fas fa-search\"></span>\n        </button>\n        <button title=\"Change\" id=\"change\" class=\"btn btn-sm\" type=\"button\" (click)=\"change(app.APP_ID)\">\n          <span class=\"fas fa-pen\"></span>\n        </button>\n        <button title=\"Delete\" id=\"delete\" class=\"btn btn-sm\" type=\"button\" (click)=\"delete(app.APP_ID)\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class=\"modal\" [class.show]=\"showDeletionConfirmation\"\n       [ngStyle]=\"{'display': displayDeletionConfirmation}\" id=\"deletionConfirmation\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-sm modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"confirmDeletion\">Confirm Deletion</h5>\n          <button type=\"button\" class=\"close\" (click)=\"cancelDeletion()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure to delete the App '{{toBeDeletedInstance}}'?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" id=\"cancel\" class=\"btn btn-sm btn-secondary\" (click)=\"cancelDeletion()\">Cancel</button>\n          <button type=\"button\" id=\"confirm\" class=\"btn btn-sm btn-primary\" (click)=\"confirmDeletion()\">Confirm</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {AuthProfileList} from '../../identity';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-profile-list',\n  templateUrl: './profile-list.component.html',\n  styleUrls: ['./profile-list.component.css']\n})\nexport class ProfileListComponent implements OnInit {\n  profileName: string;\n  profileDesc: string;\n  authProfiles: AuthProfileList[];\n  showDeletionConfirmation = false;\n  toBeDeletedInstance: string;\n\n  get displayDeletionConfirmation() {return this.showDeletionConfirmation ? 'block' : 'none'; }\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  search() {\n    this.messageService.clearMessages();\n    this.authProfiles = [];\n    this.profileName = this.profileName ? this.profileName.trim() : '';\n    this.profileDesc = this.profileDesc ? this.profileDesc.trim() : '';\n    this.identityService.searchAuthProfiles(this.profileName, this.profileDesc).subscribe(\n      data => {\n        if (!data[0]) {\n          this.messageService.reportMessage('GENERAL', 'EMPTY_LIST', messageType.Warning);\n        } else if (data[0]['msgCat']) {\n          const messages = <Message[]>data;\n          messages.forEach( msg => this.messageService.add(msg));\n        } else {\n          this.authProfiles = <AuthProfileList[]>data;\n        }\n      }\n    );\n  }\n\n  enterSearch($event): void {\n    if ($event.keyCode === 13 ) {\n      this.search();\n    }\n  }\n\n  new(): void {\n    this.router.navigate(['profiles', '/', {action: 'new'}]);\n  }\n\n  display(profileName: string): void {\n    this.router.navigate(['profiles', profileName, {action: 'display'}]);\n  }\n\n  change(profileName: string): void {\n    this.router.navigate(['profiles', profileName, {action: 'change'}]);\n  }\n\n  delete(profileName: string): void {\n    this.toBeDeletedInstance = profileName;\n    this.showDeletionConfirmation = true;\n  }\n\n  cancelDeletion(): void {\n    this.showDeletionConfirmation = false;\n  }\n\n  confirmDeletion(): void {\n    const toBeDeletedInstanceGUID = this.authProfiles.find(\n      ele => ele.PROFILE_NAME === this.toBeDeletedInstance).INSTANCE_GUID;\n    this.identityService.delete(toBeDeletedInstanceGUID).subscribe( errorMsg => {\n      this.showDeletionConfirmation = false;\n      if (errorMsg) {\n        const messages = <Message[]>errorMsg;\n        messages.forEach( msg => this.messageService.add(msg));\n      } else {\n        this.search();\n      }\n    });\n  }\n}\n","<div class=\"card mb-3 pt-3\">\n  <div class=\"mt-2 pl-4 row\">\n    <div class=\"col-6 form-group row\">\n      <label for=\"profile_name\" class=\"col-sm-3 col-form-label\">Profile Name:</label>\n      <input id=\"profile_name\" name=\"profile_name\" [(ngModel)]=\"profileName\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\" autofocus>\n    </div>\n    <div class=\"col-6 form-group row\">\n      <label for=\"profile_desc\" class=\"col-sm-3 col-form-label\">Description:</label>\n      <input id=\"profile_desc\" name=\"profile_desc\" [(ngModel)]=\"profileDesc\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\">\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <button type=\"button\" id=\"search\" class=\"btn btn-primary btn-sm float-right mr-4\" (click)=\"search()\">Search</button>\n  </div>\n</div>\n\n<div class=\"mt-2 mb-4 mx-4\">\n  <dk-message></dk-message>\n  <div class=\"btn-toolbar justify-content-end my-2\" role=\"toolbar\">\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"new()\">\n      <span class=\"fas fa-plus\"></span> New</button>\n  </div>\n  <table class=\"table table-bordered table-sm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Description</th>\n      <th scope=\"col\">Changed By</th>\n      <th scope=\"col\">Changed At</th>\n      <th scope=\"col\">Action</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let authProfile of authProfiles\">\n      <td><a [routerLink]=\"['/profiles', authProfile.PROFILE_NAME, {action: 'display'}]\">{{authProfile.PROFILE_NAME}}</a></td>\n      <td>{{authProfile.DESC}}</td>\n      <td>{{authProfile.CHANGED_BY}}</td>\n      <td>{{authProfile.CHANGE_TIME}}</td>\n      <td class=\"dk-actions\">\n        <button title=\"Display\" id=\"display\" class=\"btn btn-sm\" type=\"button\" (click)=\"display(authProfile.PROFILE_NAME)\">\n          <span class=\"fas fa-search\"></span>\n        </button>\n        <button title=\"Change\" id=\"change\" class=\"btn btn-sm\" type=\"button\" (click)=\"change(authProfile.PROFILE_NAME)\">\n          <span class=\"fas fa-pen\"></span>\n        </button>\n        <button title=\"Delete\" id=\"delete\" class=\"btn btn-sm\" type=\"button\" (click)=\"delete(authProfile.PROFILE_NAME)\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class=\"modal fade\" [class.show]=\"showDeletionConfirmation\"\n       [ngStyle]=\"{'display': displayDeletionConfirmation}\" id=\"deletionConfirmation\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-sm modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"confirmDeletion\">Confirm Deletion</h5>\n          <button type=\"button\" class=\"close\" (click)=\"cancelDeletion()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure to delete the profile '{{toBeDeletedInstance}}'?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" id=\"cancel\" class=\"btn btn-sm btn-secondary\" (click)=\"cancelDeletion()\">Cancel</button>\n          <button type=\"button\" id=\"confirm\" class=\"btn btn-sm btn-primary\" (click)=\"confirmDeletion()\">Confirm</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","import {Component, Input, OnInit, Output} from '@angular/core';\nimport {FormArray, FormBuilder} from '@angular/forms';\nimport {AttributeBase} from 'jor-angular';\n\n@Component({\n  selector: 'app-auth-value-singles',\n  templateUrl: './auth-value-singles.component.html',\n  styleUrls: ['./auth-value-singles.component.css']\n})\nexport class AuthValueSinglesComponent implements OnInit {\n  @Input() singleValueArray: FormArray;\n  @Input() attrCtrl: AttributeBase;\n  @Input() readonly;\n  constructor(private fb: FormBuilder) { }\n\n  ngOnInit(): void {\n  }\n\n  insertValue(idx: number): void {\n    this.singleValueArray.insert(idx, this.fb.group({\n      Low: ['']\n    }));\n  }\n\n  deleteValue(idx: number): void {\n    if (this.singleValueArray.length === 1 ) {\n      this.singleValueArray.at(idx).get('Low').setValue('');\n    } else {\n      this.singleValueArray.removeAt(idx);\n    }\n    this.singleValueArray.markAsDirty();\n  }\n}\n","<table class=\"table table-bordered table-sm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th scope=\"col\">{{attrCtrl.label}}</th>\n    <th scope=\"col\">Actions</th>\n  </tr>\n  </thead>\n\n  <tbody>\n  <tr *ngFor=\"let singleValueForm of singleValueArray.controls; let i = index\">\n    <td>\n      <dk-app-attribute [attributeControl]=\"attrCtrl\"\n                        [formGroup]=\"singleValueForm\"\n                        [isSmallSize] = \"true\"\n                        [readonly]=\"readonly\">\n      </dk-app-attribute>\n    </td>\n    <td class=\"dk-actions\">\n      <button class=\"btn btn-sm\" type=\"button\" id=\"add\" [disabled]=\"readonly\" (click)=\"insertValue(i)\" title=\"Insert\">\n        <span class=\"fas fa-plus\"></span>\n      </button>\n      <button class=\"btn btn-sm\" type=\"button\" id=\"delete\" [disabled]=\"readonly\" (click)=\"deleteValue(i)\" title=\"Delete\">\n        <span class=\"far fa-trash-alt\"></span>\n      </button>\n    </td>\n  </tr>\n  </tbody>\n</table>\n","export const msgStore = [\n  { msgCat: 'EXCEPTION',\n    msgName: 'GENERIC',\n    msgText: {\n      EN: {shortText: 'Exception Occurs in Operation: \\'%s\\'',\n           longText: '%s1'}\n    }\n  },\n  { msgCat: 'EXCEPTION',\n    msgName: 'NOT_AUTHENTICATED_OR_SESSION_EXPIRED',\n    msgText: {\n      EN: {shortText: 'You are not authenticated or your session is expired!',\n        longText: 'You are not authenticated or your session is expired, please <a href=\\'/logon\\'>re-logon</a>.'}\n    }\n  },\n  { msgCat: 'GENERAL',\n    msgName: 'EMPTY_LIST',\n    msgText: {\n      EN: {shortText: 'No result is found',\n        longText: 'The system cannot find any items meet the search criteria.'}\n    }\n  },\n  { msgCat: 'GENERAL',\n    msgName: 'UNSAVED_CHANGES',\n    msgText: {\n      EN: {\n        shortText: 'There are unsaved changes. Do you want to save the changes?',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'GENERAL',\n    msgName: 'NO_CHANGE',\n    msgText: {\n      EN: {\n        shortText: 'No change is made, saving is not necessary.',\n        longText: 'The data is not changed, thus there is no need to save changes'\n      }\n    }\n  },\n  { msgCat: 'USER',\n    msgName: 'INVALID',\n    msgText: {\n      EN: {shortText: 'Data is invalid, please check.',\n        longText: 'The data still contains some errors, please make sure all mandatory fields are filled!'}\n    }\n  },\n  { msgCat: 'USER',\n    msgName: 'USER_NAME_EXISTS',\n    msgText: {\n      EN: {shortText: 'User name: \\'%s\\' already exists!',\n        longText: ''}\n    }\n  },\n  { msgCat: 'USER',\n    msgName: 'USER_ID_EXISTS',\n    msgText: {\n      EN: {shortText: 'User ID: \\'%s\\' already exists!',\n        longText: ''}\n    }\n  },\n  { msgCat: 'USER',\n    msgName: 'AT_LEAST_ONE_EMAIL',\n    msgText: {\n      EN: {\n        shortText: 'At least one email needs to be maintained!',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'USER',\n    msgName: 'USER_SAVED',\n    msgText: {\n      EN: {\n        shortText: 'User \\'%s\\' is saved!',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'PERMISSION',\n    msgName: 'PERMISSION_EXISTS',\n    msgText: {\n      EN: {\n        shortText: 'The permission %s exists.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'PERMISSION',\n    msgName: 'INVALID',\n    msgText: {\n      EN: {\n        shortText: 'The permission contains invalid inputs, please check.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'PERMISSION',\n    msgName: 'SAVED',\n    msgText: {\n      EN: {\n        shortText: 'The permission is saved.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'APP',\n    msgName: 'APP_EXISTS',\n    msgText: {\n      EN: {\n        shortText: 'The App %s exists.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'APP',\n    msgName: 'INVALID',\n    msgText: {\n      EN: {\n        shortText: 'The App contains invalid inputs, please check.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'APP',\n    msgName: 'SAVED',\n    msgText: {\n      EN: {\n        shortText: 'The App is saved.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'AUTH_OBJECT',\n    msgName: 'AUTH_OBJECT_EXISTS',\n    msgText: {\n      EN: {\n        shortText: 'The authorization object %s exists.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'AUTH_OBJECT',\n    msgName: 'INVALID',\n    msgText: {\n      EN: {\n        shortText: 'The authorization object contains invalid inputs, please check.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'AUTH_OBJECT',\n    msgName: 'SAVED',\n    msgText: {\n      EN: {\n        shortText: 'The authorization object is saved.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'APP_CATEGORY',\n    msgName: 'APP_CATEGORY_EXISTS',\n    msgText: {\n      EN: {\n        shortText: 'The application category %s exists.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'APP_CATEGORY',\n    msgName: 'INVALID',\n    msgText: {\n      EN: {\n        shortText: 'The application category contains invalid inputs, please check.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'APP_CATEGORY',\n    msgName: 'SAVED',\n    msgText: {\n      EN: {\n        shortText: 'The application category is saved.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'AUTH_PROFILE',\n    msgName: 'AUTH_PROFILE_EXISTS',\n    msgText: {\n      EN: {\n        shortText: 'The authorization profile %s exists.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'AUTH_PROFILE',\n    msgName: 'INVALID',\n    msgText: {\n      EN: {\n        shortText: 'The authorization profile contains invalid inputs, please check.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'AUTH_PROFILE',\n    msgName: 'SAVED',\n    msgText: {\n      EN: {\n        shortText: 'The authorization profile is saved.',\n        longText: ''\n      }\n    }\n  }\n];\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {IdentityService} from '../../../identity.service';\nimport {SearchHelpComponent} from 'jor-angular';\n\n@Component({\n  selector: 'app-auth-object-field',\n  templateUrl: './auth-object-field.component.html',\n  styleUrls: ['./auth-object-field.component.css']\n})\nexport class AuthObjectFieldComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  authFieldFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private identityService: IdentityService) { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n\n  ngOnInit() {\n    this.authFieldFormArray = this.mainForm.get('authFields') as FormArray;\n    // Recheck each role since every time the template is initialized, Angular clears the error status.\n    if (!this.readonly) {\n      this.authFieldFormArray.controls.forEach( (ctrl, index) => {\n        this.onChangeKey(index);\n      });\n    }\n  }\n\n  delete(index: number): void {\n    if (index !== this.authFieldFormArray.length - 1) {\n      this.authFieldFormArray.removeAt(index);\n      this.authFieldFormArray.markAsDirty();\n    }\n  }\n\n  onChangeKey(index: number): void {\n    const currentFormGroup = this.authFieldFormArray.at(index);\n    if (this.isExisting(currentFormGroup)) {\n      currentFormGroup.get('FIELD_NAME').setErrors({message: 'Duplicate Authorization Field'});\n      return;\n    }\n\n    if (index === this.authFieldFormArray.length - 1 && currentFormGroup.value.FIELD_NAME.trim() !== '') {\n      // Only work if the last line is not new and empty\n      this.authFieldFormArray.push(\n        this.fb.group({\n          FIELD_NAME: [''],\n          DATA_ELEMENT: [''],\n          auth_field_INSTANCE_GUID: [''],\n          RELATIONSHIP_INSTANCE_GUID: ['']\n        })\n      );\n    }\n\n    if (currentFormGroup.value.FIELD_NAME) {\n      this.identityService.getAuthFieldInfo(currentFormGroup.value.FIELD_NAME).subscribe(data => {\n        if (data['msgCat']) {\n          currentFormGroup.get('FIELD_NAME').setErrors({message: data['msgShortText']});\n        } else {\n          currentFormGroup.get('DATA_ELEMENT').setValue(data['DATA_ELEMENT']);\n          currentFormGroup.get('auth_field_INSTANCE_GUID').setValue(data['INSTANCE_GUID']);\n        }\n      });\n    }\n  }\n\n  isExisting(key: AbstractControl): boolean {\n    const existIndex = this.authFieldFormArray.controls.findIndex(\n      ctrl => ctrl.value.FIELD_NAME === key.value.FIELD_NAME\n        && ctrl.pristine && ctrl.value.FIELD_NAME !== '');\n    return existIndex !== -1 ;\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, rowIDx: number) {\n      return () => context.onChangeKey(rowIDx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalByEntity('authField', 'authField', exportObject,\n      this.readonly || this.isExisting(exportObject) && exportObject.valid, null, null, afterExportFn);\n  }\n\n}\n","<table class=\"table table-bordered table-sm dk-table ml-3 mt-4\" [formGroup]=\"mainForm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th scope=\"col\">Authorization Field</th>\n    <th scope=\"col\">Data Element</th>\n    <th scope=\"col\">Action</th>\n  </tr>\n  </thead>\n\n  <tbody formArrayName=\"authFields\" class=\"mb-4\">\n  <tr *ngFor=\"let authFieldForm of authFieldFormArray.controls; let i = index\">\n    <td [formGroup]=\"authFieldForm\">\n      <div class=\"input-group dk-name\">\n        <input class=\"form-control form-control-sm\" type=\"text\" formControlName=\"FIELD_NAME\"\n               [readonly]=\"readonly || isExisting(authFieldForm) && authFieldForm.valid\" (change)=\"onChangeKey(i)\">\n        <div class=\"invalid-tooltip\">\n          {{authFieldForm.get('FIELD_NAME').errors?.message}}\n        </div>\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-sm btn-outline-secondary btn-light\" type=\"button\" id=\"searchPermission\"\n                  (click)=\"onSearchHelp(i, authFieldForm)\">\n            <span class=\"fas fa-search\"></span>\n          </button>\n        </div>\n      </div>\n    </td>\n    <td [formGroup]=\"authFieldForm\" class=\"dk-description\">\n      <input type=\"text\" formControlName=\"DATA_ELEMENT\" readonly class=\"form-control form-control-sm\">\n    </td>\n    <td class=\"dk-actions\">\n      <button class=\"btn btn-sm\" type=\"button\" id=\"delete\" [disabled]=\"readonly\" (click)=\"delete(i)\" title=\"Delete\">\n        <span class=\"far fa-trash-alt\"></span>\n      </button>\n    </td>\n  </tr>\n  </tbody>\n</table>\n\n<dk-app-search-help></dk-app-search-help>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormArray, FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {MessageService} from \"ui-message-angular\";\nimport {AttributeBase, AttributeControlService, RelationMeta} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-email',\n  templateUrl: './user-email.component.html',\n  styleUrls: ['./user-email.component.css']\n})\nexport class UserEmailComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  userEmailFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private messageService: MessageService,\n              private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.userEmailFormArray = this.userForm.get('emails') as FormArray;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_email').ATTRIBUTES);\n    if (!this.readonly && this.userEmailFormArray.length === 0) {\n      this.addEmail();\n    }\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  addEmail() {\n    const emailFormGroup = this.fb.group({\n      EMAIL: ['', [Validators.required]],\n      TYPE: ['', [Validators.required]],\n      PRIMARY: ['']\n    });\n    if (this.userEmailFormArray.length === 0) {\n      emailFormGroup.get('PRIMARY').setValue(1);\n      emailFormGroup.get('PRIMARY').markAsDirty();\n    }\n    this.userEmailFormArray.push(emailFormGroup);\n  }\n\n  deleteEmail(index: number) {\n    if (this.userEmailFormArray.length === 1) {\n      this.messageService.reportMessage('USER', 'AT_LEAST_ONE_EMAIL', 'E');\n    } else {\n      if (this.userEmailFormArray.at(index).value['PRIMARY']) {\n        const newPrimaryIndex = index === 0 ? 1 : 0;\n        this.userEmailFormArray.at(newPrimaryIndex).get('PRIMARY').setValue(1);\n        this.userEmailFormArray.at(newPrimaryIndex).get('PRIMARY').markAsDirty();\n      }\n      this.userEmailFormArray.removeAt(index);\n      this.userEmailFormArray.markAsDirty();\n    }\n  }\n}\n","<div class=\"card mt-4\">\n  <div class=\"card-body\">\n    <div *ngFor=\"let userEmailForm of userEmailFormArray.controls; let i = index\" class=\"card mb-4\">\n      <button type=\"button\" id=\"remove\" class=\"close d-flex justify-content-end mr-2\" aria-label=\"Close\" (click)=\"deleteEmail(i)\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <div class=\"card-body row\" [formGroup]=\"userEmailForm\">\n        <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                                [attributeControl]=\"getAttrCtrlFromID('TYPE')\"\n                                [formGroup]=\"userEmailForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n        <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                                [attributeControl]=\"getAttrCtrlFromID('EMAIL')\"\n                                [formGroup]=\"userEmailForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n        <div class=\"col-1 row form-group mr-2 form-check\">\n          <input type=\"radio\" class=\"form-check-input\" id=\"primaryEmail\" [value]=\"1\" name=\"PRIMARY\" formControlName=\"PRIMARY\">\n          <label for=\"primaryEmail\" class=\"form-check-label\">Primary</label>\n        </div>\n      </div>\n    </div>\n    <button type=\"button\" id=\"add\" class=\"btn btn-sm btn-primary float-right\" [disabled]=\"readonly\" (click)=\"addEmail()\">Add</button>\n  </div>\n</div>\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {IdentityService} from '../../../identity.service';\nimport {SearchHelpComponent} from 'jor-angular';\n\n@Component({\n  selector: 'app-app-category-detail-role',\n  templateUrl: './app-category-detail-role.component.html',\n  styleUrls: ['./app-category-detail-role.component.css']\n})\nexport class AppCategoryDetailRoleComponent implements OnInit {\n  @Input() mainForm: FormGroup;\n  roleFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private identityService: IdentityService) { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n\n  ngOnInit() {\n    this.roleFormArray = this.mainForm.get('roles') as FormArray;\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    this.searchHelpComponent.openSearchHelpModalBySearchHelp('ROLE', 'NAME',\n      'NAME', exportObject, true, null);\n  }\n}\n","<table class=\"table table-bordered table-sm dk-table ml-3 mt-4\" [formGroup]=\"mainForm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th class=\"dk-name\">Role</th>\n    <th class=\"dk-description\">Description</th>\n    <th class=\"dk-number\">Order</th>\n  </tr>\n  </thead>\n\n  <tbody formArrayName=\"apps\" class=\"mb-4\">\n  <tr *ngFor=\"let roleForm of roleFormArray.controls; let i = index\">\n    <td [formGroup]=\"roleForm\">\n      <div class=\"input-group\">\n        <input class=\"form-control form-control-sm\" type=\"text\" formControlName=\"NAME\" readonly>\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-sm btn-outline-secondary btn-light\" type=\"button\" id=\"searchRole\"\n                  (click)=\"onSearchHelp(i, roleForm)\">\n            <span class=\"fas fa-search\"></span>\n          </button>\n        </div>\n      </div>\n    </td>\n    <td [formGroup]=\"roleForm\" class=\"dk-description\">\n      <input type=\"text\" formControlName=\"DESCRIPTION\" readonly class=\"form-control form-control-sm\">\n    </td>\n    <td [formGroup]=\"roleForm\" >\n      <input type=\"number\" formControlName=\"ORDER\" readonly class=\"form-control form-control-sm\">\n    </td>\n  </tr>\n  </tbody>\n</table>\n\n<dk-app-search-help></dk-app-search-help>\n","import {Component, Input, OnInit } from '@angular/core';\nimport {FormGroup} from \"@angular/forms\";\nimport {AttributeBase, AttributeControlService, RelationMeta} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-basic',\n  templateUrl: './user-basic.component.html',\n  styleUrls: ['./user-basic.component.css']\n})\nexport class UserBasicComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  userBasicNamesForm: FormGroup;\n  userBasicEmployeeForm: FormGroup;\n\n  constructor(private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.userBasicNamesForm = this.userForm.get('userBasic.names') as FormGroup;\n    this.userBasicEmployeeForm = this.userForm.get('userBasic.employee') as FormGroup;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_employee').ATTRIBUTES);\n    this.attrCtrls = this.attrCtrls.concat(this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_user').ATTRIBUTES));\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n}\n","<div class=\"card mt-4\">\n  <div class=\"card-header\">Name</div>\n  <div class=\"card-body\">\n    <form class=\"mt-2 row\">\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('USER_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('DISPLAY_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <div class=\"col-md-4\"></div>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('GIVEN_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('MIDDLE_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('FAMILY_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n    </form>\n  </div>\n</div>\n\n<div class=\"card mt-4\">\n  <div class=\"card-header\">Employee</div>\n  <div class=\"card-body\">\n    <form class=\"mt-2 row\">\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('COMPANY_ID')\"\n                              [formGroup]=\"userBasicEmployeeForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('DEPARTMENT_ID')\"\n                              [formGroup]=\"userBasicEmployeeForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('TITLE')\"\n                              [formGroup]=\"userBasicEmployeeForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('GENDER')\"\n                              [formGroup]=\"userBasicEmployeeForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n    </form>\n  </div>\n</div>\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"]}