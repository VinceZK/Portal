{"version":3,"sources":["./dist/logon/__ivy_ngcc__/fesm2015/ui-logon-angular.js","./src/$_lazy_route_resource lazy namespace object","./src/app/admin-info/admin-info.component.ts","./src/app/admin-info/admin-info.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/app/app-detail/app-categories/app-categories.component.ts","./src/app/app/app-detail/app-categories/app-categories.component.html","./src/app/app/app-detail/app-detail.component.ts","./src/app/app/app-detail/app-detail.component.html","./src/app/app/app-detail/app-target/app-target.component.ts","./src/app/app/app-detail/app-target/app-target.component.html","./src/app/app/app-list/app-list.component.ts","./src/app/app/app-list/app-list.component.html","./src/app/app_category/app-category-detail/app-category-detail-app/app-category-detail-app.component.ts","./src/app/app_category/app-category-detail/app-category-detail-app/app-category-detail-app.component.html","./src/app/app_category/app-category-detail/app-category-detail-role/app-category-detail-role.component.ts","./src/app/app_category/app-category-detail/app-category-detail-role/app-category-detail-role.component.html","./src/app/app_category/app-category-detail/app-category-detail.component.ts","./src/app/app_category/app-category-detail/app-category-detail.component.html","./src/app/app_category/app-category-list/app-category-list.component.ts","./src/app/app_category/app-category-list/app-category-list.component.html","./src/app/async-validators.ts","./src/app/auth_object/auth-object-detail/auth-object-detail.component.ts","./src/app/auth_object/auth-object-detail/auth-object-detail.component.html","./src/app/auth_object/auth-object-detail/auth-object-field/auth-object-field.component.ts","./src/app/auth_object/auth-object-detail/auth-object-field/auth-object-field.component.html","./src/app/auth_object/auth-object-list/auth-object-list.component.ts","./src/app/auth_object/auth-object-list/auth-object-list.component.html","./src/app/authorization/auth-value/auth-value-selopts/auth-value-selopts.component.ts","./src/app/authorization/auth-value/auth-value-selopts/auth-value-selopts.component.html","./src/app/authorization/auth-value/auth-value-singles/auth-value-singles.component.ts","./src/app/authorization/auth-value/auth-value-singles/auth-value-singles.component.html","./src/app/authorization/auth-value/auth-value.component.ts","./src/app/authorization/auth-value/auth-value.component.html","./src/app/authorization/authorization.component.ts","./src/app/authorization/authorization.component.html","./src/app/custom.reuse.strategy.ts","./src/app/dialog.service.ts","./src/app/identity.service.ts","./src/app/identity.ts","./src/app/msgStore.ts","./src/app/permission/permission-detail/permission-detail-category/permission-detail-category.component.ts","./src/app/permission/permission-detail/permission-detail-category/permission-detail-category.component.html","./src/app/permission/permission-detail/permission-detail-profile/permission-detail-profile.component.ts","./src/app/permission/permission-detail/permission-detail-profile/permission-detail-profile.component.html","./src/app/permission/permission-detail/permission-detail-user/permission-detail-user.component.ts","./src/app/permission/permission-detail/permission-detail-user/permission-detail-user.component.html","./src/app/permission/permission-detail/permission-detail.component.ts","./src/app/permission/permission-detail/permission-detail.component.html","./src/app/permission/permission-list/permission-list.component.ts","./src/app/permission/permission-list/permission-list.component.html","./src/app/profile/profile-detail/profile-detail.component.ts","./src/app/profile/profile-detail/profile-detail.component.html","./src/app/profile/profile-list/profile-list.component.ts","./src/app/profile/profile-list/profile-list.component.html","./src/app/user/user-detail/user-address/user-address.component.ts","./src/app/user/user-detail/user-address/user-address.component.html","./src/app/user/user-detail/user-basic/user-basic.component.ts","./src/app/user/user-detail/user-basic/user-basic.component.html","./src/app/user/user-detail/user-detail.component.ts","./src/app/user/user-detail/user-detail.component.html","./src/app/user/user-detail/user-email/user-email.component.ts","./src/app/user/user-detail/user-email/user-email.component.html","./src/app/user/user-detail/user-personalization/user-personalization.component.ts","./src/app/user/user-detail/user-personalization/user-personalization.component.html","./src/app/user/user-detail/user-role/user-role.component.ts","./src/app/user/user-detail/user-role/user-role.component.html","./src/app/user/user-list/user-list.component.ts","./src/app/user/user-list/user-list.component.html","./src/app/work-protection.guard.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["import { __decorate, __metadata, __param } from 'tslib';\nimport { defineInjectable, inject, Injectable, Inject, ViewChild, ElementRef, Input, Component, NgModule } from '@angular/core';\nimport { HttpHeaders, HttpClient, HttpClientModule } from '@angular/common/http';\nimport { messageType, MessageService, MessageModule } from 'ui-message-angular';\nimport { of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AutofillMonitor } from '@angular/cdk/text-field';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\n\nimport * as ngcc0 from '@angular/core';\nimport * as ngcc1 from '@angular/common/http';\nimport * as ngcc2 from 'ui-message-angular';\nimport * as ngcc3 from '@angular/router';\nimport * as ngcc4 from '@angular/cdk/text-field';\nimport * as ngcc5 from '@angular/forms';\nimport * as ngcc6 from '@angular/common';\n\nconst _c0 = [\"inputUserID\"];\nconst _c1 = [\"inputPassword\"];\nfunction LogonComponent_i_18_Template(rf, ctx) { if (rf & 1) {\n    ngcc0.element(0, \"i\", 14);\n} }\nconst msgStore = [\n    { msgCat: 'EXCEPTION',\n        msgName: 'GENERIC',\n        msgText: {\n            EN: { shortText: 'Exception Occurs',\n                longText: '%s1' }\n        }\n    }\n];\n\nconst httpOptions = {\n    headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\nlet LogonService = class LogonService {\n    constructor(http, messageService) {\n        this.http = http;\n        this.messageService = messageService;\n        this.host = '';\n        this.messageService.setMessageStore(msgStore, 'EN');\n    }\n    setHost(host) {\n        this.host = host;\n    }\n    logon(userid, password) {\n        return this.http.post(this.host ? this.host + '/api/logon' : 'api/logon', { username: userid, password: password }, httpOptions).pipe(catchError(this.handleError('Logon')));\n    }\n    logout() {\n        return this.http.delete(this.host ? this.host + '/api/logout' : 'api/logout', httpOptions).pipe(catchError(this.handleError('Logout')));\n    }\n    session() {\n        return this.http.get(this.host ? this.host + '/api/session' : 'api/session', httpOptions).pipe(catchError(this.handleError('Get session')));\n    }\n    query(queryObject) {\n        return this.http.post(this.host ? this.host + '/api/query' : 'api/query', queryObject, httpOptions).pipe(catchError(this.handleError('query')));\n    }\n    read(instanceGUID) {\n        return this.http.get(this.host ? this.host + `/api/entity/instance/${instanceGUID}` : `api/entity/instance/${instanceGUID}`)\n            .pipe(catchError(this.handleError('read')));\n    }\n    handleError(operation = 'operation', result) {\n        return (error) => {\n            // TODO: send the error to remote logging infrastructure\n            console.error(error); // log to console instead\n            this.messageService.addMessage('EXCEPTION', 'GENERIC', messageType.Exception, JSON.stringify(error));\n            // Let the app keep running by returning an empty result.\n            return of(result);\n        };\n    }\n};\nLogonService.fac = function LogonService_Factory(t) { return new (t || LogonService)(ngcc0.inject(ngcc1.HttpClient), ngcc0.inject(ngcc2.MessageService)); };\nLogonService.ctorParameters = () => [\n    { type: HttpClient },\n    { type: MessageService }\n];\nLogonService.prov = defineInjectable({ factory: function LogonService_Factory() { return new LogonService(inject(HttpClient), inject(MessageService)); }, token: LogonService, providedIn: \"root\" });\nLogonService = __decorate([ __metadata(\"design:paramtypes\", [HttpClient,\n        MessageService])\n], LogonService);\n\nclass User {\n}\nclass PluralField {\n}\nclass QueryObject {\n}\nclass Projection {\n}\nclass Selection {\n}\nclass Sort {\n}\nclass Session {\n}\n\nlet LogonComponent = class LogonComponent {\n    constructor(document, router, route, autofill, logonService, messageService) {\n        this.document = document;\n        this.router = router;\n        this.route = route;\n        this.autofill = autofill;\n        this.logonService = logonService;\n        this.messageService = messageService;\n        this.user = new User;\n        this.isWaiting = false;\n        this.title = 'Logon Portal';\n        this.userLabel = 'User ID';\n        this.pwdLabel = 'Password';\n        this.btnLabel = 'Logon';\n        this.redirectUrl = '';\n        this.redirectPath = '';\n        this.host = '';\n    }\n    ngOnInit() {\n        this.autofill.monitor(this.inputUserID.nativeElement);\n        this.autofill.monitor(this.inputPassword.nativeElement);\n        if (this.route.snapshot.data['title']) {\n            this.title = this.route.snapshot.data['title'];\n        }\n        if (this.route.snapshot.data['userLabel']) {\n            this.userLabel = this.route.snapshot.data['userLabel'];\n        }\n        if (this.route.snapshot.data['pwdLabel']) {\n            this.pwdLabel = this.route.snapshot.data['pwdLabel'];\n        }\n        if (this.route.snapshot.data['btnLabel']) {\n            this.btnLabel = this.route.snapshot.data['btnLabel'];\n        }\n        if (this.route.snapshot.data['redirectUrl']) {\n            this.redirectUrl = this.route.snapshot.data['redirectUrl'];\n        }\n        if (this.route.snapshot.data['redirectPath']) {\n            this.redirectPath = this.route.snapshot.data['redirectPath'];\n        }\n        if (this.route.snapshot.data['host']) {\n            this.host = this.route.snapshot.data['host'];\n        }\n        this.logonService.setHost(this.host);\n    }\n    ngOnDestroy() {\n        this.autofill.stopMonitoring(this.inputUserID.nativeElement);\n        this.autofill.stopMonitoring(this.inputPassword.nativeElement);\n    }\n    logon() {\n        this.isWaiting = true;\n        this.logonService.logon(this.user.userid, this.user.password).subscribe(data => {\n            this.isWaiting = false;\n            if (!data) {\n                return;\n            }\n            if (data.err) {\n                if (Array.isArray(data.err)) {\n                    data.err.forEach(err => this.messageService.add(err));\n                }\n                else {\n                    this.messageService.report(data.err);\n                }\n            }\n            else {\n                this.user.displayName = data.user['DISPLAY_NAME'];\n                this.user.userid = data.user['USER_ID'];\n                this.user.username = data.user['USER_NAME'];\n                this.user.locked = data.user['LOCK'];\n                this.user.pwdState = data.user['PWD_STATE'];\n                this.user.name = data.user['GIVEN_NAME'];\n                if (this.redirectPath) {\n                    this.router.navigateByUrl(this.redirectPath);\n                }\n                else if (this.redirectUrl) {\n                    this.document.location.href = this.redirectUrl;\n                }\n            }\n        });\n    }\n};\nLogonComponent.fac = function LogonComponent_Factory(t) { return new (t || LogonComponent)(ngcc0.directiveInject(DOCUMENT), ngcc0.directiveInject(ngcc3.Router), ngcc0.directiveInject(ngcc3.ActivatedRoute), ngcc0.directiveInject(ngcc4.AutofillMonitor), ngcc0.directiveInject(LogonService), ngcc0.directiveInject(ngcc2.MessageService)); };\nLogonComponent.cmp = ngcc0.defineComponent({ type: LogonComponent, selectors: [[\"dk-logon\"]], viewQuery: function LogonComponent_Query(rf, ctx) { if (rf & 1) {\n        ngcc0.staticViewQuery(_c0, true, ElementRef);\n        ngcc0.staticViewQuery(_c1, true, ElementRef);\n    } if (rf & 2) {\n        var _t;\n        ngcc0.queryRefresh(_t = ngcc0.loadQuery()) && (ctx.inputUserID = _t.first);\n        ngcc0.queryRefresh(_t = ngcc0.loadQuery()) && (ctx.inputPassword = _t.first);\n    } }, inputs: { title: \"title\", userLabel: \"userLabel\", pwdLabel: \"pwdLabel\", btnLabel: \"btnLabel\", redirectUrl: \"redirectUrl\", redirectPath: \"redirectPath\", host: \"host\" }, decls: 20, vars: 8, consts: [[1, \"dk-form-logon\", 3, \"ngSubmit\"], [3, \"disabled\"], [1, \"text-center\", \"dk-mb-4\"], [1, \"dk-form-title\", \"dk-mb-3\", \"font-weight-normal\"], [1, \"dk-message-area\"], [1, \"dk-form-label-group\"], [\"type\", \"text\", \"id\", \"inputUserID\", \"name\", \"inputUserID\", \"placeholder\", \"User ID\", \"required\", \"\", \"autofocus\", \"\", 1, \"form-control\", \"dk-form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"inputUserID\", \"\"], [\"for\", \"inputUserID\"], [\"type\", \"password\", \"id\", \"inputPassword\", \"name\", \"inputPassword\", \"placeholder\", \"Password\", \"required\", \"\", 1, \"form-control\", \"dk-form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"inputPassword\", \"\"], [\"for\", \"inputPassword\"], [\"type\", \"submit\", 1, \"btn\", \"dk-btn-lg\", \"btn-primary\", \"btn-block\"], [\"class\", \"fas fa-spinner fa-spin\", 4, \"ngIf\"], [1, \"fas\", \"fa-spinner\", \"fa-spin\"]], template: function LogonComponent_Template(rf, ctx) { if (rf & 1) {\n        ngcc0.elementStart(0, \"form\", 0);\n        ngcc0.listener(\"ngSubmit\", function LogonComponent_Template_form_ngSubmit_0_listener($event) { return ctx.logon(); });\n        ngcc0.elementStart(1, \"fieldset\", 1);\n        ngcc0.elementStart(2, \"div\", 2);\n        ngcc0.elementStart(3, \"h1\", 3);\n        ngcc0.text(4);\n        ngcc0.elementEnd();\n        ngcc0.elementEnd();\n        ngcc0.elementStart(5, \"div\", 4);\n        ngcc0.element(6, \"dk-message\");\n        ngcc0.elementEnd();\n        ngcc0.elementStart(7, \"div\", 5);\n        ngcc0.elementStart(8, \"input\", 6, 7);\n        ngcc0.listener(\"ngModelChange\", function LogonComponent_Template_input_ngModelChange_8_listener($event) { return ctx.user.userid = $event; });\n        ngcc0.elementEnd();\n        ngcc0.elementStart(10, \"label\", 8);\n        ngcc0.text(11);\n        ngcc0.elementEnd();\n        ngcc0.elementEnd();\n        ngcc0.elementStart(12, \"div\", 5);\n        ngcc0.elementStart(13, \"input\", 9, 10);\n        ngcc0.listener(\"ngModelChange\", function LogonComponent_Template_input_ngModelChange_13_listener($event) { return ctx.user.password = $event; });\n        ngcc0.elementEnd();\n        ngcc0.elementStart(15, \"label\", 11);\n        ngcc0.text(16);\n        ngcc0.elementEnd();\n        ngcc0.elementEnd();\n        ngcc0.elementStart(17, \"button\", 12);\n        ngcc0.template(18, LogonComponent_i_18_Template, 1, 0, \"i\", 13);\n        ngcc0.text(19);\n        ngcc0.elementEnd();\n        ngcc0.elementEnd();\n        ngcc0.elementEnd();\n    } if (rf & 2) {\n        ngcc0.advance(1);\n        ngcc0.property(\"disabled\", ctx.isWaiting);\n        ngcc0.advance(3);\n        ngcc0.textInterpolate(ctx.title);\n        ngcc0.advance(4);\n        ngcc0.property(\"ngModel\", ctx.user.userid);\n        ngcc0.advance(3);\n        ngcc0.textInterpolate(ctx.userLabel);\n        ngcc0.advance(2);\n        ngcc0.property(\"ngModel\", ctx.user.password);\n        ngcc0.advance(3);\n        ngcc0.textInterpolate(ctx.pwdLabel);\n        ngcc0.advance(2);\n        ngcc0.property(\"ngIf\", ctx.isWaiting);\n        ngcc0.advance(1);\n        ngcc0.textInterpolate1(\" \", ctx.btnLabel, \" \");\n    } }, directives: [ngcc5.angular_packages_forms_forms_y, ngcc5.NgControlStatusGroup, ngcc5.NgForm, ngcc2.MessageComponent, ngcc5.DefaultValueAccessor, ngcc5.RequiredValidator, ngcc5.NgControlStatus, ngcc5.NgModel, ngcc6.NgIf], styles: [\".dk-form-logon[_ngcontent-%COMP%]{width:100%;max-width:420px;padding:15px;margin:0 auto;line-height:1.5;--input-padding-x:0.75rem;--input-padding-y:0.75rem}.dk-form-logon[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:1rem}.dk-message-area[_ngcontent-%COMP%]{margin-bottom:.5rem}.dk-mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.dk-mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem}.dk-form-title[_ngcontent-%COMP%]{font-size:1.75rem;line-height:1.2;color:inherit;font-family:inherit}.dk-form-label-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem}.dk-form-control[_ngcontent-%COMP%]{font-size:1rem;border-radius:.25rem;height:calc(2.9rem + 2px)}.dk-form-label-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .dk-form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding:var(--input-padding-y) var(--input-padding-x)}.dk-form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:block;width:100%;margin-bottom:0;line-height:1.5;color:#495057;border:1px solid transparent;border-radius:.25rem;-webkit-transition:.1s ease-in-out;transition:.1s ease-in-out}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:transparent}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:transparent}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:transparent}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:transparent}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:transparent}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;animation-name:cdk-text-field-autofill-start;-webkit-transition:background-color 50000s ease-in-out;transition:background-color 50000s ease-in-out}.dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}.dk-form-label-group[_ngcontent-%COMP%]   input.cdk-text-field-autofilled[_ngcontent-%COMP%], .dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding-top:calc(var(--input-padding-y) + var(--input-padding-y) * (2 / 3));padding-bottom:calc(var(--input-padding-y)/ 3)}.dk-form-label-group[_ngcontent-%COMP%]   input.cdk-text-field-autofilled[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%], .dk-form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{padding-top:calc(var(--input-padding-y)/ 3);padding-bottom:calc(var(--input-padding-y)/ 3);font-size:.75rem;color:#777}.dk-btn-lg[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}\"] });\nLogonComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },\n    { type: Router },\n    { type: ActivatedRoute },\n    { type: AutofillMonitor },\n    { type: LogonService },\n    { type: MessageService }\n];\n__decorate([\n    ViewChild('inputUserID', { read: ElementRef, static: true }),\n    __metadata(\"design:type\", ElementRef)\n], LogonComponent.prototype, \"inputUserID\", void 0);\n__decorate([\n    ViewChild('inputPassword', { read: ElementRef, static: true }),\n    __metadata(\"design:type\", ElementRef)\n], LogonComponent.prototype, \"inputPassword\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], LogonComponent.prototype, \"title\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], LogonComponent.prototype, \"userLabel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], LogonComponent.prototype, \"pwdLabel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], LogonComponent.prototype, \"btnLabel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], LogonComponent.prototype, \"redirectUrl\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], LogonComponent.prototype, \"redirectPath\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], LogonComponent.prototype, \"host\", void 0);\nLogonComponent = __decorate([ __param(0, Inject(DOCUMENT)),\n    __metadata(\"design:paramtypes\", [Object, Router,\n        ActivatedRoute,\n        AutofillMonitor,\n        LogonService,\n        MessageService])\n], LogonComponent);\n\nlet LandingPageComponent = class LandingPageComponent {\n    constructor(router, logonService) {\n        this.router = router;\n        this.logonService = logonService;\n    }\n    ngOnInit() {\n    }\n    logout() {\n        this.logonService.logout().subscribe(data => {\n            this.router.navigateByUrl('');\n        });\n    }\n    session() {\n        this.logonService.session().subscribe(data => {\n            this.result = data;\n        });\n    }\n    query() {\n        const queryObject = {\n            ENTITY_ID: 'person',\n            RELATION_ID: 'r_user'\n        };\n        this.logonService.query(queryObject).subscribe(data => this.result = data);\n    }\n    read() {\n        this.logonService.read('2FBE7490E10F11E8A90957FA46F2CECA').subscribe(data => this.result = data);\n    }\n};\nLandingPageComponent.fac = function LandingPageComponent_Factory(t) { return new (t || LandingPageComponent)(ngcc0.directiveInject(ngcc3.Router), ngcc0.directiveInject(LogonService)); };\nLandingPageComponent.cmp = ngcc0.defineComponent({ type: LandingPageComponent, selectors: [[\"dk-landing-page\"]], decls: 15, vars: 3, consts: [[\"role\", \"group\", 1, \"btn-group\"], [\"type\", \"button\", 1, \"btn\", \"dk-btn-lg\", \"btn-primary\", 3, \"click\"], [1, \"container\"]], template: function LandingPageComponent_Template(rf, ctx) { if (rf & 1) {\n        ngcc0.elementStart(0, \"h4\");\n        ngcc0.text(1, \" Logon Successfully\\n\");\n        ngcc0.elementEnd();\n        ngcc0.elementStart(2, \"div\", 0);\n        ngcc0.elementStart(3, \"button\", 1);\n        ngcc0.listener(\"click\", function LandingPageComponent_Template_button_click_3_listener($event) { return ctx.logout(); });\n        ngcc0.text(4, \"Logout\");\n        ngcc0.elementEnd();\n        ngcc0.elementStart(5, \"button\", 1);\n        ngcc0.listener(\"click\", function LandingPageComponent_Template_button_click_5_listener($event) { return ctx.session(); });\n        ngcc0.text(6, \"Get Session\");\n        ngcc0.elementEnd();\n        ngcc0.elementStart(7, \"button\", 1);\n        ngcc0.listener(\"click\", function LandingPageComponent_Template_button_click_7_listener($event) { return ctx.query(); });\n        ngcc0.text(8, \"Query\");\n        ngcc0.elementEnd();\n        ngcc0.elementStart(9, \"button\", 1);\n        ngcc0.listener(\"click\", function LandingPageComponent_Template_button_click_9_listener($event) { return ctx.read(); });\n        ngcc0.text(10, \"Read\");\n        ngcc0.elementEnd();\n        ngcc0.elementEnd();\n        ngcc0.elementStart(11, \"div\", 2);\n        ngcc0.elementStart(12, \"pre\");\n        ngcc0.text(13);\n        ngcc0.pipe(14, \"json\");\n        ngcc0.elementEnd();\n        ngcc0.elementEnd();\n    } if (rf & 2) {\n        ngcc0.advance(13);\n        ngcc0.textInterpolate(ngcc0.pipeBind1(14, 1, ctx.result));\n    } }, pipes: [ngcc6.JsonPipe], encapsulation: 2 });\nLandingPageComponent.ctorParameters = () => [\n    { type: Router },\n    { type: LogonService }\n];\nLandingPageComponent = __decorate([ __metadata(\"design:paramtypes\", [Router,\n        LogonService])\n], LandingPageComponent);\n\nlet LogonModule = class LogonModule {\n};\nLogonModule.mod = ngcc0.defineNgModule({ type: LogonModule });\nLogonModule.inj = ngcc0.defineInjector({ factory: function LogonModule_Factory(t) { return new (t || LogonModule)(); }, imports: [[\n            CommonModule,\n            BrowserModule,\n            FormsModule,\n            HttpClientModule,\n            MessageModule\n        ]] });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(LogonService, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: ngcc1.HttpClient }, { type: ngcc2.MessageService }]; }, null); })();\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(LogonComponent, [{\n        type: Component,\n        args: [{\n                selector: 'dk-logon',\n                template: \"<form class=\\\"dk-form-logon\\\" (ngSubmit)=\\\"logon()\\\">\\n  <fieldset [disabled]=\\\"isWaiting\\\">\\n    <div class=\\\"text-center dk-mb-4\\\">\\n      <!--<img class=\\\"mb-4\\\" src=\\\"https://getbootstrap.com/assets/brand/bootstrap-solid.svg\\\" alt=\\\"\\\" width=\\\"72\\\" height=\\\"72\\\">-->\\n      <h1 class=\\\"dk-form-title dk-mb-3 font-weight-normal\\\">{{title}}</h1>\\n    </div>\\n\\n    <div class=\\\"dk-message-area\\\">\\n      <dk-message></dk-message>\\n    </div>\\n\\n    <div class=\\\"dk-form-label-group\\\">\\n      <input type=\\\"text\\\" id=\\\"inputUserID\\\" name=\\\"inputUserID\\\" #inputUserID class=\\\"form-control dk-form-control\\\"\\n             [(ngModel)]=\\\"user.userid\\\" placeholder=\\\"User ID\\\" required=\\\"\\\" autofocus=\\\"\\\">\\n      <label for=\\\"inputUserID\\\">{{userLabel}}</label>\\n    </div>\\n\\n    <div class=\\\"dk-form-label-group\\\">\\n      <input type=\\\"password\\\" id=\\\"inputPassword\\\" name=\\\"inputPassword\\\" #inputPassword class=\\\"form-control dk-form-control\\\"\\n             [(ngModel)]=\\\"user.password\\\" placeholder=\\\"Password\\\" required=\\\"\\\">\\n      <label for=\\\"inputPassword\\\">{{pwdLabel}}</label>\\n    </div>\\n\\n    <button class=\\\"btn dk-btn-lg btn-primary btn-block\\\" type=\\\"submit\\\">\\n      <i *ngIf=\\\"isWaiting\\\" class=\\\"fas fa-spinner fa-spin\\\"></i> {{btnLabel}}\\n    </button>\\n  </fieldset>\\n</form>\\n\\n\",\n                styles: [\".dk-form-logon{width:100%;max-width:420px;padding:15px;margin:0 auto;line-height:1.5;--input-padding-x:0.75rem;--input-padding-y:0.75rem}.dk-form-logon label{margin-bottom:.5rem;font-size:1rem}.dk-message-area{margin-bottom:.5rem}.dk-mb-3{margin-bottom:1rem}.dk-mb-4{margin-bottom:1.5rem}.dk-form-title{font-size:1.75rem;line-height:1.2;color:inherit;font-family:inherit}.dk-form-label-group{position:relative;margin-bottom:1rem}.dk-form-control{font-size:1rem;border-radius:.25rem;height:calc(2.9rem + 2px)}.dk-form-label-group>input,.dk-form-label-group>label{padding:var(--input-padding-y) var(--input-padding-x)}.dk-form-label-group>label{position:absolute;top:0;left:0;display:block;width:100%;margin-bottom:0;line-height:1.5;color:#495057;border:1px solid transparent;border-radius:.25rem;-webkit-transition:.1s ease-in-out;transition:.1s ease-in-out}.dk-form-label-group input::-webkit-input-placeholder{color:transparent}.dk-form-label-group input:-ms-input-placeholder{color:transparent}.dk-form-label-group input::-ms-input-placeholder{color:transparent}.dk-form-label-group input::-moz-placeholder{color:transparent}.dk-form-label-group input::placeholder{color:transparent}.dk-form-label-group input:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;animation-name:cdk-text-field-autofill-start;-webkit-transition:background-color 50000s ease-in-out;transition:background-color 50000s ease-in-out}.dk-form-label-group input:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}.dk-form-label-group input.cdk-text-field-autofilled,.dk-form-label-group input:not(:placeholder-shown){padding-top:calc(var(--input-padding-y) + var(--input-padding-y) * (2 / 3));padding-bottom:calc(var(--input-padding-y)/ 3)}.dk-form-label-group input.cdk-text-field-autofilled~label,.dk-form-label-group input:not(:placeholder-shown)~label{padding-top:calc(var(--input-padding-y)/ 3);padding-bottom:calc(var(--input-padding-y)/ 3);font-size:.75rem;color:#777}.dk-btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}\"]\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: ngcc3.Router }, { type: ngcc3.ActivatedRoute }, { type: ngcc4.AutofillMonitor }, { type: LogonService }, { type: ngcc2.MessageService }]; }, { title: [{\n            type: Input\n        }], userLabel: [{\n            type: Input\n        }], pwdLabel: [{\n            type: Input\n        }], btnLabel: [{\n            type: Input\n        }], redirectUrl: [{\n            type: Input\n        }], redirectPath: [{\n            type: Input\n        }], host: [{\n            type: Input\n        }], inputUserID: [{\n            type: ViewChild,\n            args: ['inputUserID', { read: ElementRef, static: true }]\n        }], inputPassword: [{\n            type: ViewChild,\n            args: ['inputPassword', { read: ElementRef, static: true }]\n        }] }); })();\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(LandingPageComponent, [{\n        type: Component,\n        args: [{\n                selector: 'dk-landing-page',\n                template: \"<h4>\\n  Logon Successfully\\n</h4>\\n\\n<div class=\\\"btn-group\\\" role=\\\"group\\\">\\n  <button type=\\\"button\\\" class=\\\"btn dk-btn-lg btn-primary\\\" (click)=\\\"logout()\\\">Logout</button>\\n  <button type=\\\"button\\\" class=\\\"btn dk-btn-lg btn-primary\\\" (click)=\\\"session()\\\">Get Session</button>\\n  <button type=\\\"button\\\" class=\\\"btn dk-btn-lg btn-primary\\\" (click)=\\\"query()\\\">Query</button>\\n  <button type=\\\"button\\\" class=\\\"btn dk-btn-lg btn-primary\\\" (click)=\\\"read()\\\">Read</button>\\n</div>\\n<div class=\\\"container\\\">\\n  <pre>{{result | json}}</pre>\\n</div>\\n\"\n            }]\n    }], function () { return [{ type: ngcc3.Router }, { type: LogonService }]; }, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ngcc0.setNgModuleScope(LogonModule, { declarations: function () { return [LogonComponent,\n        LandingPageComponent]; }, imports: function () { return [CommonModule,\n        BrowserModule,\n        FormsModule,\n        HttpClientModule,\n        MessageModule]; }, exports: function () { return [LogonComponent]; } }); })();\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(LogonModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule,\n                    BrowserModule,\n                    FormsModule,\n                    HttpClientModule,\n                    MessageModule\n                ],\n                declarations: [LogonComponent, LandingPageComponent],\n                exports: [LogonComponent]\n            }]\n    }], null, null); })();\n\n/*\n * Public API Surface of logon\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { LandingPageComponent, LogonComponent, LogonModule, LogonService, PluralField, Projection, QueryObject, Selection, Session, Sort, User };\n\n//# sourceMappingURL=ui-logon-angular.js.map","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import {Component, Input, OnInit} from '@angular/core';\nimport {FormGroup} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, RelationMeta} from 'jor-angular';\n\n@Component({\n  selector: 'app-admin-info',\n  templateUrl: './admin-info.component.html',\n  styleUrls: ['./admin-info.component.css']\n})\nexport class AdminInfoComponent implements OnInit {\n  @Input() mainForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  @Input() adminRelation: string;\n  private attrCtrls: AttributeBase[];\n  adminForm: FormGroup;\n\n  constructor(private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.adminForm = this.mainForm.get('admin') as FormGroup;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === this.adminRelation).ATTRIBUTES);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n}\n","<form class=\"mt-4 ml-2 row\">\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('CREATED_BY')\"\n                          [formGroup]=\"adminForm\"\n                          [isSmallSize] = \"true\"\n                          [readonly]=\"true\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('CREATE_TIME')\"\n                          [formGroup]=\"adminForm\"\n                          [isSmallSize] = \"true\"\n                          [readonly]=\"true\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('CHANGED_BY')\"\n                          [formGroup]=\"adminForm\"\n                          [isSmallSize] = \"true\"\n                          [readonly]=\"true\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('CHANGE_TIME')\"\n                          [formGroup]=\"adminForm\"\n                          [isSmallSize] = \"true\"\n                          [readonly]=\"true\">\n  </dk-app-attribute-form2>\n</form>\n","import { Component } from '@angular/core';\nimport { EntityService } from 'jor-angular';\nimport {environment} from '../environments/environment';\nimport {LogonService} from 'ui-logon-angular';\nimport {IdentityService} from './identity.service';\nimport {msgStore} from './msgStore';\nimport {MessageService} from 'ui-message-angular';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  constructor(private entityService: EntityService,\n              private identityService: IdentityService,\n              private messageService: MessageService,\n              private logonService: LogonService) {\n    this.entityService.setOriginalHost(environment.originalHost);\n    this.logonService.setHost(environment.originalHost);\n    this.logonService.session().subscribe( data => {\n      this.identityService.setSession( data );\n      this.messageService.setMessageStore(msgStore, this.identityService.Session.LANGUAGE);\n    });\n  }\n}\n","<div class=\"dk-logon-view\">\n  <router-outlet></router-outlet>\n</div>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppComponent } from './app.component';\nimport {RouteReuseStrategy, RouterModule, Routes} from '@angular/router';\nimport {LogonComponent, LandingPageComponent} from 'ui-logon-angular';\nimport {LogonModule} from 'ui-logon-angular';\nimport {environment} from '../environments/environment';\nimport { PermissionListComponent } from './permission/permission-list/permission-list.component';\nimport { PermissionDetailComponent } from './permission/permission-detail/permission-detail.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {MessageModule} from 'ui-message-angular';\nimport {WorkProtectionGuard} from './work-protection.guard';\nimport {JorAngularModule} from 'jor-angular';\nimport { AppListComponent } from './app/app-list/app-list.component';\nimport { AppDetailComponent } from './app/app-detail/app-detail.component';\nimport { AppTargetComponent } from './app/app-detail/app-target/app-target.component';\nimport { AppCategoriesComponent } from './app/app-detail/app-categories/app-categories.component';\nimport { AuthObjectListComponent } from './auth_object/auth-object-list/auth-object-list.component';\nimport { AuthObjectDetailComponent } from './auth_object/auth-object-detail/auth-object-detail.component';\nimport { AuthObjectFieldComponent } from './auth_object/auth-object-detail/auth-object-field/auth-object-field.component';\nimport { AdminInfoComponent } from './admin-info/admin-info.component';\nimport { AuthorizationComponent } from './authorization/authorization.component';\nimport { AuthValueComponent } from './authorization/auth-value/auth-value.component';\nimport { AuthValueSinglesComponent } from './authorization/auth-value/auth-value-singles/auth-value-singles.component';\nimport { AuthValueSeloptsComponent } from './authorization/auth-value/auth-value-selopts/auth-value-selopts.component';\nimport { AppCategoryListComponent } from './app_category/app-category-list/app-category-list.component';\nimport { AppCategoryDetailComponent } from './app_category/app-category-detail/app-category-detail.component';\nimport { AppCategoryDetailAppComponent } from\n    './app_category/app-category-detail/app-category-detail-app/app-category-detail-app.component';\nimport { AppCategoryDetailRoleComponent } from\n    './app_category/app-category-detail/app-category-detail-role/app-category-detail-role.component';\nimport { ProfileListComponent } from './profile/profile-list/profile-list.component';\nimport { ProfileDetailComponent } from './profile/profile-detail/profile-detail.component';\nimport { PermissionDetailCategoryComponent } from './permission/permission-detail/permission-detail-category/permission-detail-category.component';\nimport { PermissionDetailProfileComponent } from './permission/permission-detail/permission-detail-profile/permission-detail-profile.component';\nimport { PermissionDetailUserComponent } from './permission/permission-detail/permission-detail-user/permission-detail-user.component';\nimport {UserListComponent} from './user/user-list/user-list.component';\nimport {UserDetailComponent} from './user/user-detail/user-detail.component';\nimport {UserBasicComponent} from './user/user-detail/user-basic/user-basic.component';\nimport {UserPersonalizationComponent} from './user/user-detail/user-personalization/user-personalization.component';\nimport {UserRoleComponent} from './user/user-detail/user-role/user-role.component';\nimport {UserEmailComponent} from './user/user-detail/user-email/user-email.component';\nimport {UserAddressComponent} from './user/user-detail/user-address/user-address.component';\nimport {CustomReuseStrategy} from './custom.reuse.strategy';\n\nconst appRoutes: Routes = [\n  {\n    path: 'logon', component: LogonComponent,\n    data: {\n      title: 'Logon Portal (DH001/Dark1234)', userLabel: 'User ID', pwdLabel: 'Password', btnLabel: 'Sign In',\n      redirectPath: environment.redirectPath, redirectUrl: environment.redirectUrl, host: environment.originalHost\n    }\n  },\n  { path: 'landing', component: LandingPageComponent },\n  { path: 'users', component: UserListComponent},\n  { path: 'users/:userID', component: UserDetailComponent, canDeactivate: [WorkProtectionGuard]},\n  { path: 'apps', component: AppListComponent },\n  { path: 'apps/:appID', component: AppDetailComponent, canDeactivate: [WorkProtectionGuard]},\n  { path: 'app-categories', component: AppCategoryListComponent },\n  { path: 'app-categories/:appCategory', component: AppCategoryDetailComponent, canDeactivate: [WorkProtectionGuard]},\n  { path: 'auth-objects', component: AuthObjectListComponent },\n  { path: 'auth-objects/:authObjName', component: AuthObjectDetailComponent, canDeactivate: [WorkProtectionGuard]},\n  { path: 'permissions', component: PermissionListComponent },\n  { path: 'permissions/:permissionName', component: PermissionDetailComponent, canDeactivate: [WorkProtectionGuard]},\n  { path: 'profiles', component: ProfileListComponent },\n  { path: 'profiles/:profileName', component: ProfileDetailComponent, canDeactivate: [WorkProtectionGuard]},\n  { path: '**', redirectTo: 'logon', pathMatch: 'full'}\n];\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    UserListComponent,\n    UserDetailComponent,\n    UserBasicComponent,\n    UserPersonalizationComponent,\n    UserRoleComponent,\n    UserEmailComponent,\n    UserAddressComponent,\n    AppListComponent,\n    AppDetailComponent,\n    AppTargetComponent,\n    AppCategoriesComponent,\n    AuthObjectListComponent,\n    AuthObjectDetailComponent,\n    AuthObjectFieldComponent,\n    AdminInfoComponent,\n    AuthorizationComponent,\n    AuthValueComponent,\n    AuthValueSinglesComponent,\n    AuthValueSeloptsComponent,\n    AppCategoryListComponent,\n    AppCategoryDetailComponent,\n    AppCategoryDetailAppComponent,\n    AppCategoryDetailRoleComponent,\n    ProfileListComponent,\n    ProfileDetailComponent,\n    PermissionListComponent,\n    PermissionDetailComponent,\n    PermissionDetailCategoryComponent,\n    PermissionDetailProfileComponent,\n    PermissionDetailUserComponent\n  ],\n  imports: [\n    BrowserModule,\n    LogonModule,\n    RouterModule.forRoot(appRoutes),\n    FormsModule,\n    ReactiveFormsModule,\n    MessageModule,\n    JorAngularModule\n  ],\n  providers: [\n    {provide: RouteReuseStrategy, useClass: CustomReuseStrategy}\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormGroup} from '@angular/forms';\nimport {SearchHelpComponent} from 'jor-angular';\n\n@Component({\n  selector: 'app-app-categories',\n  templateUrl: './app-categories.component.html',\n  styleUrls: ['./app-categories.component.css']\n})\nexport class AppCategoriesComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  appCategoryFormArray: FormArray;\n\n  constructor() { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n\n  ngOnInit() {\n    this.appCategoryFormArray = this.mainForm.get('appCategories') as FormArray;\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, rowIDx: number) {\n      return () => context.onChangeKey(rowIDx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalByEntity('category', 'r_app_category',\n      exportObject, this.readonly, null, null, afterExportFn);\n  }\n}\n","<table class=\"table table-bordered table-sm dk-table ml-3 mt-4\" [formGroup]=\"mainForm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th class=\"dk-name\">Category</th>\n    <th class=\"dk-description\">Name</th>\n    <th class=\"dk-icon\">ICON</th>\n    <th class=\"dk-number\">Order</th>\n  </tr>\n  </thead>\n\n  <tbody formArrayName=\"appCategories\" class=\"mb-4\">\n  <tr *ngFor=\"let appCategoryForm of appCategoryFormArray.controls; let i = index\" >\n    <td [formGroup]=\"appCategoryForm\">\n      <div class=\"input-group dk-name\">\n        <input class=\"form-control form-control-sm\" type=\"text\" formControlName=\"ID\" readonly>\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-sm btn-outline-secondary btn-light\" type=\"button\" id=\"searchPermission\"\n                  (click)=\"onSearchHelp(i, appCategoryForm)\">\n            <span class=\"fas fa-search\"></span>\n          </button>\n        </div>\n      </div>\n    </td>\n    <td [formGroup]=\"appCategoryForm\" class=\"dk-description\">\n      <input type=\"text\" formControlName=\"NAME\" readonly class=\"form-control form-control-sm\">\n    </td>\n    <td>\n      <span [ngClass]=\"appCategoryForm.get('ICON').value\"></span>\n    </td>\n    <td [formGroup]=\"appCategoryForm\" class=\"dk-number\">\n      <input type=\"number\" formControlName=\"ORDER\" readonly class=\"form-control form-control-sm\">\n    </td>\n  </tr>\n  </tbody>\n</table>\n\n<dk-app-search-help></dk-app-search-help>\n","import {Component, OnInit} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, Entity, EntityService, RelationMeta, Relationship, UiMapperService} from 'jor-angular';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {DialogService} from '../../dialog.service';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {switchMap} from 'rxjs/operators';\nimport {forkJoin, Observable, of} from 'rxjs';\nimport {existingAppValidator} from '../../async-validators';\nimport {Authorization} from '../../identity';\n\n@Component({\n  selector: 'app-app-detail',\n  templateUrl: './app-detail.component.html',\n  styleUrls: ['./app-detail.component.css']\n})\nexport class AppDetailComponent implements OnInit {\n  mainForm: FormGroup;\n  relationMetas: RelationMeta[];\n  attrCtrls: AttributeBase[];\n  readonly = true;\n  isNewMode = false;\n  action: string;\n  instanceGUID: string;\n  originalValue = {};\n  changedValue = {};\n  tabStrip = 1;\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private dialogService: DialogService,\n              private identityService: IdentityService,\n              private attributeControlService: AttributeControlService,\n              private entityService: EntityService,\n              private uiMapperService: UiMapperService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.action = params.get('action');\n        if (this.action === 'new') {\n          this.isNewMode = true;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('app'),\n            this._createNewEntity()\n          ]);\n        } else {\n          this.isNewMode = false;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('app'),\n            this.identityService.getAppDetail(params.get('appID'))\n          ]);\n        }\n      })\n    ).subscribe( data => {\n      this.relationMetas = data[0] as RelationMeta[];\n      this.attrCtrls = this.attributeControlService.toAttributeControl(\n        this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'app').ATTRIBUTES);\n      if ('ENTITY_ID' in data[1]) {\n        this.instanceGUID = data[1]['INSTANCE_GUID'];\n        this._generateMainForm(<Entity>data[1]);\n        if (this.isNewMode || this.action === 'change') {\n          this._switch2EditMode();\n        } else {\n          this._switch2DisplayMode();\n        }\n      } else {\n        const errorMessages = <Message[]>data[1];\n        errorMessages.forEach( msg => this.messageService.add(msg));\n      }\n    });\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  switchEditDisplay(): void {\n    if (this.readonly ) {\n      this._switch2EditMode();\n    } else {\n      if (this.mainForm.dirty) {\n        this.dialogService.confirm('Discard changes?').subscribe(confirm => {\n          if (confirm) {\n            this.mainForm.reset(this.originalValue);\n            this._switch2DisplayMode();\n          }\n        });\n      } else {\n        this._switch2DisplayMode();\n      }\n    }\n    this.messageService.clearMessages();\n  }\n\n  _switch2DisplayMode(): void {\n    this.readonly = true;\n    this._setCheckBoxState();\n\n    const appIDCtrl = this.mainForm.get('APP_ID') as FormControl;\n    appIDCtrl.clearAsyncValidators();\n\n    const appCategoryArray = this.mainForm.get('appCategories') as FormArray;\n    let lastIndex = appCategoryArray.length - 1;\n    while (lastIndex >= 0) {\n      const appCategoryGroup = appCategoryArray.at(lastIndex);\n      if (appCategoryGroup.invalid || !appCategoryGroup.value.ID) {\n        appCategoryArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    this.mainForm.markAsPristine();\n    // Replace the URL from change to display\n    window.history.replaceState({}, '', `/apps/${appIDCtrl.value};action=display`);\n  }\n\n  _switch2EditMode(): void {\n    this.readonly = false;\n    this._setCheckBoxState();\n\n    const appIDCtrl = this.mainForm.get('APP_ID') as FormControl;\n    if (this.isNewMode) {\n      appIDCtrl.setAsyncValidators(\n        existingAppValidator(this.identityService, this.messageService));\n    }\n\n    // Replace the URL from to display\n    if (this.action === 'display') {this.action = 'change'; }\n    window.history.replaceState({}, '', `/apps/${appIDCtrl.value};action=` + this.action);\n  }\n\n  _createNewEntity(): Observable<Entity> {\n    const appDetail = new Entity();\n    appDetail.ENTITY_ID = 'app';\n    appDetail['app'] = [\n      { APP_ID: '', NAME: '', ROUTE_LINK: '', IS_EXTERNAL: '', CREATED_BY: '', CREATE_TIME: '', CHANGED_BY: '', CHANGE_TIME: '' }\n    ];\n    appDetail['relationships'] = [];\n    return of(appDetail);\n  }\n\n  _generateMainForm(data: Entity): void {\n    this.mainForm = this.fb.group({\n      APP_ID: [data['app'][0]['APP_ID'], [Validators.required]],\n      NAME: [data['app'][0]['NAME']],\n      target: this.fb.group({\n        ROUTE_LINK: [data['app'][0]['ROUTE_LINK']],\n        IS_EXTERNAL: [data['app'][0]['IS_EXTERNAL']]\n      }),\n      admin: this.fb.group({\n        CREATED_BY: [data['app'][0]['CREATED_BY']],\n        CREATE_TIME: [data['app'][0]['CREATE_TIME']],\n        CHANGED_BY: [data['app'][0]['CHANGED_BY']],\n        CHANGE_TIME: [data['app'][0]['CHANGE_TIME']]\n      })\n    });\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.mainForm.addControl('appCategories',\n      this.fb.array(parsedRelationship.appCategories.map( appCategory => this.fb.group( appCategory))));\n    this.mainForm.addControl('appAuthObjects',\n      this.fb.array(parsedRelationship.appAuthObjects.map( appAuthObject => this.fb.group( appAuthObject))));\n    this.originalValue = this.mainForm.getRawValue();\n  }\n\n  _parseRelationships( relationships: Relationship[] ): any {\n    const parsedRelationship = {\n      appCategories: [],\n      appAuthObjects: []\n    };\n    if (!relationships) { return parsedRelationship; }\n    relationships.forEach( relationship => {\n      switch (relationship.RELATIONSHIP_ID) {\n        case 'rs_app_category':\n          __parseAppCategory(relationship);\n          break;\n        case 'rs_app_auth':\n          parsedRelationship.appAuthObjects = this.identityService.parseProfileAuthObject(relationship);\n          break;\n        default:\n        // Do nothing.\n      }\n    });\n    return parsedRelationship;\n\n    function __parseAppCategory( relationship: Relationship): void {\n      relationship.values.forEach( value => {\n        parsedRelationship.appCategories.push({\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          ORDER: value['ORDER'],\n          app_category_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n          ID: value['PARTNER_INSTANCES'][0]['r_app_category'][0]['ID'],\n          NAME: value['PARTNER_INSTANCES'][0]['r_app_category'][0]['NAME'],\n          ICON: value['PARTNER_INSTANCES'][0]['r_app_category'][0]['ICON']\n        });\n      });\n    }\n\n    function __parseAppAuthObject( relationship: Relationship): void {\n      relationship.values.forEach( value => {\n        const authorization = value['AUTH_VALUE'] ?\n          <Authorization>JSON.parse(value['AUTH_VALUE']) : null;\n        const status = authorization ?\n          Object.values(authorization.AuthFieldValue).findIndex( authValue => !authValue ) !== -1 ?\n            'yellow' : 'green' : 'red';\n        parsedRelationship.appAuthObjects.push({\n          CHECKED: '',\n          COLLAPSED: false,\n          NODE_ID: value['RELATIONSHIP_INSTANCE_GUID'],\n          STATUS: status,\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          auth_object_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n          AUTH_VALUE: value['AUTH_VALUE'],\n          OBJ_NAME: value['PARTNER_INSTANCES'][0]['authObject'][0]['OBJ_NAME'],\n          DESC: value['PARTNER_INSTANCES'][0]['authObject'][0]['DESC'],\n          ROW_TYPE: 'OBJECT',\n          FIELD_NAME: '',\n          DATA_ELEMENT: '',\n        });\n\n        const authObjectFields = value['PARTNER_INSTANCES'][0]['relationships'][0];\n        authObjectFields.values.forEach( value2 => {\n          const authFieldName = value2['PARTNER_INSTANCES'][0]['authField'][0]['FIELD_NAME'];\n          parsedRelationship.appAuthObjects.push({\n            CHECKED: '',\n            COLLAPSED: false,\n            NODE_ID: value['RELATIONSHIP_INSTANCE_GUID'],\n            STATUS: authorization.AuthFieldValue[authFieldName] ?\n              authorization.AuthFieldValue[authFieldName].length > 0 ? 'green' : 'red' : 'red',\n            RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n            auth_object_INSTANCE_GUID: '',\n            AUTH_VALUE: authorization && authorization.AuthFieldValue[authFieldName]\n              && JSON.stringify(authorization.AuthFieldValue[authFieldName], null, ' '),\n            OBJ_NAME: value['PARTNER_INSTANCES'][0]['authObject'][0]['OBJ_NAME'],\n            DESC: '',\n            ROW_TYPE: 'FIELD',\n            FIELD_NAME: authFieldName,\n            DATA_ELEMENT: value2['PARTNER_INSTANCES'][0]['authField'][0]['DATA_ELEMENT'],\n          });\n        });\n      });\n    }\n  }\n\n  _resetValue(data: Entity): void {\n    this.originalValue = {\n      APP_ID: data['app'][0]['APP_ID'],\n      NAME: data['app'][0]['NAME'],\n      target: {\n        ROUTE_LINK: data['app'][0]['ROUTE_LINK'],\n        IS_EXTERNAL: data['app'][0]['IS_EXTERNAL']\n      },\n      admin: {\n        CREATED_BY: data['app'][0]['CREATED_BY'],\n        CREATE_TIME: data['app'][0]['CREATE_TIME'],\n        CHANGED_BY: data['app'][0]['CHANGED_BY'],\n        CHANGE_TIME: data['app'][0]['CHANGE_TIME']\n      }\n    };\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.originalValue['appCategories'] = parsedRelationship.appCategories;\n    this.originalValue['appAuthObjects'] = parsedRelationship.appAuthObjects;\n    this.mainForm.reset(this.originalValue);\n  }\n\n  _setCheckBoxState() {\n    if (this.readonly) {\n      this.mainForm.get('target.IS_EXTERNAL').disable();\n    } else {\n      this.mainForm.get('target.IS_EXTERNAL').enable();\n    }\n  }\n\n  save() {\n    this.messageService.clearMessages();\n    if (this._composeChanges()) {\n      this.identityService.save(<Entity>this.changedValue).subscribe( data => {\n        this.changedValue = {};\n        if ('INSTANCE_GUID' in data) {\n          const appID = data['app'][0]['APP_ID'];\n          this.instanceGUID = data['INSTANCE_GUID'];\n          this.isNewMode = false;\n          this.identityService.getAppDetail(appID).subscribe(instance => {\n            if ('ENTITY_ID' in instance) {\n              this._switch2DisplayMode();\n              this._resetValue(<Entity>instance);\n            } else {\n              const errorMessages = <Message[]>instance;\n              errorMessages.forEach( msg => this.messageService.add(msg));\n            }\n          });\n          this.messageService.reportMessage('APP', 'SAVED', 'S', appID);\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n        }\n      });\n    }\n  }\n\n  _composeChanges() {\n    if (this.mainForm.invalid) {\n      this.messageService.reportMessage('PERMISSION', 'INVALID', 'E');\n      return false;\n    }\n\n    if (this.mainForm.dirty === false) {\n      this.messageService.reportMessage('GENERAL', 'NO_CHANGE', 'W');\n      return false;\n    }\n\n    this.changedValue['ENTITY_ID'] = 'app';\n    this.changedValue['INSTANCE_GUID'] = this.instanceGUID;\n\n    if (this.isNewMode) {\n      this.changedValue['app'] = {\n        action: 'add', APP_ID: this.mainForm.get('APP_ID').value,\n        CREATED_BY: this.identityService.Session.USER_ID, CREATE_TIME: this.identityService.CurrentTime,\n        CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n    } else {\n      this.changedValue['app'] = {\n        action: 'update', CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n    }\n\n    if (this.mainForm.get('NAME').dirty) {\n      this.changedValue['app']['NAME'] = this.mainForm.get('NAME').value;\n    }\n    if (this.mainForm.get('target.ROUTE_LINK').dirty) {\n      this.changedValue['app']['ROUTE_LINK'] = this.mainForm.get('target.ROUTE_LINK').value;\n    }\n    if (this.mainForm.get('target.IS_EXTERNAL').dirty) {\n      this.changedValue['app']['IS_EXTERNAL'] = this.mainForm.get('target.IS_EXTERNAL').value;\n    }\n\n    const appAuthObjFormArray = this.mainForm.get('appAuthObjects') as FormArray;\n    const relationship = this.identityService.composeAuthChanges(appAuthObjFormArray,\n      this.originalValue['appAuthObjects'], 'rs_app_auth');\n    if (relationship) { this.changedValue['relationships'] = [relationship]; }\n\n    return true;\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    if (this.isNewMode || (this.mainForm && this.mainForm.dirty)) {\n      return this.dialogService.confirm('Discard changes?');\n    } else {\n      return true;\n    }\n  }\n\n}\n","<nav class=\"navbar dk-fixed-top navbar-light bg-light\">\n  <div>\n    <span class=\"font-weight-bold mb-0 mx-1\">{{isNewMode? 'New App' : readonly? 'Display App' : 'Change App'}}</span>\n  </div>\n\n  <div class=\"flex-row-reverse\">\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Edit/Display\" id=\"editDisplay\" (click)=\"switchEditDisplay()\">\n      <span *ngIf=\"readonly\" class=\"fas fa-edit\"> Edit</span>\n      <span *ngIf=\"!readonly\" class=\"fas fa-glasses\"> Display</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Save\" id=\"save\" (click)=\"save()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-save\"> Save</span>\n    </button>\n  </div>\n</nav>\n\n<div class=\"mt-2 mb-2\">\n  <dk-message></dk-message>\n</div>\n\n<div *ngIf=\"mainForm\" class=\"ml-2\">\n  <div class=\"mt-2 ml-1 row\">\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('APP_ID')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('NAME')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"readonly\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n  </div>\n\n  <ul class=\"nav nav-tabs mt-1\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(1)\">Target</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===2\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(2)\">Authorization</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===3\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(3)\">Categories</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===4\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(4)\">Admin</a>\n    </li>\n  </ul>\n\n  <div class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n    <app-app-target *ngSwitchCase=\"1\" [mainForm]=\"mainForm\" [relationMetas]=\"relationMetas\" [readonly]=\"readonly\"></app-app-target>\n    <app-authorization *ngSwitchCase=\"2\" [mainForm]=\"mainForm\" [ctrlName]=\"'appAuthObjects'\"  [readonly]=\"readonly\"></app-authorization>\n    <app-app-categories *ngSwitchCase=\"3\" [mainForm]=\"mainForm\" [readonly]=\"readonly\"></app-app-categories>\n    <app-admin-info *ngSwitchCase=\"4\" [mainForm]=\"mainForm\" [relationMetas]=\"relationMetas\" [adminRelation]=\"'app'\"></app-admin-info>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormGroup} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, RelationMeta} from 'jor-angular';\n\n@Component({\n  selector: 'app-app-target',\n  templateUrl: './app-target.component.html',\n  styleUrls: ['./app-target.component.css']\n})\nexport class AppTargetComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  appTargetForm: FormGroup;\n\n  constructor(private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.appTargetForm = this.mainForm.get('target') as FormGroup;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'app').ATTRIBUTES);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n}\n","<form class=\"mt-4 ml-2 row\">\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('ROUTE_LINK')\"\n                          [formGroup]=\"appTargetForm\"\n                          [isSmallSize] = \"true\"\n                          [readonly]=\"readonly\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4 dk-form-label\"\n                          [attributeControl]=\"getAttrCtrlFromID('IS_EXTERNAL')\"\n                          [formGroup]=\"appTargetForm\"\n                          [isSmallSize] = \"true\"\n                          [readonly]=\"readonly\">\n  </dk-app-attribute-form2>\n</form>\n","import { Component, OnInit } from '@angular/core';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {Router} from '@angular/router';\nimport {AppList} from '../../identity';\n\n@Component({\n  selector: 'app-app-list',\n  templateUrl: './app-list.component.html',\n  styleUrls: ['./app-list.component.css']\n})\nexport class AppListComponent implements OnInit {\n  appID: string;\n  appName: string;\n  apps: AppList[];\n  showDeletionConfirmation = false;\n  toBeDeletedInstance: string;\n\n  get displayDeletionConfirmation() {return this.showDeletionConfirmation ? 'block' : 'none'; }\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  search() {\n    this.messageService.clearMessages();\n    this.apps = [];\n    this.appID = this.appID ? this.appID.trim() : '';\n    this.appName = this.appName ? this.appName.trim() : '';\n    this.identityService.searchApps(this.appID, this.appName).subscribe(\n      data => {\n        if (!data[0]) {\n          this.messageService.reportMessage('GENERAL', 'EMPTY_LIST', messageType.Warning);\n        } else if (data[0]['msgCat']) {\n          const messages = <Message[]>data;\n          messages.forEach( msg => this.messageService.add(msg));\n        } else {\n          this.apps = <AppList[]>data;\n        }\n      }\n    );\n  }\n\n  enterSearch($event): void {\n    if ($event.keyCode === 13 ) {\n      this.search();\n    }\n  }\n\n  new(): void {\n    this.router.navigate(['apps', '/', {action: 'new'}]);\n  }\n\n  display(appID: string): void {\n    this.router.navigate(['apps', appID, {action: 'display'}]);\n  }\n\n  change(appID: string): void {\n    this.router.navigate(['apps', appID, {action: 'change'}]);\n  }\n\n  delete(appID: string): void {\n    this.toBeDeletedInstance = appID;\n    this.showDeletionConfirmation = true;\n  }\n\n  cancelDeletion(): void {\n    this.showDeletionConfirmation = false;\n  }\n\n  confirmDeletion(): void {\n    const toBeDeletedInstanceGUID = this.apps.find(\n      ele => ele.APP_ID === this.toBeDeletedInstance).INSTANCE_GUID;\n    this.identityService.delete(toBeDeletedInstanceGUID).subscribe( errorMsg => {\n      this.showDeletionConfirmation = false;\n      if (errorMsg) {\n        const messages = <Message[]>errorMsg;\n        messages.forEach( msg => this.messageService.add(msg));\n      } else {\n        this.search();\n      }\n    });\n  }\n}\n","<div class=\"card mb-3 pt-3\">\n  <div class=\"mt-2 pl-4 row\">\n    <div class=\"col-6 form-group row\">\n      <label for=\"app_id\" class=\"col-sm-3 col-form-label\">App ID:</label>\n      <input id=\"app_id\" name=\"app_id\" [(ngModel)]=\"appID\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\" autofocus>\n    </div>\n    <div class=\"col-6 form-group row\">\n      <label for=\"app_name\" class=\"col-sm-3 col-form-label\">App Name:</label>\n      <input id=\"app_name\" name=\"app_name\" [(ngModel)]=\"appName\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\">\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <button type=\"button\" id=\"search\" class=\"btn btn-primary btn-sm float-right mr-4\" (click)=\"search()\">Search</button>\n  </div>\n</div>\n\n<div class=\"mt-2 mb-4 mx-4\">\n  <dk-message></dk-message>\n  <div class=\"btn-toolbar justify-content-end my-2\" role=\"toolbar\">\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"new()\">\n      <span class=\"fas fa-plus\"></span> New</button>\n  </div>\n  <table class=\"table table-bordered table-sm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th scope=\"col\">ID</th>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Link</th>\n      <th scope=\"col\">External?</th>\n<!--      <th scope=\"col\">Created By</th>-->\n<!--      <th scope=\"col\">Created At</th>-->\n      <th scope=\"col\">Changed By</th>\n      <th scope=\"col\">Changed At</th>\n      <th scope=\"col\">Action</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let app of apps\">\n      <td><a [routerLink]=\"['/apps', app.APP_ID, {action: 'display'}]\">{{app.APP_ID}}</a></td>\n      <td>{{app.NAME}}</td>\n      <td>{{app.ROUTE_LINK}}</td>\n      <td> <input type=\"checkbox\" [(ngModel)]=\"app.IS_EXTERNAL\" disabled></td>\n<!--      <td>{{app.CREATED_BY}}</td>-->\n<!--      <td>{{app.CREATE_TIME}}</td>-->\n      <td>{{app.CHANGED_BY}}</td>\n      <td>{{app.CHANGE_TIME}}</td>\n      <td class=\"dk-actions\">\n        <button title=\"Display\" id=\"display\" class=\"btn btn-sm\" type=\"button\" (click)=\"display(app.APP_ID)\">\n          <span class=\"fas fa-search\"></span>\n        </button>\n        <button title=\"Change\" id=\"change\" class=\"btn btn-sm\" type=\"button\" (click)=\"change(app.APP_ID)\">\n          <span class=\"fas fa-pen\"></span>\n        </button>\n        <button title=\"Delete\" id=\"delete\" class=\"btn btn-sm\" type=\"button\" (click)=\"delete(app.APP_ID)\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class=\"modal\" [class.show]=\"showDeletionConfirmation\"\n       [ngStyle]=\"{'display': displayDeletionConfirmation}\" id=\"deletionConfirmation\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-sm modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"confirmDeletion\">Confirm Deletion</h5>\n          <button type=\"button\" class=\"close\" (click)=\"cancelDeletion()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure to delete the App '{{toBeDeletedInstance}}'?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" id=\"cancel\" class=\"btn btn-sm btn-secondary\" (click)=\"cancelDeletion()\">Cancel</button>\n          <button type=\"button\" id=\"confirm\" class=\"btn btn-sm btn-primary\" (click)=\"confirmDeletion()\">Confirm</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {IdentityService} from '../../../identity.service';\nimport {SearchHelpComponent} from 'jor-angular';\n\n@Component({\n  selector: 'app-app-category-detail-app',\n  templateUrl: './app-category-detail-app.component.html',\n  styleUrls: ['./app-category-detail-app.component.css']\n})\nexport class AppCategoryDetailAppComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  appFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private identityService: IdentityService) { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n\n  ngOnInit() {\n    this.appFormArray = this.mainForm.get('apps') as FormArray;\n    // Recheck each role since every time the template is initialized, Angular clears the error status.\n    if (!this.readonly) {\n      this.appFormArray.controls.forEach( (ctrl, index) => {\n        this.onChangeKey(index);\n      });\n    }\n  }\n\n  delete(index: number): void {\n    if (index !== this.appFormArray.length - 1) {\n      this.appFormArray.removeAt(index);\n      this.appFormArray.markAsDirty();\n    }\n  }\n\n  onChangeKey(index: number): void {\n    const currentFormGroup = this.appFormArray.at(index);\n    if (this.isExisting(currentFormGroup)) {\n      currentFormGroup.get('APP_ID').setErrors({message: 'Duplicate Apps'});\n      return;\n    }\n\n    if (index === this.appFormArray.length - 1 && currentFormGroup.value.APP_ID.trim() !== '') {\n      // Only work if the last line is not new and empty\n      this.appFormArray.push(\n        this.fb.group({\n          APP_ID: [''],\n          NAME: [''],\n          ORDER: [0],\n          portal_app_INSTANCE_GUID: [''],\n          RELATIONSHIP_INSTANCE_GUID: ['']\n        })\n      );\n    }\n\n    if (currentFormGroup.value.APP_ID) {\n      this.identityService.getAppByID(currentFormGroup.value.APP_ID).subscribe(data => {\n        if (data[0] && data[0]['msgCat']) {\n          currentFormGroup.get('APP_ID').setErrors({message: data[0]['msgShortText']});\n        } else {\n          currentFormGroup.get('NAME').setValue(data['app'][0]['NAME']);\n          currentFormGroup.get('portal_app_INSTANCE_GUID').setValue(data['INSTANCE_GUID']);\n        }\n      });\n    }\n  }\n\n  isExisting(key: AbstractControl): boolean {\n    const existIndex = this.appFormArray.controls.findIndex(\n      ctrl => ctrl.value.APP_ID === key.value.APP_ID\n        && ctrl.get('APP_ID').pristine && ctrl.value.APP_ID !== '');\n    return existIndex !== -1 ;\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, rowIDx: number) {\n      return () => context.onChangeKey(rowIDx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalByEntity('app', 'app',\n      exportObject, this.readonly, 'APP_ID', null, afterExportFn);\n  }\n}\n","<table class=\"table table-bordered table-sm dk-table ml-3 mt-4\" [formGroup]=\"mainForm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th class=\"dk-name\">App ID</th>\n    <th class=\"dk-description\">App Name</th>\n    <th class=\"dk-number\">Order</th>\n    <th class=\"dk-actions\">Action</th>\n  </tr>\n  </thead>\n\n  <tbody formArrayName=\"apps\" class=\"mb-4\">\n  <tr *ngFor=\"let appForm of appFormArray.controls; let i = index\">\n    <td [formGroup]=\"appForm\">\n      <div class=\"input-group\">\n        <input class=\"form-control form-control-sm\" type=\"text\" formControlName=\"APP_ID\"\n               [readonly]=\"readonly || isExisting(appForm) && appForm.valid\" (change)=\"onChangeKey(i)\">\n        <div class=\"invalid-tooltip\">\n          {{appForm.get('APP_ID').errors?.message}}\n        </div>\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-sm btn-outline-secondary btn-light\" type=\"button\" id=\"searchApp\"\n                  (click)=\"onSearchHelp(i, appForm)\">\n            <span class=\"fas fa-search\"></span>\n          </button>\n        </div>\n      </div>\n    </td>\n    <td [formGroup]=\"appForm\">\n      <input type=\"text\" formControlName=\"NAME\" readonly class=\"form-control form-control-sm\">\n    </td>\n    <td [formGroup]=\"appForm\" >\n      <input type=\"number\" formControlName=\"ORDER\" [readonly]=\"readonly\" class=\"form-control form-control-sm\">\n    </td>\n    <td>\n      <button class=\"btn btn-sm\" type=\"button\" id=\"delete\" [disabled]=\"readonly\" (click)=\"delete(i)\" title=\"Delete\">\n        <span class=\"far fa-trash-alt\"></span>\n      </button>\n    </td>\n  </tr>\n  </tbody>\n</table>\n\n<dk-app-search-help></dk-app-search-help>\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {IdentityService} from '../../../identity.service';\nimport {SearchHelpComponent} from 'jor-angular';\n\n@Component({\n  selector: 'app-app-category-detail-role',\n  templateUrl: './app-category-detail-role.component.html',\n  styleUrls: ['./app-category-detail-role.component.css']\n})\nexport class AppCategoryDetailRoleComponent implements OnInit {\n  @Input() mainForm: FormGroup;\n  roleFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private identityService: IdentityService) { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n\n  ngOnInit() {\n    this.roleFormArray = this.mainForm.get('roles') as FormArray;\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    this.searchHelpComponent.openSearchHelpModalByEntity('permission', 'r_role',\n      exportObject, true, null, null, null);\n  }\n}\n","<table class=\"table table-bordered table-sm dk-table ml-3 mt-4\" [formGroup]=\"mainForm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th class=\"dk-name\">Role</th>\n    <th class=\"dk-description\">Description</th>\n    <th class=\"dk-number\">Order</th>\n  </tr>\n  </thead>\n\n  <tbody formArrayName=\"apps\" class=\"mb-4\">\n  <tr *ngFor=\"let roleForm of roleFormArray.controls; let i = index\">\n    <td [formGroup]=\"roleForm\">\n      <div class=\"input-group\">\n        <input class=\"form-control form-control-sm\" type=\"text\" formControlName=\"NAME\" readonly>\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-sm btn-outline-secondary btn-light\" type=\"button\" id=\"searchRole\"\n                  (click)=\"onSearchHelp(i, roleForm)\">\n            <span class=\"fas fa-search\"></span>\n          </button>\n        </div>\n      </div>\n    </td>\n    <td [formGroup]=\"roleForm\" class=\"dk-description\">\n      <input type=\"text\" formControlName=\"DESCRIPTION\" readonly class=\"form-control form-control-sm\">\n    </td>\n    <td [formGroup]=\"roleForm\" >\n      <input type=\"number\" formControlName=\"ORDER\" readonly class=\"form-control form-control-sm\">\n    </td>\n  </tr>\n  </tbody>\n</table>\n\n<dk-app-search-help></dk-app-search-help>\n","import { Component, OnInit } from '@angular/core';\nimport {FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, Entity, EntityService, RelationMeta, Relationship, UiMapperService} from 'jor-angular';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {DialogService} from '../../dialog.service';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {switchMap} from 'rxjs/operators';\nimport {forkJoin, Observable, of} from 'rxjs';\nimport {existingAppCategoryValidator} from '../../async-validators';\n\n@Component({\n  selector: 'app-app-category-detail',\n  templateUrl: './app-category-detail.component.html',\n  styleUrls: ['./app-category-detail.component.css']\n})\nexport class AppCategoryDetailComponent implements OnInit {\n  mainForm: FormGroup;\n  relationMetas: RelationMeta[];\n  attrCtrls: AttributeBase[];\n  readonly = true;\n  isNewMode = false;\n  action: string;\n  instanceGUID: string;\n  originalValue = {};\n  changedValue = {};\n  tabStrip = 1;\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private dialogService: DialogService,\n              private identityService: IdentityService,\n              private attributeControlService: AttributeControlService,\n              private entityService: EntityService,\n              private uiMapperService: UiMapperService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.action = params.get('action');\n        if (this.action === 'new') {\n          this.isNewMode = true;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('category'),\n            this._createNewEntity()\n          ]);\n        } else {\n          this.isNewMode = false;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('category'),\n            this.identityService.getAppCategoryDetail(params.get('appCategory'))\n          ]);\n        }\n      })\n    ).subscribe( data => {\n      this.relationMetas = data[0] as RelationMeta[];\n      this.attrCtrls = this.attributeControlService.toAttributeControl(\n        this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_app_category').ATTRIBUTES);\n      if ('ENTITY_ID' in data[1]) {\n        this.instanceGUID = data[1]['INSTANCE_GUID'];\n        this._generateMainForm(<Entity>data[1]);\n        if (this.isNewMode || this.action === 'change') {\n          this._switch2EditMode();\n        } else {\n          this._switch2DisplayMode();\n        }\n      } else {\n        const errorMessages = <Message[]>data[1];\n        errorMessages.forEach( msg => this.messageService.add(msg));\n      }\n    });\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  switchEditDisplay(): void {\n    if (this.readonly ) {\n      this._switch2EditMode();\n    } else {\n      if (this.mainForm.dirty) {\n        this.dialogService.confirm('Discard changes?').subscribe(confirm => {\n          if (confirm) {\n            this.mainForm.reset(this.originalValue);\n            this._switch2DisplayMode();\n          }\n        });\n      } else {\n        this._switch2DisplayMode();\n      }\n    }\n    this.messageService.clearMessages();\n  }\n\n  _switch2DisplayMode(): void {\n    this.readonly = true;\n\n    const appCategoryIDCtrl = this.mainForm.get('ID') as FormControl;\n    appCategoryIDCtrl.clearAsyncValidators();\n\n    const appArray = this.mainForm.get('apps') as FormArray;\n    let lastIndex = appArray.length - 1;\n    while (lastIndex >= 0) {\n      const appGroup = appArray.at(lastIndex);\n      if (appGroup.invalid || !appGroup.value.APP_ID) {\n        appArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    this.mainForm.markAsPristine();\n    // Replace the URL from change to display\n    window.history.replaceState({}, '', `/app-categories/${appCategoryIDCtrl.value};action=display`);\n  }\n\n  _switch2EditMode(): void {\n    this.readonly = false;\n\n    const appCategoryIDCtrl = this.mainForm.get('ID') as FormControl;\n    if (this.isNewMode) {\n      appCategoryIDCtrl.setAsyncValidators(\n        existingAppCategoryValidator(this.identityService, this.messageService));\n    }\n\n    const appArray = this.mainForm.get('apps') as FormArray;\n    appArray.push( this.fb.group({\n      APP_ID: [''],\n      NAME: [''],\n      ORDER: [0],\n      portal_app_INSTANCE_GUID: [''],\n      RELATIONSHIP_INSTANCE_GUID: ['']\n    }));\n\n    // Replace the URL from to display\n    if (this.action === 'display') {this.action = 'change'; }\n    window.history.replaceState({}, '', `/app-categories/${appCategoryIDCtrl.value};action=` + this.action);\n  }\n\n  _createNewEntity(): Observable<Entity> {\n    const appCategoryDetail = new Entity();\n    appCategoryDetail.ENTITY_ID = 'category';\n    appCategoryDetail['category'] = [\n      { NAME: '', TYPE: 'APP', CREATED_BY: '', CREATE_TIME: '', CHANGED_BY: '', CHANGE_TIME: '' }\n    ];\n    appCategoryDetail['r_app_category'] = [\n      { ID: '', NAME: '', ICON: '' }\n    ];\n    appCategoryDetail['relationships'] = [];\n    return of(appCategoryDetail);\n  }\n\n  _generateMainForm(data: Entity): void {\n    this.mainForm = this.fb.group({\n      ID: [data['r_app_category'][0]['ID'], [Validators.required]],\n      NAME: [data['r_app_category'][0]['NAME']],\n      ICON: [data['r_app_category'][0]['ICON']],\n      admin: this.fb.group({\n        CREATED_BY: [data['category'][0]['CREATED_BY']],\n        CREATE_TIME: [data['category'][0]['CREATE_TIME']],\n        CHANGED_BY: [data['category'][0]['CHANGED_BY']],\n        CHANGE_TIME: [data['category'][0]['CHANGE_TIME']]\n      })\n    });\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.mainForm.addControl('apps',\n      this.fb.array(parsedRelationship.apps.map( app => this.fb.group( app ))));\n    this.mainForm.addControl('roles',\n      this.fb.array(parsedRelationship.roles.map( role => this.fb.group( role ))));\n    this.originalValue = this.mainForm.getRawValue();\n  }\n\n  _parseRelationships( relationships: Relationship[] ): any {\n    const parsedRelationship = {\n      apps : [],\n      roles: []\n    };\n    if (!relationships) { return parsedRelationship; }\n    relationships.forEach( relationship => {\n      switch (relationship.RELATIONSHIP_ID) {\n        case 'rs_app_category':\n          __parseApp(relationship);\n          break;\n        case 'rs_system_role_category':\n          __parseSystemRole(relationship);\n          break;\n        default:\n        // Do nothing.\n      }\n    });\n    return parsedRelationship;\n\n    function __parseApp( relationship: Relationship): void {\n      relationship.values.forEach( value => {\n        parsedRelationship.apps.push({\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          portal_app_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n          APP_ID: value['PARTNER_INSTANCES'][0]['app'][0]['APP_ID'],\n          NAME: value['PARTNER_INSTANCES'][0]['app'][0]['NAME'],\n          ORDER: value['ORDER']\n        });\n      });\n    }\n\n    function __parseSystemRole( relationship: Relationship): void {\n      relationship.values.forEach( value => {\n        parsedRelationship.roles.push({\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          system_role_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n          NAME: value['PARTNER_INSTANCES'][0]['r_role'][0]['NAME'],\n          DESCRIPTION: value['PARTNER_INSTANCES'][0]['r_role'][0]['DESCRIPTION'],\n          ORDER: value['ORDER']\n        });\n      });\n    }\n  }\n\n  _resetValue(data: Entity): void {\n    this.originalValue = {\n      ID: data['r_app_category'][0]['ID'],\n      NAME: data['r_app_category'][0]['NAME'],\n      ICON: data['r_app_category'][0]['ICON'],\n      admin: {\n        CREATED_BY: data['category'][0]['CREATED_BY'],\n        CREATE_TIME: data['category'][0]['CREATE_TIME'],\n        CHANGED_BY: data['category'][0]['CHANGED_BY'],\n        CHANGE_TIME: data['category'][0]['CHANGE_TIME']\n      }\n    };\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.originalValue['apps'] = parsedRelationship.apps;\n    this.originalValue['roles'] = parsedRelationship.roles;\n    this.mainForm.reset(this.originalValue);\n  }\n\n  save() {\n    this.messageService.clearMessages();\n    if (this._composeChanges()) {\n      this.identityService.save(<Entity>this.changedValue).subscribe( data => {\n        this.changedValue = {};\n        if ('INSTANCE_GUID' in data) {\n          const appCategoryID = data['r_app_category'][0]['ID'];\n          this.instanceGUID = data['INSTANCE_GUID'];\n          this.isNewMode = false;\n          this.identityService.getAppCategoryDetail(appCategoryID).subscribe(instance => {\n            if ('ENTITY_ID' in instance) {\n              this._switch2DisplayMode();\n              this._resetValue(<Entity>instance);\n            } else {\n              const errorMessages = <Message[]>instance;\n              errorMessages.forEach( msg => this.messageService.add(msg));\n            }\n          });\n          this.messageService.reportMessage('APP_CATEGORY', 'SAVED', 'S', appCategoryID);\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n        }\n      });\n    }\n  }\n\n  _composeChanges() {\n    if (this.mainForm.invalid) {\n      this.messageService.reportMessage('APP_CATEGORY', 'INVALID', 'E');\n      return false;\n    }\n\n    if (this.mainForm.dirty === false) {\n      this.messageService.reportMessage('GENERAL', 'NO_CHANGE', 'W');\n      return false;\n    }\n\n    this.changedValue['ENTITY_ID'] = 'category';\n    this.changedValue['INSTANCE_GUID'] = this.instanceGUID;\n\n    if (this.isNewMode) {\n      this.changedValue['category'] = {\n        action: 'add', TYPE: 'APP',\n        CREATED_BY: this.identityService.Session.USER_ID, CREATE_TIME: this.identityService.CurrentTime,\n        CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime\n      };\n      this.changedValue['r_app_category'] = { action: 'add', ID: this.mainForm.get('ID').value };\n    } else {\n      this.changedValue['category'] = {\n        action: 'update', CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n      this.changedValue['r_app_category'] = { action: 'update', ID: this.mainForm.get('ID').value};\n    }\n\n    if (this.mainForm.get('NAME').dirty) {\n      this.changedValue['category']['NAME'] = this.mainForm.get('NAME').value;\n      this.changedValue['r_app_category']['NAME'] = this.mainForm.get('NAME').value;\n    }\n\n    if (this.mainForm.get('ICON').dirty) {\n      this.changedValue['r_app_category']['ICON'] = this.mainForm.get('ICON').value;\n    }\n\n    const appFormArray = this.mainForm.get('apps') as FormArray;\n    const relationship = this.uiMapperService.composeChangedRelationship(\n      'rs_app_category',\n      [{ENTITY_ID: 'app', ROLE_ID: 'portal_app'}],\n      appFormArray,\n      this.originalValue['apps'],\n      ['APP_ID', 'NAME']);\n\n    if (relationship) {this.changedValue['relationships'] = [relationship]; }\n\n    return true;\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    if (this.isNewMode || (this.mainForm && this.mainForm.dirty)) {\n      return this.dialogService.confirm('Discard changes?');\n    } else {\n      return true;\n    }\n  }\n}\n","<nav class=\"navbar dk-fixed-top navbar-light bg-light\">\n  <div>\n    <span class=\"font-weight-bold mb-0 mx-1\">{{isNewMode? 'New App Category' :\n      readonly? 'Display App Category' : 'Change App Category'}}</span>\n  </div>\n\n  <div class=\"flex-row-reverse\">\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Edit/Display\" id=\"editDisplay\" (click)=\"switchEditDisplay()\">\n      <span *ngIf=\"readonly\" class=\"fas fa-edit\"> Edit</span>\n      <span *ngIf=\"!readonly\" class=\"fas fa-glasses\"> Display</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Save\" id=\"save\" (click)=\"save()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-save\"> Save</span>\n    </button>\n  </div>\n</nav>\n\n<div class=\"mt-2 mb-2\">\n  <dk-message></dk-message>\n</div>\n\n<div *ngIf=\"mainForm\" class=\"mx-2\">\n  <div class=\"mt-2 ml-1 row\">\n    <dk-app-attribute-form2 class=\"col-md-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('ID')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n    <dk-app-attribute-form2 class=\"col-md-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('NAME')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"readonly\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n    <dk-app-attribute-form2 class=\"col-md-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('ICON')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"readonly\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n  </div>\n\n  <ul class=\"nav nav-tabs mt-1\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(1)\">Apps</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===2\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(2)\">Roles</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===3\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(3)\">Admin</a>\n    </li>\n  </ul>\n\n  <div class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n    <app-app-category-detail-app *ngSwitchCase=\"1\" [mainForm]=\"mainForm\"  [readonly]=\"readonly\"></app-app-category-detail-app>\n    <app-app-category-detail-role *ngSwitchCase=\"2\" [mainForm]=\"mainForm\" ></app-app-category-detail-role>\n    <app-admin-info *ngSwitchCase=\"3\" [mainForm]=\"mainForm\" [relationMetas]=\"relationMetas\" [adminRelation]=\"'category'\"></app-admin-info>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {AppCategoryList, AuthObjList} from '../../identity';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-app-category-list',\n  templateUrl: './app-category-list.component.html',\n  styleUrls: ['./app-category-list.component.css']\n})\nexport class AppCategoryListComponent implements OnInit {\n  appCategoryID: string;\n  appCategoryName: string;\n  appCategories: AppCategoryList[];\n  showDeletionConfirmation = false;\n  toBeDeletedInstance: string;\n\n  get displayDeletionConfirmation() {return this.showDeletionConfirmation ? 'block' : 'none'; }\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  search() {\n    this.messageService.clearMessages();\n    this.appCategories = [];\n    this.appCategoryID = this.appCategoryID ? this.appCategoryID.trim() : '';\n    this.appCategoryName = this.appCategoryName ? this.appCategoryName.trim() : '';\n    this.identityService.searchAppCategories(this.appCategoryID, this.appCategoryName).subscribe(\n      data => {\n        if (!data[0]) {\n          this.messageService.reportMessage('GENERAL', 'EMPTY_LIST', messageType.Warning);\n        } else if (data[0]['msgCat']) {\n          const messages = <Message[]>data;\n          messages.forEach( msg => this.messageService.add(msg));\n        } else {\n          this.appCategories = <AppCategoryList[]>data;\n        }\n      }\n    );\n  }\n\n  enterSearch($event): void {\n    if ($event.keyCode === 13 ) {\n      this.search();\n    }\n  }\n\n  new(): void {\n    this.router.navigate(['app-categories', '/', {action: 'new'}]);\n  }\n\n  display(appCategoryID: string): void {\n    this.router.navigate(['app-categories', appCategoryID, {action: 'display'}]);\n  }\n\n  change(appCategoryID: string): void {\n    this.router.navigate(['app-categories', appCategoryID, {action: 'change'}]);\n  }\n\n  delete(appCategoryID: string): void {\n    this.toBeDeletedInstance = appCategoryID;\n    this.showDeletionConfirmation = true;\n  }\n\n  cancelDeletion(): void {\n    this.showDeletionConfirmation = false;\n  }\n\n  confirmDeletion(): void {\n    const toBeDeletedInstanceGUID = this.appCategories.find(\n      ele => ele.ID === this.toBeDeletedInstance).INSTANCE_GUID;\n    this.identityService.delete(toBeDeletedInstanceGUID).subscribe( errorMsg => {\n      this.showDeletionConfirmation = false;\n      if (errorMsg) {\n        const messages = <Message[]>errorMsg;\n        messages.forEach( msg => this.messageService.add(msg));\n      } else {\n        this.search();\n      }\n    });\n  }\n\n}\n","<div class=\"card mb-3 pt-3\">\n  <div class=\"mt-2 pl-4 row\">\n    <div class=\"col-6 form-group row\">\n      <label for=\"app_category_id\" class=\"col-sm-3 col-form-label\">Category ID:</label>\n      <input id=\"app_category_id\" name=\"app_category_id\" [(ngModel)]=\"appCategoryID\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\" autofocus>\n    </div>\n    <div class=\"col-6 form-group row\">\n      <label for=\"app_category_name\" class=\"col-sm-3 col-form-label\">Category Name:</label>\n      <input id=\"app_category_name\" name=\"app_category_name\" [(ngModel)]=\"appCategoryName\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\">\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <button type=\"button\" id=\"search\" class=\"btn btn-primary btn-sm float-right mr-4\" (click)=\"search()\">Search</button>\n  </div>\n</div>\n\n<div class=\"mt-2 mb-4 mx-4\">\n  <dk-message></dk-message>\n  <div class=\"btn-toolbar justify-content-end my-2\" role=\"toolbar\">\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"new()\">\n      <span class=\"fas fa-plus\"></span> New</button>\n  </div>\n  <table class=\"table table-bordered table-sm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th scope=\"col\">ID</th>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Icon</th>\n      <th scope=\"col\">Changed By</th>\n      <th scope=\"col\">Changed At</th>\n      <th scope=\"col\">Action</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let appCategory of appCategories\">\n      <td><a [routerLink]=\"['/app-categories', appCategory.ID, {action: 'display'}]\">{{appCategory.ID}}</a></td>\n      <td>{{appCategory.NAME}}</td>\n      <td><span [ngClass]=\"appCategory.ICON\"></span></td>\n      <td>{{appCategory.CHANGED_BY}}</td>\n      <td>{{appCategory.CHANGE_TIME}}</td>\n      <td class=\"dk-actions\">\n        <button title=\"Display\" id=\"display\" class=\"btn btn-sm\" type=\"button\" (click)=\"display(appCategory.ID)\">\n          <span class=\"fas fa-search\"></span>\n        </button>\n        <button title=\"Change\" id=\"change\" class=\"btn btn-sm\" type=\"button\" (click)=\"change(appCategory.ID)\">\n          <span class=\"fas fa-pen\"></span>\n        </button>\n        <button title=\"Delete\" id=\"delete\" class=\"btn btn-sm\" type=\"button\" (click)=\"delete(appCategory.ID)\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class=\"modal fade\" [class.show]=\"showDeletionConfirmation\"\n       [ngStyle]=\"{'display': displayDeletionConfirmation}\" id=\"deletionConfirmation\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-sm modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"confirmDeletion\">Confirm Deletion</h5>\n          <button type=\"button\" class=\"close\" (click)=\"cancelDeletion()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure to delete the app category '{{toBeDeletedInstance}}'?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" id=\"cancel\" class=\"btn btn-sm btn-secondary\" (click)=\"cancelDeletion()\">Cancel</button>\n          <button type=\"button\" id=\"confirm\" class=\"btn btn-sm btn-primary\" (click)=\"confirmDeletion()\">Confirm</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","import {IdentityService} from './identity.service';\nimport {AbstractControl, AsyncValidatorFn, ValidationErrors} from '@angular/forms';\nimport {Observable, timer} from 'rxjs';\nimport {map, switchMap} from 'rxjs/operators';\nimport {MessageService} from 'ui-message-angular';\n\nexport function existingUserNameValidator(identityService: IdentityService,\n                                          messageService: MessageService,\n                                          userID: string): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getUserByUserName(control.value).pipe(\n        map(data => {\n          if (data['r_user'] && data['r_user'][0]['USER_ID'] !== userID) {\n            return {message: messageService.generateMessage('USER', 'USER_NAME_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n\nexport function existingUserIDValidator(identityService: IdentityService,\n                                        messageService: MessageService): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getUserByUserID(control.value).pipe(\n        map(data => {\n          if (data['r_user'] && data['r_user'][0]['USER_ID'] === control.value) {\n            return {message: messageService.generateMessage('USER', 'USER_ID_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n\nexport function existingPermissionValidator(identityService: IdentityService,\n                                          messageService: MessageService): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getPermissionByName(control.value).pipe(\n        map(data => {\n          if (data['r_role'] && data['r_role'][0]['NAME'] === control.value) {\n            return {message: messageService.generateMessage('PERMISSION', 'PERMISSION_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n\nexport function existingAppValidator(identityService: IdentityService,\n                                            messageService: MessageService): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getAppByID(control.value).pipe(\n        map(data => {\n          if (data['app'] && data['app'][0]['APP_ID'] === control.value) {\n            return {message: messageService.generateMessage('APP', 'APP_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n\nexport function existingAuthObjectValidator(identityService: IdentityService,\n                                     messageService: MessageService): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getAuthObjectByName(control.value).pipe(\n        map(data => {\n          if (data['authObject'] && data['authObject'][0]['OBJ_NAME'] === control.value) {\n            return {message: messageService.generateMessage('AUTH_OBJECT', 'AUTH_OBJECT_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n\nexport function existingAppCategoryValidator(identityService: IdentityService,\n                                            messageService: MessageService): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getAppCategoryByID(control.value).pipe(\n        map(data => {\n          if (data['r_app_category'] && data['r_app_category'][0]['ID'] === control.value) {\n            return {message: messageService.generateMessage('APP_CATEGORY', 'APP_CATEGORY_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n\nexport function existingProfileValidator(identityService: IdentityService,\n                                             messageService: MessageService): AsyncValidatorFn {\n  return (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> => {\n    return timer(500).pipe(\n      switchMap( () => identityService.getAuthProfileByName(control.value).pipe(\n        map(data => {\n          if (data['authProfile'] && data['authProfile'][0]['PROFILE_NAME'] === control.value) {\n            return {message: messageService.generateMessage('AUTH_PROFILE', 'AUTH_PROFILE_EXISTS',\n                'E', control.value).msgShortText};\n          } else {\n            return null;\n          }\n        })\n      )));\n  };\n}\n","import { Component, OnInit } from '@angular/core';\nimport {FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, Entity, EntityService, RelationMeta, Relationship, UiMapperService} from 'jor-angular';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {DialogService} from '../../dialog.service';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {switchMap} from 'rxjs/operators';\nimport {forkJoin, Observable, of} from 'rxjs';\nimport {existingAuthObjectValidator} from '../../async-validators';\n\n@Component({\n  selector: 'app-auth-object-detail',\n  templateUrl: './auth-object-detail.component.html',\n  styleUrls: ['./auth-object-detail.component.css']\n})\nexport class AuthObjectDetailComponent implements OnInit {\n  mainForm: FormGroup;\n  relationMetas: RelationMeta[];\n  attrCtrls: AttributeBase[];\n  readonly = true;\n  isNewMode = false;\n  action: string;\n  instanceGUID: string;\n  originalValue = {};\n  changedValue = {};\n  tabStrip = 1;\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private dialogService: DialogService,\n              private identityService: IdentityService,\n              private attributeControlService: AttributeControlService,\n              private entityService: EntityService,\n              private uiMapperService: UiMapperService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.action = params.get('action');\n        if (this.action === 'new') {\n          this.isNewMode = true;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('authObject'),\n            this._createNewEntity()\n          ]);\n        } else {\n          this.isNewMode = false;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('authObject'),\n            this.identityService.getAuthObjectDetail(params.get('authObjName'))\n          ]);\n        }\n      })\n    ).subscribe( data => {\n      this.relationMetas = data[0] as RelationMeta[];\n      this.attrCtrls = this.attributeControlService.toAttributeControl(\n        this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'authObject').ATTRIBUTES);\n      if ('ENTITY_ID' in data[1]) {\n        this.instanceGUID = data[1]['INSTANCE_GUID'];\n        this._generateMainForm(<Entity>data[1]);\n        if (this.isNewMode || this.action === 'change') {\n          this._switch2EditMode();\n        } else {\n          this._switch2DisplayMode();\n        }\n      } else {\n        const errorMessages = <Message[]>data[1];\n        errorMessages.forEach( msg => this.messageService.add(msg));\n      }\n    });\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  switchEditDisplay(): void {\n    if (this.readonly ) {\n      this._switch2EditMode();\n    } else {\n      if (this.mainForm.dirty) {\n        this.dialogService.confirm('Discard changes?').subscribe(confirm => {\n          if (confirm) {\n            this.mainForm.reset(this.originalValue);\n            this._switch2DisplayMode();\n          }\n        });\n      } else {\n        this._switch2DisplayMode();\n      }\n    }\n    this.messageService.clearMessages();\n  }\n\n  _switch2DisplayMode(): void {\n    this.readonly = true;\n\n    const appIDCtrl = this.mainForm.get('OBJ_NAME') as FormControl;\n    appIDCtrl.clearAsyncValidators();\n\n    const authFieldArray = this.mainForm.get('authFields') as FormArray;\n    let lastIndex = authFieldArray.length - 1;\n    while (lastIndex >= 0) {\n      const authFieldGroup = authFieldArray.at(lastIndex);\n      if (authFieldGroup.invalid || !authFieldGroup.value.FIELD_NAME) {\n        authFieldArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    this.mainForm.markAsPristine();\n    // Replace the URL from change to display\n    window.history.replaceState({}, '', `/auth-objects/${appIDCtrl.value};action=display`);\n  }\n\n  _switch2EditMode(): void {\n    this.readonly = false;\n\n    const authObjCtrl = this.mainForm.get('OBJ_NAME') as FormControl;\n    if (this.isNewMode) {\n      authObjCtrl.setAsyncValidators(\n        existingAuthObjectValidator(this.identityService, this.messageService));\n    }\n\n    const appCategoryArray = this.mainForm.get('authFields') as FormArray;\n    appCategoryArray.push( this.fb.group({\n      FIELD_NAME: [''],\n      DATA_ELEMENT: [''],\n      auth_field_INSTANCE_GUID: [''],\n      RELATIONSHIP_INSTANCE_GUID: ['']\n    }));\n\n    // Replace the URL from to display\n    if (this.action === 'display') {this.action = 'change'; }\n    window.history.replaceState({}, '', `/auth-objects/${authObjCtrl.value};action=` + this.action);\n  }\n\n  _createNewEntity(): Observable<Entity> {\n    const authObjectDetail = new Entity();\n    authObjectDetail.ENTITY_ID = 'authObject';\n    authObjectDetail['authObject'] = [\n      { OBJ_NAME: '', DESC: '', CREATED_BY: '', CREATE_TIME: '', CHANGED_BY: '', CHANGE_TIME: '' }\n    ];\n    authObjectDetail['relationships'] = [];\n    return of(authObjectDetail);\n  }\n\n  _generateMainForm(data: Entity): void {\n    this.mainForm = this.fb.group({\n      OBJ_NAME: [data['authObject'][0]['OBJ_NAME'], [Validators.required]],\n      DESC: [data['authObject'][0]['DESC']],\n      admin: this.fb.group({\n        CREATED_BY: [data['authObject'][0]['CREATED_BY']],\n        CREATE_TIME: [data['authObject'][0]['CREATE_TIME']],\n        CHANGED_BY: [data['authObject'][0]['CHANGED_BY']],\n        CHANGE_TIME: [data['authObject'][0]['CHANGE_TIME']]\n      })\n    });\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.mainForm.addControl('authFields',\n      this.fb.array(parsedRelationship.authFields.map( authField => this.fb.group( authField ))));\n    this.originalValue = this.mainForm.getRawValue();\n  }\n\n  _parseRelationships( relationships: Relationship[] ): any {\n    const parsedRelationship = {\n      authFields : []\n    };\n    if (!relationships) { return parsedRelationship; }\n    relationships.forEach( relationship => {\n      switch (relationship.RELATIONSHIP_ID) {\n        case 'rs_auth_object_field':\n          __parseAuthField(relationship);\n          break;\n        default:\n        // Do nothing.\n      }\n    });\n    return parsedRelationship;\n\n    function __parseAuthField( relationship: Relationship): void {\n      relationship.values.forEach( value => {\n        parsedRelationship.authFields.push({\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          auth_field_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n          FIELD_NAME: value['PARTNER_INSTANCES'][0]['authField'][0]['FIELD_NAME'],\n          DATA_ELEMENT: value['PARTNER_INSTANCES'][0]['authField'][0]['DATA_ELEMENT']\n        });\n      });\n    }\n  }\n\n  _resetValue(data: Entity): void {\n    this.originalValue = {\n      OBJ_NAME: data['authObject'][0]['OBJ_NAME'],\n      DESC: data['authObject'][0]['DESC'],\n      admin: {\n        CREATED_BY: data['authObject'][0]['CREATED_BY'],\n        CREATE_TIME: data['authObject'][0]['CREATE_TIME'],\n        CHANGED_BY: data['authObject'][0]['CHANGED_BY'],\n        CHANGE_TIME: data['authObject'][0]['CHANGE_TIME']\n      }\n    };\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.originalValue['authFields'] = parsedRelationship.authFields;\n    this.mainForm.reset(this.originalValue);\n  }\n\n  save() {\n    this.messageService.clearMessages();\n    if (this._composeChanges()) {\n      this.identityService.save(<Entity>this.changedValue).subscribe( data => {\n        this.changedValue = {};\n        if ('INSTANCE_GUID' in data) {\n          const authObjName = data['authObject'][0]['OBJ_NAME'];\n          this.instanceGUID = data['INSTANCE_GUID'];\n          this.isNewMode = false;\n          this.identityService.getAuthObjectDetail(authObjName).subscribe(instance => {\n            if ('ENTITY_ID' in instance) {\n              this._switch2DisplayMode();\n              this._resetValue(<Entity>instance);\n            } else {\n              const errorMessages = <Message[]>instance;\n              errorMessages.forEach( msg => this.messageService.add(msg));\n            }\n          });\n          this.messageService.reportMessage('AUTH_OBJECT', 'SAVED', 'S', authObjName);\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n        }\n      });\n    }\n  }\n\n  _composeChanges() {\n    if (this.mainForm.invalid) {\n      this.messageService.reportMessage('AUTH_OBJECT', 'INVALID', 'E');\n      return false;\n    }\n\n    if (this.mainForm.dirty === false) {\n      this.messageService.reportMessage('GENERAL', 'NO_CHANGE', 'W');\n      return false;\n    }\n\n    this.changedValue['ENTITY_ID'] = 'authObject';\n    this.changedValue['INSTANCE_GUID'] = this.instanceGUID;\n\n    if (this.isNewMode) {\n      this.changedValue['authObject'] = {\n        action: 'add', OBJ_NAME: this.mainForm.get('OBJ_NAME').value,\n        CREATED_BY: this.identityService.Session.USER_ID, CREATE_TIME: this.identityService.CurrentTime,\n        CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n    } else {\n      this.changedValue['authObject'] = {\n        action: 'update', CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n    }\n\n    if (this.mainForm.get('DESC').dirty) {\n      this.changedValue['authObject']['DESC'] = this.mainForm.get('DESC').value;\n    }\n\n    const authFieldFormArray = this.mainForm.get('authFields') as FormArray;\n    const relationship = this.uiMapperService.composeChangedRelationship(\n      'rs_auth_object_field',\n      [{ENTITY_ID: 'authField', ROLE_ID: 'auth_field'}],\n      authFieldFormArray,\n      this.originalValue['authFields'],\n      ['FIELD_NAME', 'DATA_ELEMENT']);\n\n    if (relationship) {this.changedValue['relationships'] = [relationship]; }\n\n    return true;\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    if (this.isNewMode || (this.mainForm && this.mainForm.dirty)) {\n      return this.dialogService.confirm('Discard changes?');\n    } else {\n      return true;\n    }\n  }\n\n}\n","<nav class=\"navbar dk-fixed-top navbar-light bg-light\">\n  <div>\n    <span class=\"font-weight-bold mb-0 mx-1\">{{isNewMode? 'New Authorization Object' :\n      readonly? 'Display Authorization Object' : 'Change Authorization Object'}}</span>\n  </div>\n\n  <div class=\"flex-row-reverse\">\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Edit/Display\" id=\"editDisplay\" (click)=\"switchEditDisplay()\">\n      <span *ngIf=\"readonly\" class=\"fas fa-edit\"> Edit</span>\n      <span *ngIf=\"!readonly\" class=\"fas fa-glasses\"> Display</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Save\" id=\"save\" (click)=\"save()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-save\"> Save</span>\n    </button>\n  </div>\n</nav>\n\n<div class=\"mt-2 mb-2\">\n  <dk-message></dk-message>\n</div>\n\n<div *ngIf=\"mainForm\" class=\"ml-2\">\n  <div class=\"mt-2 ml-1 row\">\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('OBJ_NAME')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('DESC')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"readonly\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n  </div>\n\n  <ul class=\"nav nav-tabs mt-1\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(1)\">Authorization Fields</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===2\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(2)\">Admin</a>\n    </li>\n  </ul>\n\n  <div class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n    <app-auth-object-field *ngSwitchCase=\"1\" [mainForm]=\"mainForm\"  [readonly]=\"readonly\"></app-auth-object-field>\n    <app-admin-info *ngSwitchCase=\"2\" [mainForm]=\"mainForm\" [relationMetas]=\"relationMetas\" [adminRelation]=\"'authObject'\"></app-admin-info>\n  </div>\n</div>\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {IdentityService} from '../../../identity.service';\nimport {SearchHelpComponent} from 'jor-angular';\n\n@Component({\n  selector: 'app-auth-object-field',\n  templateUrl: './auth-object-field.component.html',\n  styleUrls: ['./auth-object-field.component.css']\n})\nexport class AuthObjectFieldComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  authFieldFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private identityService: IdentityService) { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n\n  ngOnInit() {\n    this.authFieldFormArray = this.mainForm.get('authFields') as FormArray;\n    // Recheck each role since every time the template is initialized, Angular clears the error status.\n    if (!this.readonly) {\n      this.authFieldFormArray.controls.forEach( (ctrl, index) => {\n        this.onChangeKey(index);\n      });\n    }\n  }\n\n  delete(index: number): void {\n    if (index !== this.authFieldFormArray.length - 1) {\n      this.authFieldFormArray.removeAt(index);\n      this.authFieldFormArray.markAsDirty();\n    }\n  }\n\n  onChangeKey(index: number): void {\n    const currentFormGroup = this.authFieldFormArray.at(index);\n    if (this.isExisting(currentFormGroup)) {\n      currentFormGroup.get('FIELD_NAME').setErrors({message: 'Duplicate Authorization Field'});\n      return;\n    }\n\n    if (index === this.authFieldFormArray.length - 1 && currentFormGroup.value.FIELD_NAME.trim() !== '') {\n      // Only work if the last line is not new and empty\n      this.authFieldFormArray.push(\n        this.fb.group({\n          FIELD_NAME: [''],\n          DATA_ELEMENT: [''],\n          auth_field_INSTANCE_GUID: [''],\n          RELATIONSHIP_INSTANCE_GUID: ['']\n        })\n      );\n    }\n\n    if (currentFormGroup.value.FIELD_NAME) {\n      this.identityService.getAuthFieldInfo(currentFormGroup.value.FIELD_NAME).subscribe(data => {\n        if (data['msgCat']) {\n          currentFormGroup.get('FIELD_NAME').setErrors({message: data['msgShortText']});\n        } else {\n          currentFormGroup.get('DATA_ELEMENT').setValue(data['DATA_ELEMENT']);\n          currentFormGroup.get('auth_field_INSTANCE_GUID').setValue(data['INSTANCE_GUID']);\n        }\n      });\n    }\n  }\n\n  isExisting(key: AbstractControl): boolean {\n    const existIndex = this.authFieldFormArray.controls.findIndex(\n      ctrl => ctrl.value.FIELD_NAME === key.value.FIELD_NAME\n        && ctrl.pristine && ctrl.value.FIELD_NAME !== '');\n    return existIndex !== -1 ;\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, rowIDx: number) {\n      return () => context.onChangeKey(rowIDx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalByEntity('authField', 'authField',\n      exportObject, this.readonly, null, null, afterExportFn);\n  }\n\n}\n","<table class=\"table table-bordered table-sm dk-table ml-3 mt-4\" [formGroup]=\"mainForm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th scope=\"col\">Authorization Field</th>\n    <th scope=\"col\">Data Element</th>\n    <th scope=\"col\">Action</th>\n  </tr>\n  </thead>\n\n  <tbody formArrayName=\"authFields\" class=\"mb-4\">\n  <tr *ngFor=\"let authFieldForm of authFieldFormArray.controls; let i = index\">\n    <td [formGroup]=\"authFieldForm\">\n      <div class=\"input-group dk-name\">\n        <input class=\"form-control form-control-sm\" type=\"text\" formControlName=\"FIELD_NAME\"\n               [readonly]=\"readonly || isExisting(authFieldForm) && authFieldForm.valid\" (change)=\"onChangeKey(i)\">\n        <div class=\"invalid-tooltip\">\n          {{authFieldForm.get('FIELD_NAME').errors?.message}}\n        </div>\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-sm btn-outline-secondary btn-light\" type=\"button\" id=\"searchPermission\"\n                  (click)=\"onSearchHelp(i, authFieldForm)\">\n            <span class=\"fas fa-search\"></span>\n          </button>\n        </div>\n      </div>\n    </td>\n    <td [formGroup]=\"authFieldForm\" class=\"dk-description\">\n      <input type=\"text\" formControlName=\"DATA_ELEMENT\" readonly class=\"form-control form-control-sm\">\n    </td>\n    <td class=\"dk-actions\">\n      <button class=\"btn btn-sm\" type=\"button\" id=\"delete\" [disabled]=\"readonly\" (click)=\"delete(i)\" title=\"Delete\">\n        <span class=\"far fa-trash-alt\"></span>\n      </button>\n    </td>\n  </tr>\n  </tbody>\n</table>\n\n<dk-app-search-help></dk-app-search-help>\n","import { Component, OnInit } from '@angular/core';\nimport {AppList, AuthObjList} from '../../identity';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-auth-object-list',\n  templateUrl: './auth-object-list.component.html',\n  styleUrls: ['./auth-object-list.component.css']\n})\nexport class AuthObjectListComponent implements OnInit {\n  authObjName: string;\n  authObjDesc: string;\n  authObjects: AuthObjList[];\n  showDeletionConfirmation = false;\n  toBeDeletedInstance: string;\n\n  get displayDeletionConfirmation() {return this.showDeletionConfirmation ? 'block' : 'none'; }\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  search() {\n    this.messageService.clearMessages();\n    this.authObjects = [];\n    this.authObjName = this.authObjName ? this.authObjName.trim() : '';\n    this.authObjDesc = this.authObjDesc ? this.authObjDesc.trim() : '';\n    this.identityService.searchAuthObjects(this.authObjName, this.authObjDesc).subscribe(\n      data => {\n        if (!data[0]) {\n          this.messageService.reportMessage('GENERAL', 'EMPTY_LIST', messageType.Warning);\n        } else if (data[0]['msgCat']) {\n          const messages = <Message[]>data;\n          messages.forEach( msg => this.messageService.add(msg));\n        } else {\n          this.authObjects = <AuthObjList[]>data;\n        }\n      }\n    );\n  }\n\n  enterSearch($event): void {\n    if ($event.keyCode === 13 ) {\n      this.search();\n    }\n  }\n\n  new(): void {\n    this.router.navigate(['auth-objects', '/', {action: 'new'}]);\n  }\n\n  display(authObjName: string): void {\n    this.router.navigate(['auth-objects', authObjName, {action: 'display'}]);\n  }\n\n  change(authObjName: string): void {\n    this.router.navigate(['auth-objects', authObjName, {action: 'change'}]);\n  }\n\n  delete(authObjName: string): void {\n    this.toBeDeletedInstance = authObjName;\n    this.showDeletionConfirmation = true;\n  }\n\n  cancelDeletion(): void {\n    this.showDeletionConfirmation = false;\n  }\n\n  confirmDeletion(): void {\n    const toBeDeletedInstanceGUID = this.authObjects.find(\n      ele => ele.OBJ_NAME === this.toBeDeletedInstance).INSTANCE_GUID;\n    this.identityService.delete(toBeDeletedInstanceGUID).subscribe( errorMsg => {\n      this.showDeletionConfirmation = false;\n      if (errorMsg) {\n        const messages = <Message[]>errorMsg;\n        messages.forEach( msg => this.messageService.add(msg));\n      } else {\n        this.search();\n      }\n    });\n  }\n}\n","<div class=\"card mb-3 pt-3\">\n  <div class=\"mt-2 pl-4 row\">\n    <div class=\"col-6 form-group row\">\n      <label for=\"auth_obj_name\" class=\"col-sm-3 col-form-label\">Object Name:</label>\n      <input id=\"auth_obj_name\" name=\"auth_obj_name\" [(ngModel)]=\"authObjName\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\" autofocus>\n    </div>\n    <div class=\"col-6 form-group row\">\n      <label for=\"auth_obj_desc\" class=\"col-sm-3 col-form-label\">Description:</label>\n      <input id=\"auth_obj_desc\" name=\"auth_obj_desc\" [(ngModel)]=\"authObjDesc\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\">\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <button type=\"button\" id=\"search\" class=\"btn btn-primary btn-sm float-right mr-4\" (click)=\"search()\">Search</button>\n  </div>\n</div>\n\n<div class=\"mt-2 mb-4 mx-4\">\n  <dk-message></dk-message>\n  <div class=\"btn-toolbar justify-content-end my-2\" role=\"toolbar\">\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"new()\">\n      <span class=\"fas fa-plus\"></span> New</button>\n  </div>\n  <table class=\"table table-bordered table-sm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Desc</th>\n      <th scope=\"col\">Changed By</th>\n      <th scope=\"col\">Changed At</th>\n      <th scope=\"col\">Action</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let authObj of authObjects\">\n      <td><a [routerLink]=\"['/auth-objects', authObj.OBJ_NAME, {action: 'display'}]\">{{authObj.OBJ_NAME}}</a></td>\n      <td>{{authObj.DESC}}</td>\n      <td>{{authObj.CHANGED_BY}}</td>\n      <td>{{authObj.CHANGE_TIME}}</td>\n      <td class=\"dk-actions\">\n        <button title=\"Display\" id=\"display\" class=\"btn btn-sm\" type=\"button\" (click)=\"display(authObj.OBJ_NAME)\">\n          <span class=\"fas fa-search\"></span>\n        </button>\n        <button title=\"Change\" id=\"change\" class=\"btn btn-sm\" type=\"button\" (click)=\"change(authObj.OBJ_NAME)\">\n          <span class=\"fas fa-pen\"></span>\n        </button>\n        <button title=\"Delete\" id=\"delete\" class=\"btn btn-sm\" type=\"button\" (click)=\"delete(authObj.OBJ_NAME)\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class=\"modal\" [class.show]=\"showDeletionConfirmation\"\n       [ngStyle]=\"{'display': displayDeletionConfirmation}\" id=\"deletionConfirmation\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-sm modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"confirmDeletion\">Confirm Deletion</h5>\n          <button type=\"button\" class=\"close\" (click)=\"cancelDeletion()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure to delete the authorization object '{{toBeDeletedInstance}}'?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" id=\"cancel\" class=\"btn btn-sm btn-secondary\" (click)=\"cancelDeletion()\">Cancel</button>\n          <button type=\"button\" id=\"confirm\" class=\"btn btn-sm btn-primary\" (click)=\"confirmDeletion()\">Confirm</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormArray, FormBuilder} from '@angular/forms';\nimport {AttributeBase} from 'jor-angular';\nimport {Operator, Option} from '../../../identity';\n\n@Component({\n  selector: 'app-auth-value-selopts',\n  templateUrl: './auth-value-selopts.component.html',\n  styleUrls: ['./auth-value-selopts.component.css']\n})\nexport class AuthValueSeloptsComponent implements OnInit {\n  @Input() selectOptionArray: FormArray;\n  @Input() attrCtrl: AttributeBase;\n  @Input() highAttrCtrl: AttributeBase;\n  @Input() readonly;\n  operatorEnum;\n  optionEnum;\n\n  constructor(private fb: FormBuilder) { }\n\n  ngOnInit(): void {\n    this.operatorEnum = Object.values(Operator);\n    this.optionEnum = Object.values(Option);\n  }\n\n  onChangeOperator(idx: number): void {\n    const selectOptionCtrl = this.selectOptionArray.at(idx);\n    if ( selectOptionCtrl.get('Operator').value === Operator.Between ) {\n      selectOptionCtrl.get('High').enable();\n    } else {\n      selectOptionCtrl.get('High').setValue('');\n      selectOptionCtrl.get('High').disable();\n    }\n  }\n\n  insertValue(idx: number): void {\n    this.selectOptionArray.insert(idx, this.fb.group({\n      Operator: Operator.Between,\n      Option: Option.Include,\n      Low: '',\n      High: ''\n    }));\n  }\n\n  deleteValue(idx: number): void {\n    if (this.selectOptionArray.length === 1) {\n      this.selectOptionArray.at(idx).get('Low').setValue('');\n      this.selectOptionArray.at(idx).get('High').setValue('');\n    } else {\n      this.selectOptionArray.removeAt(idx);\n    }\n    this.selectOptionArray.markAsDirty();\n  }\n}\n","<table class=\"table table-bordered table-sm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th scope=\"col\">Operator</th>\n    <th scope=\"col\">Option</th>\n    <th scope=\"col\">{{attrCtrl.label}} (Low)</th>\n    <th scope=\"col\">{{attrCtrl.label}} (High)</th>\n    <th scope=\"col\">Actions</th>\n  </tr>\n  </thead>\n\n  <tbody>\n  <tr *ngFor=\"let selectOptionForm of selectOptionArray.controls; let i = index\">\n    <td [formGroup]=\"selectOptionForm\" >\n      <select name=\"operator\" class=\"form-control form-control-sm\" required\n              formControlName=\"Operator\" (change)=\"onChangeOperator(i)\">\n        <option *ngFor=\"let operator of operatorEnum\" [value]=\"operator\">{{operator}}</option>\n      </select>\n    </td>\n    <td [formGroup]=\"selectOptionForm\" >\n      <select name=\"operator\" class=\"form-control form-control-sm\" required formControlName=\"Option\">\n        <option *ngFor=\"let option of optionEnum\" [value]=\"option\">{{option}}</option>\n      </select>\n    </td>\n    <td>\n      <dk-app-attribute [attributeControl]=\"attrCtrl\"\n                        [formGroup]=\"selectOptionForm\"\n                        [isSmallSize] = \"true\"\n                        [readonly]=\"readonly\">\n      </dk-app-attribute>\n    </td>\n    <td>\n      <dk-app-attribute [attributeControl]=\"highAttrCtrl\"\n                        [formGroup]=\"selectOptionForm\"\n                        [isSmallSize] = \"true\"\n                        [readonly]=\"readonly\">\n      </dk-app-attribute>\n    </td>\n    <td class=\"dk-actions\">\n      <button class=\"btn btn-sm\" type=\"button\" id=\"add\" [disabled]=\"readonly\" (click)=\"insertValue(i)\" title=\"Insert\">\n        <span class=\"fas fa-plus\"></span>\n      </button>\n      <button class=\"btn btn-sm\" type=\"button\" id=\"delete\" [disabled]=\"readonly\" (click)=\"deleteValue(i)\" title=\"Delete\">\n        <span class=\"far fa-trash-alt\"></span>\n      </button>\n    </td>\n  </tr>\n  </tbody>\n</table>\n","import {Component, Input, OnInit, Output} from '@angular/core';\nimport {FormArray, FormBuilder} from '@angular/forms';\nimport {AttributeBase} from 'jor-angular';\n\n@Component({\n  selector: 'app-auth-value-singles',\n  templateUrl: './auth-value-singles.component.html',\n  styleUrls: ['./auth-value-singles.component.css']\n})\nexport class AuthValueSinglesComponent implements OnInit {\n  @Input() singleValueArray: FormArray;\n  @Input() attrCtrl: AttributeBase;\n  @Input() readonly;\n  constructor(private fb: FormBuilder) { }\n\n  ngOnInit(): void {\n  }\n\n  insertValue(idx: number): void {\n    this.singleValueArray.insert(idx, this.fb.group({\n      Low: ['']\n    }));\n  }\n\n  deleteValue(idx: number): void {\n    if (this.singleValueArray.length === 1 ) {\n      this.singleValueArray.at(idx).get('Low').setValue('');\n    } else {\n      this.singleValueArray.removeAt(idx);\n    }\n    this.singleValueArray.markAsDirty();\n  }\n}\n","<table class=\"table table-bordered table-sm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th scope=\"col\">{{attrCtrl.label}}</th>\n    <th scope=\"col\">Actions</th>\n  </tr>\n  </thead>\n\n  <tbody>\n  <tr *ngFor=\"let singleValueForm of singleValueArray.controls; let i = index\">\n    <td>\n      <dk-app-attribute [attributeControl]=\"attrCtrl\"\n                        [formGroup]=\"singleValueForm\"\n                        [isSmallSize] = \"true\"\n                        [readonly]=\"readonly\">\n      </dk-app-attribute>\n    </td>\n    <td class=\"dk-actions\">\n      <button class=\"btn btn-sm\" type=\"button\" id=\"add\" [disabled]=\"readonly\" (click)=\"insertValue(i)\" title=\"Insert\">\n        <span class=\"fas fa-plus\"></span>\n      </button>\n      <button class=\"btn btn-sm\" type=\"button\" id=\"delete\" [disabled]=\"readonly\" (click)=\"deleteValue(i)\" title=\"Delete\">\n        <span class=\"far fa-trash-alt\"></span>\n      </button>\n    </td>\n  </tr>\n  </tbody>\n</table>\n","import {Component, Input, OnChanges, OnInit} from '@angular/core';\nimport {Operator, Option, SelectOption} from '../../identity';\nimport {FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {Attribute, AttributeBase, AttributeControlService, EntityService} from 'jor-angular';\n\n@Component({\n  selector: 'app-auth-value',\n  templateUrl: './auth-value.component.html',\n  styleUrls: ['./auth-value.component.css']\n})\nexport class AuthValueComponent implements OnInit, OnChanges {\n  @Input() authFieldValueForm: FormGroup;\n  @Input() readonly: boolean;\n  tabStrip = 1;\n  fieldName: string;\n  singleValueArray: FormArray;\n  selectOptionArray: FormArray;\n  attrCtrl: AttributeBase;\n  highAttrCtrl: AttributeBase;\n  fullPermission: boolean;\n\n  constructor(private fb: FormBuilder,\n              private entityService: EntityService,\n              private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n  }\n\n  ngOnChanges(): void {\n    if (!this.authFieldValueForm) { return; }\n    if (this.singleValueArray) { this.singleValueArray.clear(); }\n    if (this.selectOptionArray) { this.selectOptionArray.clear(); }\n    this.fullPermission = false;\n    this.attrCtrl = null;\n    this.tabStrip = 1;\n    const authValues = this.authFieldValueForm.get('AUTH_VALUE').value;\n    this.entityService.getElementMeta(this.authFieldValueForm.get('DATA_ELEMENT').value)\n      .subscribe( attrCtrl => {\n        const attribute = <Attribute>attrCtrl;\n        attribute.ATTR_GUID = attrCtrl.ELEMENT_ID;\n        attribute.ATTR_NAME = attrCtrl.ELEMENT_ID;\n        attribute.DATA_ELEMENT = attrCtrl.ELEMENT_ID;\n        this.attrCtrl = this.attributeControlService.toSingleAttributeControl(attribute);\n        this.attrCtrl.name = 'Low';\n        this.highAttrCtrl = this.attributeControlService.toSingleAttributeControl(attribute);\n        this.highAttrCtrl.name = 'High';\n      } );\n\n    this.fieldName = this.authFieldValueForm.get('FIELD_NAME').value;\n    if (!authValues || !JSON.parse(authValues)) {\n        this.singleValueArray = this.fb.array([this.fb.group({Low: ''})]);\n        this.selectOptionArray = this.fb.array([this.fb.group({\n          Operator: [{value: Operator.Between, disabled: this.readonly}],\n          Option: [{value: Option.Include, disabled: this.readonly}], Low: '', High: ''})]);\n    } else {\n      const authValueArray = JSON.parse(authValues);\n      if (authValueArray === '*') {\n        this._setFullPermission(true);\n      } else {\n        const singleValues = [];\n        const selectOptions = [];\n        authValueArray.forEach(authValue => {\n          if (typeof authValue === 'string') {\n            singleValues.push(this.fb.group({Low: authValue}));\n          } else {\n            selectOptions.push(this.fb.group({\n              Operator: [{value: authValue['Operator'], disabled: this.readonly}],\n              Option: [{value: authValue['Option'], disabled: this.readonly}],\n              Low: authValue['Low'],\n              High: authValue['High']\n            }));\n          }\n        });\n        if (singleValues.length > 0 ) {\n          this.singleValueArray = this.fb.array(singleValues);\n          this.tabStrip = 1;\n        } else {\n          this.singleValueArray = this.fb.array([this.fb.group({Low: ''})]);\n          this.tabStrip = 2;\n        }\n\n        if (selectOptions.length > 0) {\n          this.selectOptionArray = this.fb.array(selectOptions)\n        } else {\n          this.selectOptionArray = this.fb.array([this.fb.group({\n            Operator: [{value: Operator.Between, disabled: this.readonly}],\n            Option: [{value: Option.Include, disabled: this.readonly}], Low: '', High: ''})]);\n          this.tabStrip = 1;\n        }\n      }\n    }\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  generateAuthValue(): boolean {\n    if (!this.singleValueArray.dirty && !this.selectOptionArray.dirty) { return true; }\n    if (this.fullPermission) { return true; }\n    const authValues = [];\n    let hasErrors = false;\n    this.singleValueArray.controls.forEach( singleValueCtrl => {\n      const singleValue = singleValueCtrl.get('Low').value;\n      if (singleValue && authValues.findIndex( value => value === singleValue) === -1) {\n        authValues.push(singleValue);\n      }\n    });\n    this.selectOptionArray.controls.forEach( selectOptionCtrl => {\n      const selectOption = <SelectOption>selectOptionCtrl.value;\n      if (selectOption.Low) {\n        if (selectOption.Operator === Operator.Between &&\n          selectOption.Low >= selectOption.High) {\n          selectOptionCtrl.get('Low').setErrors({message: 'Low value is larger or equal to high value'});\n          hasErrors = true;\n        } else {\n          authValues.push(selectOption);\n        }\n      }\n    });\n    if (hasErrors) { return false; }\n\n    if (authValues.length === 0) {\n      this.authFieldValueForm.get('AUTH_VALUE').setValue('');\n      this.authFieldValueForm.get('STATUS').setValue('red');\n    } else {\n      this.authFieldValueForm.get('AUTH_VALUE').setValue(JSON.stringify(authValues, null, ' '));\n      this.authFieldValueForm.get('STATUS').setValue('green');\n    }\n    this.authFieldValueForm.get('AUTH_VALUE').markAsDirty();\n    return true;\n  }\n\n  checkFullPermission(): void {\n    this._setFullPermission(!this.fullPermission);\n    this.authFieldValueForm.get('AUTH_VALUE').markAsDirty();\n  }\n\n  _setFullPermission(isFull: boolean): void {\n    this.fullPermission = isFull;\n    this.authFieldValueForm.get('STATUS').setValue(isFull ? 'green' : 'red');\n    this.authFieldValueForm.get('AUTH_VALUE').setValue(isFull ? '\"*\"' : '');\n    if (isFull) {\n      this.singleValueArray = this.fb.array([]);\n      this.selectOptionArray = this.fb.array([]);\n    } else {\n      this.singleValueArray = this.fb.array([this.fb.group({Low: ''})]);\n      this.selectOptionArray = this.fb.array([this.fb.group({\n        Operator: Operator.Between, Option: Option.Include,\n        Low: '', High: ''})]);\n    }\n  }\n}\n","<div class=\"btn-toolbar\" role=\"toolbar\">\n  <div class=\"custom-control custom-checkbox\">\n    <input type=\"checkbox\" class=\"custom-control-input\" id=\"fullPermission\"\n           [(ngModel)]=\"fullPermission\" [disabled]=\"readonly\" (click)=\"checkFullPermission()\">\n    <label class=\"custom-control-label\" for=\"fullPermission\">Enable Full Permission</label>\n  </div>\n  <span *ngIf=\"authFieldValueForm\"\n        [ngClass]=\"{'green-light': authFieldValueForm.get('STATUS').value === 'green',\n                       'red-light': authFieldValueForm.get('STATUS').value  === 'red'}\"\n        class=\"ml-4 mt-1 traffic-light\"></span>\n</div>\n\n<ul class=\"nav nav-tabs mt-1\">\n  <li class=\"nav-item\">\n    <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\"\n       (click)=\"switchTabStrip(1)\">Single Values</a>\n  </li>\n  <li class=\"nav-item\">\n    <a class=\"nav-link\" [class.active]=\"tabStrip===2\" href=\"javascript:void(0);\"\n       (click)=\"switchTabStrip(2)\">Select Options</a>\n  </li>\n</ul>\n<div *ngIf=\"attrCtrl\" class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n  <app-auth-value-singles *ngSwitchCase=\"1\"\n                          [singleValueArray]=\"singleValueArray\"\n                          [attrCtrl]=\"attrCtrl\"\n                          [readonly]=\"readonly\">\n  </app-auth-value-singles>\n  <app-auth-value-selopts *ngSwitchCase=\"2\"\n                          [selectOptionArray]=\"selectOptionArray\"\n                          [attrCtrl]=\"attrCtrl\"\n                          [highAttrCtrl]=\"highAttrCtrl\"\n                          [readonly]=\"readonly\">\n  </app-auth-value-selopts>\n</div>\n","import {Component, Input, OnChanges, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {Attribute, AttributeBase, AttributeControlService, EntityService, SearchHelpComponent} from 'jor-angular';\nimport {AuthValueComponent} from './auth-value/auth-value.component';\nimport {IdentityService} from '../identity.service';\nimport {Message, MessageService} from 'ui-message-angular';\n\n@Component({\n  selector: 'app-authorization',\n  templateUrl: './authorization.component.html',\n  styleUrls: ['./authorization.component.css']\n})\nexport class AuthorizationComponent implements OnInit, OnChanges {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  @Input() ctrlName: string;\n  authObjFormArray: FormArray;\n  currentAuthFieldValueForm: FormGroup;\n  newAuthFieldValueForm: FormGroup;\n  isAuthValueModalShown = false;\n  isAuthObjectModalShown = false;\n  selectAll = false;\n  nodeID = 0;\n  authObjAttr: AttributeBase;\n  get displayAuthValueModal() {return this.isAuthValueModalShown ? 'block' : 'none'; }\n  get displayAuthObjectModal() {return this.isAuthObjectModalShown ? 'block' : 'none'; }\n\n  constructor( private fb: FormBuilder,\n               private identityService: IdentityService,\n               private entityService: EntityService,\n               private messageService: MessageService,\n               private attributeControlService: AttributeControlService ) { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n  @ViewChild(AuthValueComponent, { static: true})\n  private authValueComponent: AuthValueComponent;\n\n  ngOnInit() {\n  }\n\n  ngOnChanges() {\n    if (!this.mainForm) { return; }\n    this.authObjFormArray = <FormArray>this.mainForm.get(this.ctrlName);\n    this.authObjFormArray.controls.forEach( ctrl => {\n      if (ctrl.get('ROW_TYPE').value === 'FIELD') { ctrl.get('CHECKED').disable(); }\n    });\n  }\n\n  checkAll(): void {\n    this.authObjFormArray.controls.forEach( authObjCtrl => authObjCtrl.get('CHECKED').setValue(!this.selectAll));\n    this.selectAll = !this.selectAll;\n  }\n\n  checkAuthObject(idx: number): void {\n    const currentAuthObjCtrl = this.authObjFormArray.at(idx);\n    this.authObjFormArray.controls.forEach( (authObjCtrl, index) => {\n      if (index <= idx) { return; }\n      if (authObjCtrl.get('NODE_ID').value === currentAuthObjCtrl.get('NODE_ID').value) {\n        authObjCtrl.get('CHECKED').setValue(!currentAuthObjCtrl.get('CHECKED').value);\n      }\n    });\n  }\n\n  add(): void {\n    this.newAuthFieldValueForm = this.fb.group({\n      CHECKED: '',\n      COLLAPSED: false,\n      NODE_ID: ++this.nodeID,\n      STATUS: 'red',\n      RELATIONSHIP_INSTANCE_GUID: '',\n      auth_object_INSTANCE_GUID: '',\n      AUTH_VALUE: '',\n      OBJ_NAME: '',\n      DESC: '',\n      ROW_TYPE: 'OBJECT',\n      FIELD_NAME: '',\n      DATA_ELEMENT: ''\n    });\n    if (!this.authObjAttr) {\n      this.entityService.getElementMeta('AUTH_OBJ_NAME')\n        .subscribe(elementMeta => {\n          const attribute = <Attribute>elementMeta;\n          attribute.ATTR_GUID = elementMeta.ELEMENT_ID;\n          attribute.ATTR_NAME = elementMeta.ELEMENT_ID;\n          attribute.DATA_ELEMENT = elementMeta.ELEMENT_ID;\n          this.authObjAttr = this.attributeControlService.toSingleAttributeControl(attribute);\n          this.authObjAttr.name = 'OBJ_NAME';\n        });\n    }\n    this.isAuthObjectModalShown = true;\n  }\n\n  closeAuthObjectModal(): void {\n    this.isAuthObjectModalShown = false;\n  }\n\n  addAuthObject(): void {\n    const authObjName = this.newAuthFieldValueForm.get('OBJ_NAME').value;\n    this.identityService.getAuthObjectDetail(authObjName)\n      .subscribe( data => {\n        if ('ENTITY_ID' in data) {\n          this.newAuthFieldValueForm.get('auth_object_INSTANCE_GUID').setValue(data['INSTANCE_GUID']);\n          this.newAuthFieldValueForm.get('DESC').setValue(data['authObject'][0]['DESC']);\n          this.authObjFormArray.push(this.newAuthFieldValueForm);\n          data['relationships'][0].values.forEach( value => {\n            this.authObjFormArray.push(this.fb.group({\n              CHECKED: [{value: '', disabled: true}],\n              COLLAPSED: false,\n              NODE_ID: this.nodeID,\n              STATUS: 'red',\n              RELATIONSHIP_INSTANCE_GUID: '',\n              auth_object_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n              AUTH_VALUE: '',\n              OBJ_NAME: authObjName,\n              DESC: this.newAuthFieldValueForm.get('DESC').value,\n              ROW_TYPE: 'FIELD',\n              FIELD_NAME: value['PARTNER_INSTANCES'][0]['authField'][0]['FIELD_NAME'],\n              DATA_ELEMENT: value['PARTNER_INSTANCES'][0]['authField'][0]['DATA_ELEMENT']\n            }));\n          });\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n        }\n        this.isAuthObjectModalShown = false;\n      });\n  }\n\n  delete(): void {\n    let index = this.authObjFormArray.controls.findIndex( authObjCtrl => authObjCtrl.get('CHECKED').value);\n    while ( index !== -1) {\n      this.authObjFormArray.removeAt(index);\n      this.authObjFormArray.markAsDirty();\n      index = this.authObjFormArray.controls.findIndex( authObjCtrl => authObjCtrl.get('CHECKED').value);\n    }\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, rowIDx: number) {\n      return () => context.onChangeCategory(rowIDx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalByEntity('authObject', 'authObject',\n      exportObject, this.readonly, null, null, afterExportFn);\n  }\n\n  expendCollapse(idx: number): void {\n    const currentCtrl = this.authObjFormArray.at(idx);\n    const parentNode = currentCtrl.get('NODE_ID').value;\n    this.authObjFormArray.controls.forEach( appAuthObjCtrl => {\n      if (appAuthObjCtrl.get('NODE_ID').value === parentNode ) {\n        appAuthObjCtrl.get('COLLAPSED').setValue(!appAuthObjCtrl.get('COLLAPSED').value);\n      }\n    });\n  }\n\n  openAuthValueModal(idx: number): void {\n    this.isAuthValueModalShown = true;\n    this.currentAuthFieldValueForm = <FormGroup>this.authObjFormArray.at(idx);\n  }\n\n  addAuthValue(): void {\n    if ( this.authValueComponent.generateAuthValue() ) {\n      this._coordinateStatus(this.currentAuthFieldValueForm);\n      this.isAuthValueModalShown = false;\n    }\n  }\n\n  setFullPermission(idx: number): void {\n    const currentAuthObjForm = this.authObjFormArray.at(idx);\n    if (currentAuthObjForm.get('STATUS').value === 'green') { return; }\n\n    if (currentAuthObjForm.get('ROW_TYPE').value === 'OBJECT') {\n      currentAuthObjForm.get('STATUS').setValue('green');\n      this.authObjFormArray.controls.forEach( appAuthObjForm => {\n        if (appAuthObjForm.get('NODE_ID').value === currentAuthObjForm.get('NODE_ID').value &&\n            appAuthObjForm.get('ROW_TYPE').value === 'FIELD') {\n          appAuthObjForm.get('AUTH_VALUE').setValue('\"*\"');\n          appAuthObjForm.get('AUTH_VALUE').markAsDirty();\n          appAuthObjForm.get('STATUS').setValue('green');\n        }\n      });\n    } else { // Field\n      currentAuthObjForm.get('AUTH_VALUE').setValue('\"*\"');\n      currentAuthObjForm.get('AUTH_VALUE').markAsDirty();\n      currentAuthObjForm.get('STATUS').setValue('green');\n      this._coordinateStatus(currentAuthObjForm);\n    }\n  }\n\n  _coordinateStatus(appAuthObjForm: AbstractControl): void {\n    const parentAuthObjectCtrl = this.authObjFormArray.controls.find( ctrl =>\n      ctrl.get('ROW_TYPE').value === 'OBJECT' &&\n      ctrl.get('NODE_ID').value === appAuthObjForm.get('NODE_ID').value);\n    if (this.authObjFormArray.controls.findIndex( ctrl => ctrl.get('ROW_TYPE').value === 'FIELD' &&\n      ctrl.get('NODE_ID').value === appAuthObjForm.get('NODE_ID').value &&\n      ctrl.get('STATUS').value === 'red') === -1) {\n      parentAuthObjectCtrl.get('STATUS').setValue('green');\n    } else {\n      if (this.authObjFormArray.controls.findIndex( ctrl => ctrl.get('ROW_TYPE').value === 'FIELD' &&\n        ctrl.get('NODE_ID').value === appAuthObjForm.get('NODE_ID').value &&\n        ctrl.get('STATUS').value === 'green') === -1) {\n        parentAuthObjectCtrl.get('STATUS').setValue('red');\n      } else {\n        parentAuthObjectCtrl.get('STATUS').setValue('yellow');\n      }\n    }\n  }\n}\n","<div class=\"dk-auth-main mx-3\">\n<div class=\"btn-toolbar justify-content-end\" role=\"toolbar\">\n  <button type=\"button\" id=\"remove-object\" class=\"btn btn-light btn-sm\" (click)=\"delete()\" [disabled]=\"readonly\">\n    <span class=\"fas fa-minus\"></span> Remove</button>\n  <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"add()\" [disabled]=\"readonly\">\n    <span class=\"fas fa-plus\"></span> Add</button>\n</div>\n<table *ngIf=\"mainForm\"\n  class=\"table table-bordered table-sm dk-table\" [formGroup]=\"mainForm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th class=\"dk-checkbox\"><input name=\"btSelectAll\" type=\"checkbox\" (click)=\"checkAll()\"></th>\n    <th class=\"dk-auth-object\">Authorization Object / Field</th>\n    <th class=\"dk-auth-status\">Status</th>\n    <th class=\"dk-auth-value\">Description / Authorization Value</th>\n  </tr>\n  </thead>\n\n  <tbody>\n  <tr *ngFor=\"let authObjForm of authObjFormArray.controls; let i = index\" class=\"treegrid-expanded\"\n      [class.collapsed]=\"authObjForm.get('ROW_TYPE').value === 'FIELD' && authObjForm.get('COLLAPSED').value\">\n    <td class=\"dk-checkbox\" [formGroup]=\"authObjForm\">\n      <input class=\"form-control form-control-sm\" type=\"checkbox\" formControlName=\"CHECKED\" (click)=\"checkAuthObject(i)\">\n    </td>\n    <td *ngIf=\"authObjForm.get('ROW_TYPE').value === 'OBJECT'\" >\n      <span [ngClass]=\"{'treegrid-expander-expanded': !authObjForm.get('COLLAPSED').value,\n            'treegrid-expander-collapsed': authObjForm.get('COLLAPSED').value}\"\n            class=\"treegrid-expander\" (click)=\"expendCollapse(i)\">\n      </span>{{authObjForm.get('OBJ_NAME').value}}\n    </td>\n    <td *ngIf=\"authObjForm.get('ROW_TYPE').value === 'FIELD'\" >\n      <span class=\"treegrid-indent\"></span>\n      <span class=\"treegrid-expander\"></span>\n      {{authObjForm.get('FIELD_NAME').value}}\n    </td>\n\n    <td>\n      <button class=\"btn btn-sm\" type=\"button\" id=\"add\" [disabled]=\"readonly\" (click)=\"setFullPermission(i)\" title=\"Full Permission\">\n        <span [ngClass]=\"{'green-light': authObjForm.get('STATUS').value === 'green',\n                          'yellow-light': authObjForm.get('STATUS').value  === 'yellow',\n                          'red-light': authObjForm.get('STATUS').value  === 'red'}\"\n          class=\"traffic-light\"></span>\n      </button>\n    </td>\n\n    <td *ngIf=\"authObjForm.get('ROW_TYPE').value === 'OBJECT'\">{{authObjForm.get('DESC').value}}</td>\n    <td *ngIf=\"authObjForm.get('ROW_TYPE').value === 'FIELD'\">\n      <a class=\"nav-link\" href=\"javascript:void(0);\" (click)=\"openAuthValueModal(i)\">\n        {{authObjForm.get('AUTH_VALUE').value? authObjForm.get('AUTH_VALUE').value\n        : 'Click to maintain'}}</a>\n    </td>\n  </tr>\n  </tbody>\n</table>\n</div>\n\n<div class=\"modal fade\" id=\"maintainAuthValueDialog\" tabindex=\"-1\" role=\"dialog\"\n     [ngClass]=\"{'show': isAuthValueModalShown}\"\n     [ngStyle]=\"{'display': displayAuthValueModal}\">\n  <div class=\"modal-dialog modal-lg\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"maintainAuthValueDialogTitle\">Maintain Authorization Value</h5>\n      </div>\n      <div class=\"modal-body\">\n        <dk-message></dk-message>\n        <app-auth-value [authFieldValueForm]=\"currentAuthFieldValueForm\" [readonly]=\"readonly\" ></app-auth-value>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" (click)=\"addAuthValue()\">OK</button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"modal fade\" id=\"addAuthObject\" tabindex=\"-1\" role=\"dialog\"\n     [ngClass]=\"{'show': isAuthObjectModalShown}\"\n     [ngStyle]=\"{'display': displayAuthObjectModal}\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"addAuthObjectTitle\">Add Authorization Object</h5>\n        <button type=\"button\" class=\"close\" (click)=\"closeAuthObjectModal()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <dk-app-attribute-form2 *ngIf = \"newAuthFieldValueForm && authObjAttr\"\n                                [attributeControl]=\"authObjAttr\"\n                                [formGroup]=\"newAuthFieldValueForm\"\n                                [isSmallSize] = \"true\"\n                                [readonly]=\"false\">\n        </dk-app-attribute-form2>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-sm btn-secondary\" (click)=\"closeAuthObjectModal()\">Cancel</button>\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" (click)=\"addAuthObject()\">Confirm</button>\n      </div>\n    </div>\n  </div>\n</div>\n","/**\n * The custom route reuse strategy inherits the \"RouteReuseStrategy\" to achieve a very usual case,\n * which by default, Angular doesn't support.\n * 1. Search for items based on filter conditions.\n * 2. Navigate to one of the item to the detail page(component).\n * 3. Navigate back to searched item list without re-initializing the search&list component again.\n * This requires the Angular route to save the search&list component, and restore it whenever back.\n * The detail solution is described in following thread:\n * https://stackoverflow.com/questions/41280471/how-to-implement-routereusestrategy-shoulddetach-for-specific-routes-in-angular\n */\nimport {ActivatedRouteSnapshot, DetachedRouteHandle, RouteReuseStrategy} from '@angular/router';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class CustomReuseStrategy implements RouteReuseStrategy {\n  routesToCache: string[] = ['users', 'apps', 'app-categories', 'auth-objects', 'permissions', 'profiles' ];\n  storedRouteHandles = new Map<string, DetachedRouteHandle>();\n\n  /**\n   * When navigation from a reusable component, and if shouldReuseRoute return false,\n   * this method is invoked to decide whether the current route should be stored.\n   * @param route\n   */\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    // console.log('detaching', route);\n    return this.routesToCache.indexOf(route.routeConfig.path) > -1;\n  }\n\n  /**\n   * If the current route need to be stored, that is shouldDetach return true,\n   * then on this method, you can implement a way to store routes. Usually in a Map.\n   * @param route\n   * @param handle\n   */\n  store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle): void {\n    // console.log('store', route);\n    this.storedRouteHandles.set(route.routeConfig.path, handle);\n  }\n\n  /**\n   * When navigation to a reusable component, and if shouldReuseRoute return false,\n   * this method is invoked to decide whether the target component can be get from a reuse buffer.\n   * @param route\n   */\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    // console.log('shouldAttach', route);\n    return this.storedRouteHandles.has(route.routeConfig.path);\n  }\n\n  /**\n   * If shouldAttach return true, then this method is invoke to retrieve the component from the buffer.\n   * @param route\n   */\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n    return this.storedRouteHandles.get(route.routeConfig.path);\n  }\n\n  /**\n   * By default, Angular doesn't re-initializing the same component if the navigation is not to\n   * a different one. For example, you switch different entity ID in the same entity type detail page.\n   * In this way, shouldReuseRoute should return true to avoid executing other methods in this Class.\n   * However, if you navigate from search&list component to entity detail component, then the method should return false.\n   * So that other methods can be executed to decide whether the search&list component should be stored for future reuse.\n   * @param future\n   * @param curr\n   */\n  shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n    // console.log('shouldReuseRoute, future:', future, 'current:', curr);\n    return future.routeConfig === curr.routeConfig;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {Observable, of} from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DialogService {\n\n  /**\n   * Ask user to confirm an action. `message` explains the action and choices.\n   * Returns observable resolving to `true`=confirm or `false`=cancel\n   */\n  confirm(message?: string): Observable<boolean> {\n    const confirmation = window.confirm(message || 'Is it OK?');\n\n    return of(confirmation);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable, of} from 'rxjs';\nimport {catchError, map} from 'rxjs/operators';\nimport {Entity, QueryObject, Relationship, UiMapperService} from 'jor-angular';\nimport {Router} from '@angular/router';\nimport {environment} from '../environments/environment';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {AppCategoryList, AppList, AuthObjList, Authorization, AuthProfileList, PermissionList, UserList} from './identity';\nimport {formatDate} from '@angular/common';\nimport {AbstractControl, FormArray} from '@angular/forms';\nimport {Session} from 'ui-logon-angular';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable({providedIn: 'root'})\nexport class IdentityService {\n  private originalHost = environment.originalHost;\n  private session: Session;\n  private pseudoNodeID = 0;\n\n  constructor(private http: HttpClient,\n              private messageService: MessageService,\n              private uiMapperService: UiMapperService,\n              private router: Router) {\n  }\n\n  setSession( data: any ) {\n    this.session = <Session>data;\n  }\n\n  get Session(): Session {\n    if (this.session) { return this. session; }\n    const defaultSession = new Session();\n    defaultSession.USER_ID = 'DH001';\n    defaultSession.LANGUAGE = 'EN';\n    return defaultSession;\n  }\n\n  get CurrentTime(): string {\n    return formatDate( new Date(), 'yyyy-MM-dd hh:mm:ss', 'en-US' );\n  }\n\n  searchPermissions(permissionID: string, permissionDesc: string): Observable<PermissionList[] | Message[]> {\n    const queryObject = new QueryObject();\n    queryObject.ENTITY_ID = 'permission';\n    queryObject.RELATION_ID = 'r_role';\n    queryObject.PROJECTION = ['NAME', 'DESCRIPTION',\n      {FIELD_NAME: 'CREATED_BY', RELATION_ID: 'permission'},\n      {FIELD_NAME: 'CREATE_TIME', RELATION_ID: 'permission'},\n      {FIELD_NAME: 'CHANGED_BY', RELATION_ID: 'permission'},\n      {FIELD_NAME: 'CHANGE_TIME', RELATION_ID: 'permission'}];\n    queryObject.FILTER = [];\n    if (permissionID) {\n      if (permissionID.includes('*') || permissionID.includes('%')) {\n        queryObject.FILTER.push({FIELD_NAME: 'NAME', OPERATOR: 'CN', LOW: permissionID});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'NAME', OPERATOR: 'EQ', LOW: permissionID});\n      }\n    }\n    if (permissionDesc) {\n      if (permissionDesc.includes('*')) {\n        permissionDesc = permissionDesc.replace(/\\*/gi, '%');\n        queryObject.FILTER.push({FIELD_NAME: 'DESCRIPTION', OPERATOR: 'CN', LOW: permissionDesc});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'DESCRIPTION', OPERATOR: 'EQ', LOW: permissionDesc});\n      }\n    }\n    queryObject.SORT = ['NAME'];\n    return this.http.post<any>(this.originalHost + `/api/query`, queryObject, httpOptions).pipe(\n      catchError(this.handleError<any>('searchObjects')));\n  }\n\n  getPermissionDetail(permissionName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_role', NAME: permissionName},\n      piece: {RELATIONS: ['permission', 'r_role'],\n        RELATIONSHIPS: [\n          {\n            RELATIONSHIP_ID: 'rs_user_role',\n            PARTNER_ENTITY_PIECES: { RELATIONS: ['r_user'] }\n          },\n          {\n            RELATIONSHIP_ID: 'rs_role_category_profile',\n            PARTNER_ENTITY_PIECES: [\n              { ENTITY_ID: 'category',\n                piece: { RELATIONS: ['r_app_category'],\n                  RELATIONSHIPS: [{RELATIONSHIP_ID: 'rs_app_category',\n                    PARTNER_ENTITY_PIECES: { RELATIONS: ['app'] } }]}},\n              { ENTITY_ID: 'authProfile',\n                piece: { RELATIONS: ['authProfile'],\n                  RELATIONSHIPS: [{RELATIONSHIP_ID: 'rs_auth_profile_object',\n                    PARTNER_ENTITY_PIECES: { RELATIONS: ['authObject'],\n                      RELATIONSHIPS: [{ RELATIONSHIP_ID: 'rs_auth_object_field',\n                        PARTNER_ENTITY_PIECES: { RELATIONS: ['authField'] }}]}}]}}\n            ]\n          }\n        ]\n      }\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getPermissionDetail')));\n  }\n\n  getPermissionByName(permissionName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_role', NAME: permissionName},\n      piece: {RELATIONS: ['r_role']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getPermissionByName')));\n  }\n\n  searchApps(appID: string, appName: string): Observable<AppList[] | Message[]> {\n    const queryObject = new QueryObject();\n    queryObject.ENTITY_ID = 'app';\n    queryObject.RELATION_ID = 'app';\n    queryObject.PROJECTION = ['APP_ID', 'NAME', 'ROUTE_LINK', 'IS_EXTERNAL', 'CREATED_BY', 'CREATE_TIME', 'CHANGED_BY', 'CHANGE_TIME'];\n    queryObject.FILTER = [];\n    if (appID) {\n      if (appID.includes('*') || appID.includes('%')) {\n        queryObject.FILTER.push({FIELD_NAME: 'APP_ID', OPERATOR: 'CN', LOW: appID});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'APP_ID', OPERATOR: 'EQ', LOW: appID});\n      }\n    }\n    if (appName) {\n      if (appName.includes('*')) {\n        appName = appName.replace(/\\*/gi, '%');\n        queryObject.FILTER.push({FIELD_NAME: 'NAME', OPERATOR: 'CN', LOW: appName});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'NAME', OPERATOR: 'EQ', LOW: appName});\n      }\n    }\n    queryObject.SORT = ['APP_ID'];\n    return this.http.post<any>(this.originalHost + `/api/query`, queryObject, httpOptions).pipe(\n      catchError(this.handleError<any>('searchObjects')));\n  }\n\n  getAppDetail(appID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'app', APP_ID: appID},\n      piece: {\n        RELATIONS: ['app'],\n        RELATIONSHIPS: [\n          {\n            RELATIONSHIP_ID: 'rs_app_category',\n            PARTNER_ENTITY_PIECES: { RELATIONS: ['r_app_category'] }\n          },\n          {\n            RELATIONSHIP_ID: 'rs_app_auth',\n            PARTNER_ENTITY_PIECES: {\n              RELATIONS: ['authObject'],\n              RELATIONSHIPS: [\n                {\n                  RELATIONSHIP_ID: 'rs_auth_object_field',\n                  PARTNER_ENTITY_PIECES: { RELATIONS: ['authField'] }\n                }\n              ]\n            }\n          }\n        ]\n      }\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAppDetail')));\n  }\n\n  getAppByID(appID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'app', APP_ID: appID},\n      piece: {RELATIONS: ['app']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAppByID')));\n  }\n\n  getCategoryName(categoryID: string): Observable<{}> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_app_category', ID: categoryID},\n      piece: {RELATIONS: ['r_app_category']}\n    };\n    return this.http.post<{}>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      map(instance => {\n        return 'INSTANCE_GUID' in instance ?\n          {\n            INSTANCE_GUID: instance['INSTANCE_GUID'],\n            NAME: instance['r_app_category'] ? instance['r_app_category'][0]['NAME'] : '',\n            ICON: instance['r_app_category'] ? instance['r_app_category'][0]['ICON'] : ''\n          } : instance[0];\n      }),\n      catchError(this.handleError<any>('getCategoryName')));\n  }\n\n  searchAuthObjects(authObjName: string, authObjDesc: string): Observable<AuthObjList[] | Message[]> {\n    const queryObject = new QueryObject();\n    queryObject.ENTITY_ID = 'authObject';\n    queryObject.RELATION_ID = 'authObject';\n    queryObject.PROJECTION = ['OBJ_NAME', 'DESC', 'CREATED_BY', 'CREATE_TIME', 'CHANGED_BY', 'CHANGE_TIME'];\n    queryObject.FILTER = [];\n    if (authObjName) {\n      if (authObjName.includes('*') || authObjName.includes('%')) {\n        queryObject.FILTER.push({FIELD_NAME: 'OBJ_NAME', OPERATOR: 'CN', LOW: authObjName});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'OBJ_NAME', OPERATOR: 'EQ', LOW: authObjName});\n      }\n    }\n    if (authObjDesc) {\n      if (authObjDesc.includes('*')) {\n        authObjDesc = authObjDesc.replace(/\\*/gi, '%');\n        queryObject.FILTER.push({FIELD_NAME: 'DESC', OPERATOR: 'CN', LOW: authObjDesc});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'DESC', OPERATOR: 'EQ', LOW: authObjDesc});\n      }\n    }\n    queryObject.SORT = ['OBJ_NAME'];\n    return this.http.post<any>(this.originalHost + `/api/query`, queryObject, httpOptions).pipe(\n      catchError(this.handleError<any>('searchAuthObjects')));\n  }\n\n  getAuthObjectDetail(authObjName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'authObject', OBJ_NAME: authObjName},\n      piece: {\n        RELATIONS: ['authObject'],\n        RELATIONSHIPS: [\n          {\n            RELATIONSHIP_ID: 'rs_auth_object_field',\n            PARTNER_ENTITY_PIECES: { RELATIONS: ['authField'] }\n          }\n        ]\n      }\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAuthObjectDetail')));\n  }\n\n  getAuthObjectByName(authObjName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'authObject', OBJ_NAME: authObjName},\n      piece: {RELATIONS: ['authObject']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAuthObjectByName')));\n  }\n\n  getAuthFieldInfo(authFieldName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'authField', FIELD_NAME: authFieldName},\n      piece: {RELATIONS: ['authField']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      map(instance => {\n        return 'INSTANCE_GUID' in instance ?\n          {\n            INSTANCE_GUID: instance['INSTANCE_GUID'],\n            NAME: instance['authField'] ? instance['authField'][0]['FIELD_NAME'] : '',\n            DATA_ELEMENT: instance['authField'] ? instance['authField'][0]['DATA_ELEMENT'] : ''\n          } : instance[0];\n      }),\n      catchError(this.handleError<any>('getAuthObjectByName')));\n  }\n\n  searchAppCategories(appCategoryID: string, appCategoryName: string): Observable<AppCategoryList[] | Message[]> {\n    const queryObject = new QueryObject();\n    queryObject.ENTITY_ID = 'category';\n    queryObject.RELATION_ID = 'r_app_category';\n    queryObject.PROJECTION = [ 'ID', 'NAME', 'ICON',\n      {FIELD_NAME: 'CREATED_BY', RELATION_ID: 'category'},\n      {FIELD_NAME: 'CREATE_TIME', RELATION_ID: 'category'},\n      {FIELD_NAME: 'CHANGED_BY', RELATION_ID: 'category'},\n      {FIELD_NAME: 'CHANGE_TIME', RELATION_ID: 'category'} ];\n    queryObject.FILTER = [];\n    if (appCategoryID) {\n      if (appCategoryID.includes('*') || appCategoryID.includes('%')) {\n        queryObject.FILTER.push({FIELD_NAME: 'ID', OPERATOR: 'CN', LOW: appCategoryID});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'ID', OPERATOR: 'EQ', LOW: appCategoryID});\n      }\n    }\n    if (appCategoryName) {\n      if (appCategoryName.includes('*')) {\n        appCategoryName = appCategoryName.replace(/\\*/gi, '%');\n        queryObject.FILTER.push({FIELD_NAME: 'NAME', OPERATOR: 'CN', LOW: appCategoryName});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'NAME', OPERATOR: 'EQ', LOW: appCategoryName});\n      }\n    }\n    queryObject.FILTER.push({RELATION_ID: 'category', FIELD_NAME: 'TYPE', OPERATOR: 'EQ', LOW: 'APP'});\n    queryObject.SORT = ['ID'];\n    return this.http.post<any>(this.originalHost + `/api/query`, queryObject, httpOptions).pipe(\n      catchError(this.handleError<any>('searchAppCategories')));\n  }\n\n  getAppCategoryDetail(appCategoryID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_app_category', ID: appCategoryID},\n      piece: {\n        RELATIONS: ['category', 'r_app_category'],\n        RELATIONSHIPS: [\n          {\n            RELATIONSHIP_ID: 'rs_app_category',\n            PARTNER_ENTITY_PIECES: { RELATIONS: ['app'] }\n          },\n          {\n            RELATIONSHIP_ID: 'rs_system_role_category',\n            PARTNER_ENTITY_PIECES: { RELATIONS: ['r_role'] }\n          },\n        ]\n      }\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAppCategoryDetail')));\n  }\n\n  getAppCategoryByID(appCategoryID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_app_category', ID: appCategoryID},\n      piece: {RELATIONS: ['r_app_category']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAppCategoryByID')));\n  }\n\n  searchAuthProfiles(profileName: string, profileDesc: string): Observable<AuthProfileList[] | Message[]> {\n    const queryObject = new QueryObject();\n    queryObject.ENTITY_ID = 'authProfile';\n    queryObject.RELATION_ID = 'authProfile';\n    queryObject.PROJECTION = [ 'PROFILE_NAME', 'DESC', 'CREATED_BY', 'CREATE_TIME', 'CHANGED_BY', 'CHANGE_TIME'];\n    queryObject.FILTER = [];\n    if (profileName) {\n      if (profileName.includes('*') || profileName.includes('%')) {\n        queryObject.FILTER.push({FIELD_NAME: 'PROFILE_NAME', OPERATOR: 'CN', LOW: profileName});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'PROFILE_NAME', OPERATOR: 'EQ', LOW: profileName});\n      }\n    }\n    if (profileDesc) {\n      if (profileDesc.includes('*')) {\n        profileDesc = profileDesc.replace(/\\*/gi, '%');\n        queryObject.FILTER.push({FIELD_NAME: 'DESC', OPERATOR: 'CN', LOW: profileDesc});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'DESC', OPERATOR: 'EQ', LOW: profileDesc});\n      }\n    }\n    queryObject.SORT = ['PROFILE_NAME'];\n    return this.http.post<any>(this.originalHost + `/api/query`, queryObject, httpOptions).pipe(\n      catchError(this.handleError<any>('searchAuthProfiles')));\n  }\n\n  getAuthProfileDetail(profileName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'authProfile', PROFILE_NAME: profileName},\n      piece: {\n        RELATIONS: ['authProfile'],\n        RELATIONSHIPS: [\n          {\n            RELATIONSHIP_ID: 'rs_auth_profile_object',\n            PARTNER_ENTITY_PIECES: {\n              RELATIONS: ['authObject'],\n              RELATIONSHIPS: [\n                {\n                  RELATIONSHIP_ID: 'rs_auth_object_field',\n                  PARTNER_ENTITY_PIECES: { RELATIONS: ['authField'] }\n                }\n              ]\n            }\n          }\n        ]\n      }\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAuthProfileDetail')));\n  }\n\n  getAuthProfileByName(profileName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'authProfile', PROFILE_NAME: profileName},\n      piece: {RELATIONS: ['authProfile']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getAuthProfileByName')));\n  }\n\n  searchUsers(userID: string, userName: string): Observable<UserList[] | Message[]> {\n    const queryObject = new QueryObject();\n    queryObject.ENTITY_ID = 'person';\n    queryObject.RELATION_ID = 'r_user';\n    queryObject.PROJECTION = ['USER_ID', 'USER_NAME', 'DISPLAY_NAME', 'LOCK', 'PWD_STATE'];\n    queryObject.FILTER = [];\n    if (userID) {\n      if (userID.includes('*') || userID.includes('%')) {\n        queryObject.FILTER.push({FIELD_NAME: 'USER_ID', OPERATOR: 'CN', LOW: userID});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'USER_ID', OPERATOR: 'EQ', LOW: userID});\n      }\n    }\n    if (userName) {\n      if (userName.includes('*')) {\n        userName = userName.replace(/\\*/gi, '%');\n        queryObject.FILTER.push({FIELD_NAME: 'USER_NAME', OPERATOR: 'CN', LOW: userName});\n      } else {\n        queryObject.FILTER.push({FIELD_NAME: 'USER_NAME', OPERATOR: 'EQ', LOW: userName});\n      }\n    }\n    queryObject.SORT = ['USER_ID'];\n    return this.http.post<any>(this.originalHost + `/api/query`, queryObject, httpOptions).pipe(\n      catchError(this.handleError<any>('searchObjects')));\n  }\n\n  getUserDetail(userID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_user', USER_ID: userID},\n      piece: {RELATIONS: ['r_user', 'r_employee', 'r_email', 'r_address', 'r_personalization'],\n        RELATIONSHIPS: [\n          {\n            RELATIONSHIP_ID: 'rs_user_role',\n            PARTNER_ENTITY_PIECES: { RELATIONS: ['r_role'] }\n          }]\n      }\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getUserDetail')));\n  }\n\n  getUserByUserID(userID: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_user', USER_ID: userID},\n      piece: {RELATIONS: ['r_user']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getUserByUserID')));\n  }\n\n  getUserByUserName(userName: string): Observable<Entity | Message[]> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_user', USER_NAME: userName},\n      piece: {RELATIONS: ['r_user']}\n    };\n    return this.http.post<Entity | Message[]>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      catchError(this.handleError<any>('getUserByUserName')));\n  }\n\n  getRoleDesc(roleID: string): Observable<{}> {\n    const pieceObject = {\n      ID: { RELATION_ID: 'r_role', NAME: roleID},\n      piece: {RELATIONS: ['r_role']}\n    };\n    return this.http.post<{}>(\n      this.originalHost + `/api/entity/instance/piece`, pieceObject, httpOptions).pipe(\n      map(instance => {\n        return 'INSTANCE_GUID' in instance ?\n          {\n            INSTANCE_GUID: instance['INSTANCE_GUID'],\n            DESCRIPTION: instance['r_role'] ? instance['r_role'][0]['DESCRIPTION'] : ''\n          } : instance[0];\n      }),\n      catchError(this.handleError<any>('getRoleDesc')));\n  }\n\n  orchestrate(operations: any): any {\n    return this.http.post<any>(\n      this.originalHost + `/api/entity/orchestrate`, operations, httpOptions).pipe(\n      catchError(this.handleError<any>('orchestrate')));\n  }\n\n  save(entity: Entity): Observable<Entity | Message[]> {\n    if (entity['INSTANCE_GUID']) {\n      return this.http.put<Entity | Message[]>(\n        this.originalHost + `/api/entity`, entity, httpOptions).pipe(\n        catchError(this.handleError<any>('saveUser')));\n    } else {\n      return this.http.post<Entity | Message[]>(\n        this.originalHost + `/api/entity`, entity, httpOptions).pipe(\n        catchError(this.handleError<any>('save')));\n    }\n  }\n\n  delete(entityGUID: string): Observable<null | Message[]> {\n    return this.http.delete<null | Message[]>(this.originalHost + `/api/entity/instance/` + entityGUID, httpOptions).pipe(\n      catchError(this.handleError<any>('delete'))\n    );\n  }\n\n  parseProfileAuthObject(relationship: Relationship): any {\n    const authorizations = [];\n    if (!relationship) { return authorizations; }\n    relationship.values.forEach( value => {\n      const authorization = value['AUTH_VALUE'] ?\n        <Authorization>JSON.parse(value['AUTH_VALUE']) : null;\n      const status = authorization ?\n        Object.values(authorization.AuthFieldValue).findIndex( authValue => !authValue ) !== -1 ?\n          'yellow' : 'green' : 'red';\n      authorizations.push({\n        CHECKED: '',\n        COLLAPSED: false,\n        NODE_ID: value['RELATIONSHIP_INSTANCE_GUID'] || ++this.pseudoNodeID,\n        STATUS: status,\n        RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n        auth_object_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n        AUTH_VALUE: value['AUTH_VALUE'],\n        OBJ_NAME: value['PARTNER_INSTANCES'][0]['authObject'][0]['OBJ_NAME'],\n        DESC: value['PARTNER_INSTANCES'][0]['authObject'][0]['DESC'],\n        ROW_TYPE: 'OBJECT',\n        FIELD_NAME: '',\n        DATA_ELEMENT: '',\n      });\n\n      const authObjectFields = value['PARTNER_INSTANCES'][0]['relationships'][0];\n      authObjectFields.values.forEach( value2 => {\n        const authFieldName = value2['PARTNER_INSTANCES'][0]['authField'][0]['FIELD_NAME'];\n        authorizations.push({\n          CHECKED: '',\n          COLLAPSED: false,\n          NODE_ID: value['RELATIONSHIP_INSTANCE_GUID'] || this.pseudoNodeID,\n          STATUS: authorization.AuthFieldValue[authFieldName] ?\n            authorization.AuthFieldValue[authFieldName].length > 0 ? 'green' : 'red' : 'red',\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          auth_object_INSTANCE_GUID: '',\n          AUTH_VALUE: authorization && authorization.AuthFieldValue[authFieldName]\n            && JSON.stringify(authorization.AuthFieldValue[authFieldName], null, ' '),\n          OBJ_NAME: value['PARTNER_INSTANCES'][0]['authObject'][0]['OBJ_NAME'],\n          DESC: '',\n          ROW_TYPE: 'FIELD',\n          FIELD_NAME: authFieldName,\n          DATA_ELEMENT: value2['PARTNER_INSTANCES'][0]['authField'][0]['DATA_ELEMENT'],\n        });\n      });\n    });\n    return authorizations;\n  }\n\n  composeAuthChanges( formArray: FormArray, originalValue: any, relationshipID: string): any {\n    let authorization;\n    let currentAuthObjectCtrl: AbstractControl;\n    let isAuthorizationChanged = false;\n    formArray.controls.forEach( control => {\n      const rowType = control.get('ROW_TYPE').value;\n      if (rowType === 'OBJECT') {\n        if (currentAuthObjectCtrl && isAuthorizationChanged) {\n          currentAuthObjectCtrl.get('AUTH_VALUE').setValue(JSON.stringify(authorization, null, ' '));\n          currentAuthObjectCtrl.get('AUTH_VALUE').markAsDirty();\n        }\n        currentAuthObjectCtrl = control;\n        authorization = new Authorization();\n        authorization.AuthObject = control.get('OBJ_NAME').value;\n        authorization.AuthFieldValue = {};\n        isAuthorizationChanged = false;\n      } else { // Field\n        if (control.dirty) {\n          isAuthorizationChanged = true;\n          control.markAsPristine();\n        }\n        authorization.AuthFieldValue[control.get('FIELD_NAME').value] =\n          control.get('AUTH_VALUE').value ? JSON.parse(control.get('AUTH_VALUE').value) : null;\n      }\n    });\n    if (currentAuthObjectCtrl && isAuthorizationChanged) {\n      currentAuthObjectCtrl.get('AUTH_VALUE').setValue(JSON.stringify(authorization, null, ' '));\n      currentAuthObjectCtrl.get('AUTH_VALUE').markAsDirty();\n    }\n    const originalAuthObjValue = [];\n    if ( originalValue ) {\n      originalValue.forEach( authObj => {\n        if (authObj.ROW_TYPE === 'OBJECT') { originalAuthObjValue.push( authObj ); }\n      });\n    }\n\n    return this.uiMapperService.composeChangedRelationship(\n      relationshipID, [{ENTITY_ID: 'authObject', ROLE_ID: 'auth_object'}],\n      formArray, originalAuthObjValue,\n      ['CHECKED', 'COLLAPSED', 'NODE_ID', 'OBJ_NAME', 'DESC', 'ROW_TYPE', 'FIELD_NAME', 'DATA_ELEMENT']);\n  }\n\n  private handleError<T> (operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n      if (error.status === 401) {\n        this.messageService.addMessage('EXCEPTION', 'NOT_AUTHENTICATED_OR_SESSION_EXPIRED', messageType.Exception);\n      } else {\n        this.messageService.addMessage('EXCEPTION', 'GENERIC', messageType.Exception, operation, error.message);\n      }\n\n      this.router.navigate(['errors']);\n      console.error(operation, error); // log to console instead\n\n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n}\n","export class PermissionList {\n  NAME: string;\n  DESCRIPTION: string;\n  CREATED_BY: string;\n  CREATE_TIME: string;\n  CHANGED_BY: string;\n  CHANGE_TIME: string;\n  INSTANCE_GUID: string;\n}\n\nexport class UserList {\n  USER_ID: string;\n  USER_NAME: string;\n  DISPLAY_NAME: string;\n  LOCK: boolean;\n  PWD_STATE: string;\n  INSTANCE_GUID: string;\n}\n\nexport class AppList {\n  APP_ID: string;\n  NAME: string;\n  ROUTE_LINK: string;\n  IS_EXTERNAL: boolean;\n  CREATED_BY: string;\n  CREATE_TIME: string;\n  CHANGED_BY: string;\n  CHANGE_TIME: string;\n  INSTANCE_GUID: string;\n}\n\nexport class AuthObjList {\n  OBJ_NAME: string;\n  DESC: string;\n  CREATED_BY: string;\n  CREATE_TIME: string;\n  CHANGED_BY: string;\n  CHANGE_TIME: string;\n  INSTANCE_GUID: string;\n}\n\nexport class AuthProfileList {\n  PROFILE_NAME: string;\n  DESC: string;\n  CREATED_BY: string;\n  CREATE_TIME: string;\n  CHANGED_BY: string;\n  CHANGE_TIME: string;\n  INSTANCE_GUID: string;\n}\n\nexport class AppCategoryList {\n  ID: string;\n  ICON: string;\n  NAME: string;\n  TYPE: string;\n  CREATED_BY: string;\n  CREATE_TIME: string;\n  CHANGED_BY: string;\n  CHANGE_TIME: string;\n  INSTANCE_GUID: string;\n}\n\nexport class Authorization {\n  AuthObject: string;\n  AuthFieldValue: AuthFieldValue;\n}\n\nexport class AuthFieldValue {\n  [key: string]: Array<string | SelectOption>;\n}\n\nexport class SelectOption {\n  Operator: Operator;\n  Option: Option;\n  Low: string | number;\n  High: string | number;\n}\n\nexport enum Operator {\n  Between = 'Between',\n  GreaterThan = 'GreaterThan',\n  LessThan = 'LessThan',\n  GreaterEqual = 'GreaterEqual',\n  LessEqual = 'LessEqual',\n  Equal = 'Equal',\n  NotEqual = 'NotEqual',\n  StartsWith = 'StartsWith',\n  EndsWith = 'EndsWith',\n  Contains = 'Contains',\n  Matches = 'Matches'\n}\n\nexport enum Option {\n  Include = 'Include',\n  Exclude = 'Exclude'\n}\n","export const msgStore = [\n  { msgCat: 'EXCEPTION',\n    msgName: 'GENERIC',\n    msgText: {\n      EN: {shortText: 'Exception Occurs in Operation: \\'%s\\'',\n           longText: '%s1'}\n    }\n  },\n  { msgCat: 'EXCEPTION',\n    msgName: 'NOT_AUTHENTICATED_OR_SESSION_EXPIRED',\n    msgText: {\n      EN: {shortText: 'You are not authenticated or your session is expired!',\n        longText: 'You are not authenticated or your session is expired, please <a href=\\'/logon\\'>re-logon</a>.'}\n    }\n  },\n  { msgCat: 'GENERAL',\n    msgName: 'EMPTY_LIST',\n    msgText: {\n      EN: {shortText: 'No result is found',\n        longText: 'The system cannot find any items meet the search criteria.'}\n    }\n  },\n  { msgCat: 'GENERAL',\n    msgName: 'UNSAVED_CHANGES',\n    msgText: {\n      EN: {\n        shortText: 'There are unsaved changes. Do you want to save the changes?',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'GENERAL',\n    msgName: 'NO_CHANGE',\n    msgText: {\n      EN: {\n        shortText: 'No change is made, saving is not necessary.',\n        longText: 'The data is not changed, thus there is no need to save changes'\n      }\n    }\n  },\n  { msgCat: 'USER',\n    msgName: 'INVALID',\n    msgText: {\n      EN: {shortText: 'Data is invalid, please check.',\n        longText: 'The data still contains some errors, please make sure all mandatory fields are filled!'}\n    }\n  },\n  { msgCat: 'USER',\n    msgName: 'USER_NAME_EXISTS',\n    msgText: {\n      EN: {shortText: 'User name: \\'%s\\' already exists!',\n        longText: ''}\n    }\n  },\n  { msgCat: 'USER',\n    msgName: 'USER_ID_EXISTS',\n    msgText: {\n      EN: {shortText: 'User ID: \\'%s\\' already exists!',\n        longText: ''}\n    }\n  },\n  { msgCat: 'USER',\n    msgName: 'AT_LEAST_ONE_EMAIL',\n    msgText: {\n      EN: {\n        shortText: 'At least one email needs to be maintained!',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'USER',\n    msgName: 'USER_SAVED',\n    msgText: {\n      EN: {\n        shortText: 'User \\'%s\\' is saved!',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'PERMISSION',\n    msgName: 'PERMISSION_EXISTS',\n    msgText: {\n      EN: {\n        shortText: 'The permission %s exists.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'PERMISSION',\n    msgName: 'INVALID',\n    msgText: {\n      EN: {\n        shortText: 'The permission contains invalid inputs, please check.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'PERMISSION',\n    msgName: 'SAVED',\n    msgText: {\n      EN: {\n        shortText: 'The permission is saved.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'APP',\n    msgName: 'APP_EXISTS',\n    msgText: {\n      EN: {\n        shortText: 'The App %s exists.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'APP',\n    msgName: 'INVALID',\n    msgText: {\n      EN: {\n        shortText: 'The App contains invalid inputs, please check.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'APP',\n    msgName: 'SAVED',\n    msgText: {\n      EN: {\n        shortText: 'The App is saved.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'AUTH_OBJECT',\n    msgName: 'AUTH_OBJECT_EXISTS',\n    msgText: {\n      EN: {\n        shortText: 'The authorization object %s exists.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'AUTH_OBJECT',\n    msgName: 'INVALID',\n    msgText: {\n      EN: {\n        shortText: 'The authorization object contains invalid inputs, please check.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'AUTH_OBJECT',\n    msgName: 'SAVED',\n    msgText: {\n      EN: {\n        shortText: 'The authorization object is saved.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'APP_CATEGORY',\n    msgName: 'APP_CATEGORY_EXISTS',\n    msgText: {\n      EN: {\n        shortText: 'The application category %s exists.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'APP_CATEGORY',\n    msgName: 'INVALID',\n    msgText: {\n      EN: {\n        shortText: 'The application category contains invalid inputs, please check.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'APP_CATEGORY',\n    msgName: 'SAVED',\n    msgText: {\n      EN: {\n        shortText: 'The application category is saved.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'AUTH_PROFILE',\n    msgName: 'AUTH_PROFILE_EXISTS',\n    msgText: {\n      EN: {\n        shortText: 'The authorization profile %s exists.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'AUTH_PROFILE',\n    msgName: 'INVALID',\n    msgText: {\n      EN: {\n        shortText: 'The authorization profile contains invalid inputs, please check.',\n        longText: ''\n      }\n    }\n  },\n  { msgCat: 'AUTH_PROFILE',\n    msgName: 'SAVED',\n    msgText: {\n      EN: {\n        shortText: 'The authorization profile is saved.',\n        longText: ''\n      }\n    }\n  }\n];\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {IdentityService} from '../../../identity.service';\nimport {Attribute, AttributeBase, AttributeControlService, EntityService, SearchHelpComponent} from 'jor-angular';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {AuthValueComponent} from '../../../authorization/auth-value/auth-value.component';\nimport { v4 as uuid } from 'uuid';\n\n@Component({\n  selector: 'app-permission-detail-category',\n  templateUrl: './permission-detail-category.component.html',\n  styleUrls: ['./permission-detail-category.component.css']\n})\nexport class PermissionDetailCategoryComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  categoryFormArray: FormArray;\n  newCategoryForm: FormGroup;\n  isCategoryModalShown = false;\n  selectAll = false;\n  categoryAttr: AttributeBase;\n\n  get displayCategoryModal() {return this.isCategoryModalShown ? 'block' : 'none'; }\n\n  constructor( private fb: FormBuilder,\n               private identityService: IdentityService,\n               private entityService: EntityService,\n               private messageService: MessageService,\n               private attributeControlService: AttributeControlService ) { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n  @ViewChild(AuthValueComponent, { static: true})\n  private authValueComponent: AuthValueComponent;\n\n  ngOnInit() {\n    this.categoryFormArray = <FormArray>this.mainForm.get('categories');\n    this.categoryFormArray.controls.forEach( ctrl => {\n      if ( ctrl.get('ROW_TYPE').value === 'app') { ctrl.get('CHECKED').disable(); }\n    });\n  }\n\n  checkAll(): void {\n    this.categoryFormArray.controls.forEach( appCategoryCtrl => appCategoryCtrl.get('CHECKED').setValue(!this.selectAll));\n    this.selectAll = !this.selectAll;\n  }\n\n  checkCategory(idx: number): void {\n    const currentCategoryCtrl = this.categoryFormArray.at(idx);\n    this.categoryFormArray.controls.forEach( (categoryCtrl, index) => {\n      if (index <= idx) { return; }\n      if (categoryCtrl.get('category.ID').value === currentCategoryCtrl.get('category.ID').value) {\n        categoryCtrl.get('CHECKED').setValue(!currentCategoryCtrl.get('CHECKED').value);\n      }\n    });\n  }\n\n  add(): void {\n    this.newCategoryForm = this.fb.group({\n      CHECKED: '',\n      COLLAPSED: false,\n      ROW_TYPE: 'category',\n      RELATIONSHIP_INSTANCE_GUID: '',\n      app_category_INSTANCE_GUID: '',\n      auth_profile_INSTANCE_GUID: '',\n      ORDER: '',\n      category: this.fb.group({\n        ID: '',\n        NAME: '',\n        ICON: ''\n      })\n    });\n    if (!this.categoryAttr) {\n      this.entityService.getElementMeta('CATEGORY_ID')\n        .subscribe(elementMeta => {\n          const attribute = <Attribute>elementMeta;\n          attribute.ATTR_GUID = elementMeta.ELEMENT_ID;\n          attribute.ATTR_NAME = elementMeta.ELEMENT_ID;\n          attribute.DATA_ELEMENT = elementMeta.ELEMENT_ID;\n          this.categoryAttr = this.attributeControlService.toSingleAttributeControl(attribute);\n          this.categoryAttr.name = 'ID';\n        });\n    }\n    this.isCategoryModalShown = true;\n  }\n\n  closeCategoryModal(): void {\n    this.isCategoryModalShown = false;\n  }\n\n  confirm(): void {\n    const categoryID = this.newCategoryForm.get('category.ID').value;\n    this.identityService.getAppCategoryDetail(categoryID)\n      .subscribe( data => {\n        if ('ENTITY_ID' in data) {\n          this.newCategoryForm.get('app_category_INSTANCE_GUID').setValue(data['INSTANCE_GUID']);\n          this.newCategoryForm.get('category.ID').setValue(data['r_app_category'][0]['ID']);\n          this.newCategoryForm.get('category.NAME').setValue(data['r_app_category'][0]['NAME']);\n          this.newCategoryForm.get('category.ICON').setValue(data['r_app_category'][0]['ICON']);\n          this.newCategoryForm.markAsDirty();\n          this.categoryFormArray.push(this.newCategoryForm);\n          const appRelationship = data['relationships'].find(relationship => relationship.RELATIONSHIP_ID === 'rs_app_category');\n          const appGUIDs = [];\n          appRelationship.values.forEach( value => {\n            this.categoryFormArray.push(this.fb.group({\n              CHECKED: [{value: '', disabled: true}],\n              COLLAPSED: false,\n              ROW_TYPE: 'app',\n              RELATIONSHIP_INSTANCE_GUID: '',\n              app_category_INSTANCE_GUID: '',\n              auth_profile_INSTANCE_GUID: '',\n              ORDER: value['ORDER'],\n              category: this.fb.group({\n                ID: data['r_app_category'][0]['ID'],\n                NAME: value['PARTNER_INSTANCES'][0]['app'][0]['NAME'],\n                ICON: data['r_app_category'][0]['ICON']\n              }),\n              app: this.fb.group({\n                APP_ID: value['PARTNER_INSTANCES'][0]['app'][0]['APP_ID'],\n                NAME: value['PARTNER_INSTANCES'][0]['app'][0]['NAME']\n              })\n            }));\n            appGUIDs.push(value['PARTNER_INSTANCES'][0]['INSTANCE_GUID']);\n          });\n          this._generateProfile(appGUIDs);\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n          this.newCategoryForm.setErrors({message: 'Category contains errors'});\n        }\n        this.isCategoryModalShown = false;\n      });\n  }\n\n  _generateProfile(appGUIDs: Array<string>): void {\n    const profileCtrl = this.fb.group({\n      PROFILE_NAME: uuid().toUpperCase().replace(/-/g, ''),\n      DESC: this.mainForm.get('NAME').value + ` / ` + this.newCategoryForm.get('category.ID').value,\n      CHANGE_TIME: 'just now'\n    });\n    this.newCategoryForm.addControl('profile', profileCtrl);\n    const operations = appGUIDs.map( appGUID => {\n      return {\n        action: 'getInstancePieceByGUID',\n        instance: {INSTANCE_GUID: appGUID,\n          RELATIONSHIPS: [{ RELATIONSHIP_ID: 'rs_app_auth',\n            PARTNER_ENTITY_PIECES: {\n              RELATIONS: ['authObject'],\n              RELATIONSHIPS: [{RELATIONSHIP_ID: 'rs_auth_object_field',\n                PARTNER_ENTITY_PIECES: {RELATIONS: ['authField']}}]}}]}\n      };\n    });\n    this.identityService.orchestrate(operations).subscribe( data => {\n      let authorizations = [];\n      data.forEach( operation => {\n        if (operation.errs) {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n          profileCtrl.setErrors({message: 'Profile contains errors'});\n        } else {\n          const rsAuthorization = operation.result.instance.relationships[0];\n          if (rsAuthorization) {\n            rsAuthorization.values.forEach( value => value.RELATIONSHIP_INSTANCE_GUID = '');\n            authorizations = authorizations.concat(\n              this.identityService.parseProfileAuthObject(rsAuthorization));\n          }\n        }\n      });\n      if (!profileCtrl.hasError('message')) {\n        const authFormArray = this.fb.array(authorizations.map(authorization => this.fb.group(authorization)));\n        authFormArray.controls.forEach( ctrl => ctrl.markAsDirty());\n        profileCtrl.addControl('authorizations', authFormArray);\n      }\n    });\n  }\n\n  delete(): void {\n    let index = this.categoryFormArray.controls.findIndex( appCategoryCtrl => appCategoryCtrl.get('CHECKED').value);\n    while ( index !== -1) {\n      this.categoryFormArray.removeAt(index);\n      this.categoryFormArray.markAsDirty();\n      index = this.categoryFormArray.controls.findIndex( appCategoryCtrl => appCategoryCtrl.get('CHECKED').value);\n    }\n  }\n\n  enterConfirm($event): void {\n    if ($event.keyCode === 13 ) {\n      this.confirm();\n    }\n  }\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, rowIDx: number) {\n      return () => context.onChangeCategory(rowIDx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalByEntity('category', 'r_app_category',\n      exportObject, this.readonly, null, null, afterExportFn);\n  }\n\n  expendCollapse(idx: number): void {\n    const currentCtrl = this.categoryFormArray.at(idx);\n    const parentNode = currentCtrl.get('category.ID').value;\n    this.categoryFormArray.controls.forEach( categoryCtrl => {\n      if (categoryCtrl.get('category.ID').value === parentNode ) {\n        categoryCtrl.get('COLLAPSED').setValue(!categoryCtrl.get('COLLAPSED').value);\n      }\n    });\n  }\n}\n","<div class=\"dk-auth-main mx-3\">\n  <div class=\"btn-toolbar justify-content-end\" role=\"toolbar\">\n    <button type=\"button\" id=\"remove-object\" class=\"btn btn-light btn-sm\" (click)=\"delete()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-minus\"></span> Remove</button>\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"add()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-plus\"></span> Add</button>\n  </div>\n  <table class=\"table table-bordered table-sm dk-table\" [formGroup]=\"mainForm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th class=\"dk-checkbox\"><input name=\"btSelectAll\" type=\"checkbox\" (click)=\"checkAll()\"></th>\n      <th class=\"dk-auth-object\">Category / App Name</th>\n      <th class=\"dk-auth-order\">Order</th>\n      <th class=\"dk-auth-value\">Description</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let categoryForm of categoryFormArray.controls; let i = index\" class=\"treegrid-expanded\"\n        [class.collapsed]=\"categoryForm.get('ROW_TYPE').value === 'app' && categoryForm.get('COLLAPSED').value\">\n      <td class=\"dk-checkbox\" [formGroup]=\"categoryForm\">\n        <input class=\"form-control form-control-sm\" type=\"checkbox\" formControlName=\"CHECKED\" (click)=\"checkCategory(i)\">\n      </td>\n      <td *ngIf=\"categoryForm.get('ROW_TYPE').value === 'category'\" >\n      <span [ngClass]=\"{'treegrid-expander-expanded': !categoryForm.get('COLLAPSED').value,\n            'treegrid-expander-collapsed': categoryForm.get('COLLAPSED').value}\"\n            class=\"treegrid-expander\" (click)=\"expendCollapse(i)\">\n      </span>\n        <span [ngClass]=\"categoryForm.get('category.ICON').value\"></span>\n        {{categoryForm.get('category.ID').value}}\n      </td>\n      <td *ngIf=\"categoryForm.get('ROW_TYPE').value === 'app'\" >\n        <span class=\"treegrid-indent\"></span>\n        <span class=\"treegrid-expander\"></span>\n        {{categoryForm.get('app.APP_ID').value}}\n      </td>\n      <td [formGroup]=\"categoryForm\">\n        <input class=\"form-control form-control-sm\" type=\"number\" formControlName=\"ORDER\"\n               [readOnly]=\"categoryForm.get('ROW_TYPE').value === 'app' || readonly\">\n      </td>\n      <td *ngIf=\"categoryForm.get('ROW_TYPE').value === 'category'\" >{{categoryForm.get('category.NAME').value}}</td>\n      <td *ngIf=\"categoryForm.get('ROW_TYPE').value === 'app'\" >{{categoryForm.get('app.NAME').value}}</td>\n    </tr>\n    </tbody>\n  </table>\n</div>\n\n<div class=\"modal fade\" id=\"addAppCategory\" tabindex=\"-1\" role=\"dialog\"\n     [ngClass]=\"{'show': isCategoryModalShown}\"\n     [ngStyle]=\"{'display': displayCategoryModal}\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"addAuthObjectTitle\">Add App Category</h5>\n        <button type=\"button\" class=\"close\" (click)=\"closeCategoryModal()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <dk-app-attribute-form2 *ngIf = \"newCategoryForm && categoryAttr\"\n                                [attributeControl]=\"categoryAttr\"\n                                [formGroup]=\"newCategoryForm.get('category')\"\n                                [isSmallSize] = \"true\"\n                                [readonly]=\"false\"\n                                (keyup)=\"enterConfirm($event)\">\n        </dk-app-attribute-form2>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-sm btn-secondary\" (click)=\"closeCategoryModal()\">Cancel</button>\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" (click)=\"confirm()\">Confirm</button>\n      </div>\n    </div>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {AbstractControl, Form, FormArray, FormGroup} from '@angular/forms';\n\n@Component({\n  selector: 'app-permission-detail-profile',\n  templateUrl: './permission-detail-profile.component.html',\n  styleUrls: ['./permission-detail-profile.component.css']\n})\nexport class PermissionDetailProfileComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  profileFormArray: FormArray;\n  currentProfileFormGroup: FormGroup;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.profileFormArray = <FormArray>this.mainForm.get('categories');\n    this.onSelect(this.profileFormArray.at(0));\n  }\n\n  onSelect(ctrl: AbstractControl): void {\n    this.currentProfileFormGroup = <FormGroup>ctrl;\n  }\n}\n","<div class=\"row ml-1\">\n  <div class=\"col-3\">\n    <div class=\"btn-toolbar justify-content-end mt-3\" role=\"toolbar\">\n      <button type=\"button\" id=\"remove-object\" class=\"btn btn-light btn-sm\"></button>\n    </div>\n    <div class=\"list-group\">\n      <div *ngFor=\"let profileCtrl of profileFormArray.controls\" >\n        <a *ngIf=\"profileCtrl.get('ROW_TYPE').value === 'category'\" (click)=\"onSelect(profileCtrl)\"\n         class=\"list-group-item list-group-item-action flex-column align-items-start\"\n         [class.active]=\"profileCtrl.get('profile.PROFILE_NAME').value === currentProfileFormGroup.get('profile.PROFILE_NAME').value\">\n        <div class=\"d-flex w-100 justify-content-between\">\n          <h5 class=\"mb-1 dk-text\">{{profileCtrl.get('profile.DESC').value}}</h5>\n        </div>\n        <p class=\"mb-1 dk-text\">{{profileCtrl.get('profile.PROFILE_NAME').value}}</p>\n        <small>changed at: {{profileCtrl.get('profile.CHANGE_TIME').value}}</small>\n      </a>\n      </div>\n    </div>\n  </div>\n  <div class=\"col-9\">\n    <app-authorization [mainForm]=\"currentProfileFormGroup?.get('profile')\" [ctrlName]=\"'authorizations'\"\n                       [readonly]=\"readonly\"></app-authorization>\n  </div>\n</div>\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormGroup} from '@angular/forms';\nimport {SearchHelpComponent} from 'jor-angular';\n\n@Component({\n  selector: 'app-permission-detail-user',\n  templateUrl: './permission-detail-user.component.html',\n  styleUrls: ['./permission-detail-user.component.css']\n})\nexport class PermissionDetailUserComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() mainForm: FormGroup;\n  userFormArray: FormArray;\n\n  constructor() { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n\n  ngOnInit() {\n    this.userFormArray = this.mainForm.get('users') as FormArray;\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, rowIDx: number) {\n      return () => context.onChangeKey(rowIDx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalByEntity('person', 'r_user',\n      exportObject, this.readonly, null, null, afterExportFn);\n  }\n}\n","<table class=\"table table-bordered table-sm dk-table ml-3 mt-4\" [formGroup]=\"mainForm\">\n  <thead class=\"thead-light\">\n  <tr>\n    <th class=\"dk-name\">User ID</th>\n    <th class=\"dk-name\">User Name</th>\n    <th class=\"dk-icon\">Synced</th>\n  </tr>\n  </thead>\n\n  <tbody formArrayName=\"users\" class=\"mb-4\">\n  <tr *ngFor=\"let userForm of userFormArray.controls; let i = index\" >\n    <td [formGroup]=\"userForm\">\n      <div class=\"input-group\">\n        <input class=\"form-control form-control-sm\" type=\"text\" formControlName=\"USER_ID\" readonly>\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-sm btn-outline-secondary btn-light\" type=\"button\" id=\"searchPermission\"\n                  (click)=\"onSearchHelp(i, userForm)\">\n            <span class=\"fas fa-search\"></span>\n          </button>\n        </div>\n      </div>\n    </td>\n    <td [formGroup]=\"userForm\">\n      <input type=\"text\" formControlName=\"USER_NAME\" readonly class=\"form-control form-control-sm\">\n    </td>\n    <td [formGroup]=\"userForm\">\n      <input type=\"text\" formControlName=\"SYNCED\" readonly class=\"form-control form-control-sm\">\n    </td>\n  </tr>\n  </tbody>\n</table>\n\n<dk-app-search-help></dk-app-search-help>\n","import { Component, OnInit } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, Entity, EntityService, RelationMeta, Relationship, UiMapperService} from 'jor-angular';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {switchMap} from 'rxjs/operators';\nimport {forkJoin, Observable, of} from 'rxjs';\nimport {DialogService} from '../../dialog.service';\nimport {existingPermissionValidator} from '../../async-validators';\n\n@Component({\n  selector: 'app-permission-detail',\n  templateUrl: './permission-detail.component.html',\n  styleUrls: ['./permission-detail.component.css']\n})\nexport class PermissionDetailComponent implements OnInit {\n  mainForm: FormGroup;\n  relationMetas: RelationMeta[];\n  attrCtrls: AttributeBase[];\n  readonly = true;\n  isNewMode = false;\n  action: string;\n  instanceGUID: string;\n  originalValue = {};\n  operations = [];\n  tabStrip = 1;\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private dialogService: DialogService,\n              private identityService: IdentityService,\n              private attributeControlService: AttributeControlService,\n              private entityService: EntityService,\n              private uiMapperService: UiMapperService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.action = params.get('action');\n        if (this.action === 'new') {\n          this.isNewMode = true;\n          return forkJoin([\n              this.entityService.getRelationMetaOfEntity('permission'),\n              this._createNewEntity()\n            ]);\n        } else {\n          this.isNewMode = false;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('permission'),\n            this.identityService.getPermissionDetail(params.get('permissionName'))\n          ]);\n        }\n      })\n    ).subscribe( data => {\n      this.relationMetas = data[0] as RelationMeta[];\n      this.attrCtrls = this.attributeControlService.toAttributeControl(\n        this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_role').ATTRIBUTES);\n      if ('ENTITY_ID' in data[1]) {\n        this.instanceGUID = data[1]['INSTANCE_GUID'];\n        this._generateMainForm(<Entity>data[1]);\n        if (this.isNewMode || this.action === 'change') {\n          this._switch2EditMode();\n        } else {\n          this._switch2DisplayMode();\n        }\n      } else {\n        const errorMessages = <Message[]>data[1];\n        errorMessages.forEach( msg => this.messageService.add(msg));\n      }\n    });\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  switchEditDisplay(): void {\n    if (this.readonly ) {\n      this._switch2EditMode();\n    } else {\n      if (this.mainForm.dirty) {\n        this.dialogService.confirm('Discard changes?').subscribe(confirm => {\n          if (confirm) {\n            this.mainForm.reset(this.originalValue);\n            this._switch2DisplayMode();\n          }\n        });\n      } else {\n        this._switch2DisplayMode();\n      }\n    }\n    this.messageService.clearMessages();\n  }\n\n  _switch2DisplayMode(): void {\n    this.readonly = true;\n\n    const permissionNameCtrl = this.mainForm.get('NAME') as FormControl;\n    permissionNameCtrl.clearAsyncValidators();\n\n    this.mainForm.markAsPristine();\n    // Replace the URL from change to display\n    window.history.replaceState({}, '', `/permissions/${permissionNameCtrl.value};action=display`);\n  }\n\n  _switch2EditMode(): void {\n    this.readonly = false;\n\n    const permissionNameCtrl = this.mainForm.get('NAME') as FormControl;\n    if (this.isNewMode) {\n      permissionNameCtrl.setAsyncValidators(\n        existingPermissionValidator(this.identityService, this.messageService));\n    }\n\n    // Replace the URL from to display\n    if (this.action === 'display') {this.action = 'change'; }\n    window.history.replaceState({}, '', `/permissions/${permissionNameCtrl.value};action=` + this.action);\n  }\n\n  _createNewEntity(): Observable<Entity> {\n    const permissionDetail = new Entity();\n    permissionDetail.ENTITY_ID = 'permission';\n    permissionDetail['permission'] = [\n      { DESCR: '', CREATED_BY: '', CREATE_TIME: '', CHANGED_BY: '', CHANGE_TIME: '' }\n    ];\n    permissionDetail['r_role'] = [\n      { NAME: '', DESCRIPTION: '' }\n    ];\n    permissionDetail['relationships'] = [];\n    return of(permissionDetail);\n  }\n\n  _generateMainForm(data: Entity): void {\n    this.mainForm = this.fb.group({\n      NAME: [data['r_role'][0]['NAME'], [Validators.required]],\n      DESCRIPTION: [data['r_role'][0]['DESCRIPTION']],\n      admin: this.fb.group({\n        CREATED_BY: [data['permission'][0]['CREATED_BY']],\n        CREATE_TIME: [data['permission'][0]['CREATE_TIME']],\n        CHANGED_BY: [data['permission'][0]['CHANGED_BY']],\n        CHANGE_TIME: [data['permission'][0]['CHANGE_TIME']]\n      })\n    });\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.mainForm.addControl('categories', this.fb.array(\n      parsedRelationship.categories.map( category => {\n        const categoryCtrl =  this.fb.group({\n          CHECKED: category.CHECKED,\n          COLLAPSED: category.COLLAPSED,\n          ROW_TYPE: category.ROW_TYPE,\n          RELATIONSHIP_INSTANCE_GUID: category.RELATIONSHIP_INSTANCE_GUID,\n          app_category_INSTANCE_GUID: category.app_category_INSTANCE_GUID,\n          auth_profile_INSTANCE_GUID: category.auth_profile_INSTANCE_GUID,\n          ORDER: category.ORDER\n        });\n        if (category.category) {\n          categoryCtrl.addControl('category', this.fb.group({\n            ID: category.category.ID,\n            NAME: category.category.NAME,\n            ICON: category.category.ICON\n            }));\n        }\n        if (category.profile) {\n          categoryCtrl.addControl('profile', this.fb.group({\n            PROFILE_NAME: category.profile.PROFILE_NAME,\n            DESC: category.profile.DESC,\n            CHANGE_TIME: category.profile.CHANGE_TIME,\n            authorizations: this.fb.array(category.profile.authorizations.map( authorization => this.fb.group(authorization) ))\n          }));\n        }\n        if (category.app) {\n          categoryCtrl.addControl('app', this.fb.group({\n            APP_ID: category.app.APP_ID,\n            NAME: category.app.NAME\n          }));\n        }\n        return categoryCtrl;\n      })));\n    this.mainForm.addControl('users', this.fb.array(\n      parsedRelationship.users.map( user => this.fb.group(user))));\n    this.originalValue = this.mainForm.getRawValue();\n  }\n\n  _parseRelationships( relationships: Relationship[] ): any {\n    const parsedRelationship = {\n      users: [],\n      categories: []\n    };\n    if (!relationships) { return parsedRelationship; }\n    relationships.forEach( relationship => {\n      switch (relationship.RELATIONSHIP_ID) {\n        case 'rs_role_category_profile':\n          __parseRoleCategoryProfile(relationship, this);\n          break;\n        case 'rs_user_role':\n          __parseRoleUsers(relationship);\n          break;\n        default:\n        // Do nothing.\n      }\n    });\n    return parsedRelationship;\n\n    function __parseRoleCategoryProfile( relationship: Relationship, context: any): void {\n      relationship.values.forEach( value => {\n        const appCategoryInstance = value.PARTNER_INSTANCES.find(\n          partnerInstance => partnerInstance.ROLE_ID === 'app_category');\n        const authProfileInstance = value.PARTNER_INSTANCES.find(\n          partnerInstance => partnerInstance.ROLE_ID === 'auth_profile');\n        parsedRelationship.categories.push({\n          CHECKED: '',\n          COLLAPSED: false,\n          ROW_TYPE: 'category',\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          app_category_INSTANCE_GUID: appCategoryInstance.INSTANCE_GUID,\n          auth_profile_INSTANCE_GUID: authProfileInstance.INSTANCE_GUID,\n          ORDER: value['ORDER'],\n          category: {\n            ID: appCategoryInstance['r_app_category'][0]['ID'],\n            NAME: appCategoryInstance['r_app_category'][0]['NAME'],\n            ICON: appCategoryInstance['r_app_category'][0]['ICON']\n          },\n          profile: {\n            PROFILE_NAME: authProfileInstance['authProfile'][0]['PROFILE_NAME'],\n            DESC: authProfileInstance['authProfile'][0]['DESC'],\n            CHANGE_TIME: authProfileInstance['authProfile'][0]['CHANGE_TIME'],\n            authorizations: context.identityService.parseProfileAuthObject(authProfileInstance.relationships[0])\n          }\n        });\n        const rsAppCategory = appCategoryInstance['relationships'][0];\n        rsAppCategory.values.forEach( value2 => {\n          parsedRelationship.categories.push({\n            CHECKED: '',\n            COLLAPSED: false,\n            ROW_TYPE: 'app',\n            RELATIONSHIP_INSTANCE_GUID: value2['RELATIONSHIP_INSTANCE_GUID'],\n            app_category_INSTANCE_GUID: '',\n            auth_profile_INSTANCE_GUID: '',\n            ORDER: value2['ORDER'],\n            category: {\n              ID: appCategoryInstance['r_app_category'][0]['ID'],\n              NAME: appCategoryInstance['r_app_category'][0]['NAME'],\n              ICON: appCategoryInstance['r_app_category'][0]['ICON']\n            },\n            app: {\n              APP_ID: value2['PARTNER_INSTANCES'][0]['app'][0]['APP_ID'],\n              NAME: value2['PARTNER_INSTANCES'][0]['app'][0]['NAME'],\n            }\n          });\n        });\n      });\n    }\n\n    function __parseRoleUsers( relationship: Relationship): void {\n      relationship.values.forEach( value => {\n        parsedRelationship.users.push( {\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          SYNCED: value['SYNCED'],\n          INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n          USER_ID: value['PARTNER_INSTANCES'][0]['r_user'][0]['USER_ID'],\n          USER_NAME: value['PARTNER_INSTANCES'][0]['r_user'][0]['USER_NAME']\n        });\n      });\n    }\n  }\n\n  _resetValue(data: Entity): void {\n    this.originalValue = {\n      NAME: data['r_role'][0]['NAME'],\n      DESCRIPTION: data['r_role'][0]['DESCRIPTION'],\n      admin: {\n        CREATED_BY: data['permission'][0]['CREATED_BY'],\n        CREATE_TIME: data['permission'][0]['CREATE_TIME'],\n        CHANGED_BY: data['permission'][0]['CHANGED_BY'],\n        CHANGE_TIME: data['permission'][0]['CHANGE_TIME']\n      }\n    };\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.originalValue['categories'] = parsedRelationship.categories;\n    this.originalValue['users'] = parsedRelationship.users;\n    this.mainForm.reset(this.originalValue);\n  }\n\n  save() {\n    this.messageService.clearMessages();\n    if (this._composeChanges()) {\n      console.log(this.operations);\n      this.identityService.orchestrate(this.operations).subscribe( results => {\n        this.operations = [];\n        results.forEach( result => {\n          if (result.msgType) {\n            this.messageService.add(<Message>result);\n          } else if (result.instance && result.instance.ENTITY_ID === 'permission') {\n            this.instanceGUID = result.instance.INSTANCE_GUID;\n            this.isNewMode = false;\n            const permissionName = this.mainForm.get('NAME').value;\n            this.identityService.getPermissionDetail(permissionName).subscribe(instance => {\n              if ('ENTITY_ID' in instance) {\n                this._switch2DisplayMode();\n                this._resetValue(<Entity>instance);\n              } else {\n                const errorMessages = <Message[]>instance;\n                errorMessages.forEach( msg => this.messageService.add(msg));\n              }\n            });\n            this.messageService.reportMessage('PERMISSION', 'SAVED', 'S', permissionName);\n          }\n        });\n      });\n    }\n  }\n\n  _composeChanges() {\n    if (this.mainForm.invalid) {\n      this.messageService.reportMessage('PERMISSION', 'INVALID', 'E');\n      return false;\n    }\n\n    if (this.mainForm.dirty === false) {\n      this.messageService.reportMessage('GENERAL', 'NO_CHANGE', 'W');\n      return false;\n    }\n\n    const changedValue = {};\n    changedValue['ENTITY_ID'] = 'permission';\n    changedValue['INSTANCE_GUID'] = this.instanceGUID;\n    if (this.isNewMode) {\n      changedValue['permission'] = {\n        action: 'add', DESCR: this.mainForm.get('DESCRIPTION'),\n        CREATED_BY: this.identityService.Session.USER_ID, CREATE_TIME: this.identityService.CurrentTime,\n        CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n      changedValue['r_role'] = {\n        action: 'add', NAME: this.mainForm.get('NAME'),\n        DESCRIPTION: this.mainForm.get('DESCRIPTION')\n      };\n    }\n\n    changedValue['permission'] = {\n      action: 'update', CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n\n    if (this.mainForm.get('DESCRIPTION').dirty) {\n      changedValue['permission']['DESCR'] = this.mainForm.get('DESCRIPTION');\n      changedValue['r_role'] = {\n        action: 'update',  DESCRIPTION: this.mainForm.get('DESCRIPTION') };\n    }\n\n    const categoryFormArray = this.mainForm.get('categories') as FormArray;\n    categoryFormArray.controls.forEach( ctrl => {\n      if (ctrl.get('ROW_TYPE').value === 'category') {\n        if (ctrl.get('RELATIONSHIP_INSTANCE_GUID').value) { // Change an existing profile\n          if (ctrl.get('profile.authorizations').pristine) { return; }\n          const originalProfile = this.originalValue['categories'].find(\n            category => category.RELATIONSHIP_INSTANCE_GUID === ctrl.get('RELATIONSHIP_INSTANCE_GUID').value);\n          this.operations.push({\n            action: 'changeInstance', noCommit: true,\n            instance: {\n              ENTITY_ID: 'authProfile',\n              INSTANCE_GUID: ctrl.get('auth_profile_INSTANCE_GUID').value,\n              authProfile: {action: 'update', CHANGED_BY: this.identityService.Session.USER_ID,\n                CHANGE_TIME: this.identityService.CurrentTime},\n              relationships: [\n                this.identityService.composeAuthChanges(<FormArray>ctrl.get('profile.authorizations'),\n                  originalProfile.authorizations, 'rs_auth_profile_object')\n              ]}\n          });\n        } else { // Add a new profile\n          this.operations.push({\n            action: 'createInstance', noCommit: true,\n            instance: {\n              ENTITY_ID: 'authProfile',\n              INSTANCE_GUID: ctrl.get('auth_profile_INSTANCE_GUID').value,\n              authProfile: {action: 'add', PROFILE_NAME: ctrl.get('profile.PROFILE_NAME').value,\n                DESC: ctrl.get('profile.DESC').value,\n                CREATED_BY: this.identityService.Session.USER_ID, CREATE_TIME: this.identityService.CurrentTime,\n                CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime},\n              relationships: [\n                this.identityService.composeAuthChanges(<FormArray>ctrl.get('profile.authorizations'),\n                  [], 'rs_auth_profile_object')\n              ]\n            }\n          });\n        }\n      } else { // ROW_TYPE = app\n        ctrl.markAsPristine({onlySelf: true});\n      }\n    });\n\n    changedValue['relationships'] = [];\n    const rsCategory = this.uiMapperService.composeChangedRelationship(\n      'rs_role_category_profile',\n      [\n        {ENTITY_ID: 'category', ROLE_ID: 'app_category'},\n        {ENTITY_ID: 'authProfile', ROLE_ID: 'auth_profile'}],\n      categoryFormArray,\n      this.originalValue['categories'].filter( category => category.ROW_TYPE === 'category'),\n      ['CHECKED', 'COLLAPSED', 'ROW_TYPE', 'category', 'profile', 'app']);\n    if (rsCategory) {\n      rsCategory['values'].forEach( value => {\n        if (value.PARTNER_INSTANCES) { value.PARTNER_INSTANCES[1].NO_EXISTING_CHECK = true; }\n      });\n      changedValue['relationships'].push(rsCategory);\n    }\n\n    const newProfilesIndex = [];\n    this.operations.forEach( (operation, index) => {\n      if (operation.action === 'createInstance') { newProfilesIndex.push(index); }\n    });\n    this.operations.push({\n      action: this.isNewMode ? 'createInstance' : 'changeInstance', noCommit: true,\n      replacements: newProfilesIndex.map( idx => {\n        return {\n          movePath: [idx, 'result', 'instance', 'INSTANCE_GUID'],\n            toPath: ['relationships', 0, 'values', idx, 'PARTNER_INSTANCES', 1, 'INSTANCE_GUID']\n        };\n      }),\n      instance: changedValue\n    });\n\n    // Find the deleted categories, and also trigger the deletion of the corresponding profiles\n    this.originalValue['categories'].forEach( category => {\n      if (category.ROW_TYPE === 'app') { return; }\n      const idx = categoryFormArray.controls.findIndex(\n        ctrl => ctrl.get('RELATIONSHIP_INSTANCE_GUID').value === category.RELATIONSHIP_INSTANCE_GUID);\n      if (idx === -1) {\n        this.operations.push({\n          action: 'softDeleteInstanceByGUID',\n          instance: {INSTANCE_GUID: category.auth_profile_INSTANCE_GUID}\n        });\n        this.operations.push({\n          action: 'hardDeleteByGUID',\n          instance: {INSTANCE_GUID: category.auth_profile_INSTANCE_GUID}\n        });\n      }\n    });\n\n    return true;\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    if (this.isNewMode || (this.mainForm && this.mainForm.dirty)) {\n      return this.dialogService.confirm('Discard changes?');\n    } else {\n      return true;\n    }\n  }\n}\n","<nav class=\"navbar dk-fixed-top navbar-light bg-light\">\n  <div>\n    <span class=\"font-weight-bold mb-0 mx-1\">{{isNewMode? 'New Permission' : readonly? 'Display Permission' : 'Change Permission'}}</span>\n  </div>\n\n  <div class=\"flex-row-reverse\">\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Edit/Display\" id=\"editDisplay\" (click)=\"switchEditDisplay()\">\n      <span *ngIf=\"readonly\" class=\"fas fa-edit\"> Edit</span>\n      <span *ngIf=\"!readonly\" class=\"fas fa-glasses\"> Display</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Save\" id=\"save\" (click)=\"save()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-save\"> Save</span>\n    </button>\n  </div>\n</nav>\n\n<div class=\"mt-2 mb-2\">\n  <dk-message></dk-message>\n</div>\n\n<div *ngIf=\"mainForm\" class=\"ml-2\">\n  <div class=\"mt-2 ml-1 row\">\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('NAME')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('DESCRIPTION')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n  </div>\n\n  <ul class=\"nav nav-tabs mt-1\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(1)\">APP Category</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===2\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(2)\">Profile</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===3\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(3)\">User</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===4\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(4)\">Admin</a>\n    </li>\n  </ul>\n\n  <div class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n    <app-permission-detail-category *ngSwitchCase=\"1\" [mainForm]=\"mainForm\" [readonly]=\"readonly\">\n    </app-permission-detail-category>\n    <app-permission-detail-profile *ngSwitchCase=\"2\" [mainForm]=\"mainForm\"  [readonly]=\"readonly\">\n    </app-permission-detail-profile>\n    <app-permission-detail-user *ngSwitchCase=\"3\" [mainForm]=\"mainForm\" [readonly]=\"readonly\">\n    </app-permission-detail-user>\n    <app-admin-info *ngSwitchCase=\"4\" [mainForm]=\"mainForm\" [relationMetas]=\"relationMetas\" [adminRelation]=\"'permission'\">\n    </app-admin-info>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {PermissionList} from '../../identity';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {IdentityService} from '../../identity.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-permission-list',\n  templateUrl: './permission-list.component.html',\n  styleUrls: ['./permission-list.component.css']\n})\nexport class PermissionListComponent implements OnInit {\n  permissionName: string;\n  permissionDesc: string;\n  permissions: PermissionList[];\n  showDeletionConfirmation = false;\n  toBeDeletedInstance: string;\n\n  get displayDeletionConfirmation() {return this.showDeletionConfirmation ? 'block' : 'none'; }\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  search() {\n    this.messageService.clearMessages();\n    this.permissions = [];\n    this.permissionName = this.permissionName ? this.permissionName.trim() : '';\n    this.permissionDesc = this.permissionDesc ? this.permissionDesc.trim() : '';\n    this.identityService.searchPermissions(this.permissionName, this.permissionDesc).subscribe(\n      data => {\n        if (!data[0]) {\n          this.messageService.reportMessage('GENERAL', 'EMPTY_LIST', messageType.Warning);\n        } else if (data[0]['msgCat']) {\n          const messages = <Message[]>data;\n          messages.forEach( msg => this.messageService.add(msg));\n        } else {\n          this.permissions = <PermissionList[]>data;\n        }\n      }\n    );\n  }\n\n  enterSearch($event): void {\n    if ($event.keyCode === 13 ) {\n      this.search();\n    }\n  }\n\n  new(): void {\n    this.router.navigate(['permissions', '/', {action: 'new'}]);\n  }\n\n  display(permissionName: string): void {\n    this.router.navigate(['permissions', permissionName, {action: 'display'}]);\n  }\n\n  change(permissionName: string): void {\n    this.router.navigate(['permissions', permissionName, {action: 'change'}]);\n  }\n\n  delete(permissionName: string): void {\n    this.toBeDeletedInstance = permissionName;\n    this.showDeletionConfirmation = true;\n  }\n\n  cancelDeletion(): void {\n    this.showDeletionConfirmation = false;\n  }\n\n  confirmDeletion(): void {\n    const toBeDeletedPermissionGUID = this.permissions.find(\n      ele => ele.NAME === this.toBeDeletedInstance).INSTANCE_GUID;\n    this.identityService.delete(toBeDeletedPermissionGUID).subscribe( errorMsg => {\n      this.showDeletionConfirmation = false;\n      if (errorMsg) {\n        const messages = <Message[]>errorMsg;\n        messages.forEach( msg => this.messageService.add(msg));\n      } else {\n        this.search();\n      }\n    });\n  }\n\n}\n","<div class=\"card mb-3 pt-3\">\n  <div class=\"mt-2 pl-4 row\">\n    <div class=\"col-6 form-group row\">\n      <label for=\"permission_name\" class=\"col-sm-3 col-form-label\">Permission:</label>\n      <input id=\"permission_name\" name=\"user_id\" [(ngModel)]=\"permissionName\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\" autofocus>\n    </div>\n    <div class=\"col-6 form-group row\">\n      <label for=\"permission_desc\" class=\"col-sm-3 col-form-label\">Description:</label>\n      <input id=\"permission_desc\" name=\"user_name\" [(ngModel)]=\"permissionDesc\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\">\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <button type=\"button\" id=\"search\" class=\"btn btn-primary btn-sm float-right mr-4\" (click)=\"search()\">Search</button>\n  </div>\n</div>\n\n<div class=\"mt-2 mb-4 mx-4\">\n  <dk-message></dk-message>\n  <div class=\"btn-toolbar justify-content-end my-2\" role=\"toolbar\">\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"new()\">\n      <span class=\"fas fa-plus\"></span> New</button>\n  </div>\n  <table class=\"table table-bordered table-sm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Description</th>\n      <th scope=\"col\">Created By</th>\n      <th scope=\"col\">Created At</th>\n      <th scope=\"col\">Changed By</th>\n      <th scope=\"col\">Changed At</th>\n      <th scope=\"col\">Action</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let permission of permissions\">\n      <td><a [routerLink]=\"['/permissions', permission.NAME, {action: 'display'}]\">{{permission.NAME}}</a></td>\n      <td>{{permission.DESCRIPTION}}</td>\n      <td>{{permission.CREATED_BY}}</td>\n      <td>{{permission.CREATE_TIME}}</td>\n      <td>{{permission.CHANGED_BY}}</td>\n      <td>{{permission.CHANGE_TIME}}</td>\n      <td class=\"dk-actions\">\n        <button title=\"Display\" id=\"display\" class=\"btn btn-sm\" type=\"button\" (click)=\"display(permission.NAME)\">\n          <span class=\"fas fa-search\"></span>\n        </button>\n        <button title=\"Change\" id=\"change\" class=\"btn btn-sm\" type=\"button\" (click)=\"change(permission.NAME)\">\n          <span class=\"fas fa-pen\"></span>\n        </button>\n        <button title=\"Delete\" id=\"delete\" class=\"btn btn-sm\" type=\"button\" (click)=\"delete(permission.NAME)\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class=\"modal fade\" [class.show]=\"showDeletionConfirmation\"\n       [ngStyle]=\"{'display': displayDeletionConfirmation}\" id=\"deletionConfirmation\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-sm modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"confirmDeletion\">Confirm Deletion</h5>\n          <button type=\"button\" class=\"close\" (click)=\"cancelDeletion()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure to delete the permission '{{toBeDeletedInstance}}'?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" id=\"cancel\" class=\"btn btn-sm btn-secondary\" (click)=\"cancelDeletion()\">Cancel</button>\n          <button type=\"button\" id=\"confirm\" class=\"btn btn-sm btn-primary\" (click)=\"confirmDeletion()\">Confirm</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport {FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {AttributeBase, AttributeControlService, Entity, EntityService, RelationMeta, Relationship, UiMapperService} from 'jor-angular';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {DialogService} from '../../dialog.service';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {switchMap} from 'rxjs/operators';\nimport {forkJoin, Observable, of} from 'rxjs';\nimport {existingProfileValidator} from '../../async-validators';\nimport {Authorization} from '../../identity';\n\n@Component({\n  selector: 'app-profile-detail',\n  templateUrl: './profile-detail.component.html',\n  styleUrls: ['./profile-detail.component.css']\n})\nexport class ProfileDetailComponent implements OnInit {\n  mainForm: FormGroup;\n  relationMetas: RelationMeta[];\n  attrCtrls: AttributeBase[];\n  readonly = true;\n  isNewMode = false;\n  action: string;\n  instanceGUID: string;\n  originalValue = {};\n  changedValue = {};\n  tabStrip = 1;\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private dialogService: DialogService,\n              private identityService: IdentityService,\n              private attributeControlService: AttributeControlService,\n              private entityService: EntityService,\n              private uiMapperService: UiMapperService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.action = params.get('action');\n        if (this.action === 'new') {\n          this.isNewMode = true;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('authProfile'),\n            this._createNewEntity()\n          ]);\n        } else {\n          this.isNewMode = false;\n          return forkJoin([\n            this.entityService.getRelationMetaOfEntity('authProfile'),\n            this.identityService.getAuthProfileDetail(params.get('profileName'))\n          ]);\n        }\n      })\n    ).subscribe( data => {\n      this.relationMetas = data[0] as RelationMeta[];\n      this.attrCtrls = this.attributeControlService.toAttributeControl(\n        this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'authProfile').ATTRIBUTES);\n      if ('ENTITY_ID' in data[1]) {\n        this.instanceGUID = data[1]['INSTANCE_GUID'];\n        this._generateMainForm(<Entity>data[1]);\n        if (this.isNewMode || this.action === 'change') {\n          this._switch2EditMode();\n        } else {\n          this._switch2DisplayMode();\n        }\n      } else {\n        const errorMessages = <Message[]>data[1];\n        errorMessages.forEach( msg => this.messageService.add(msg));\n      }\n    });\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  switchEditDisplay(): void {\n    if (this.readonly ) {\n      this._switch2EditMode();\n    } else {\n      if (this.mainForm.dirty) {\n        this.dialogService.confirm('Discard changes?').subscribe(confirm => {\n          if (confirm) {\n            this.mainForm.reset(this.originalValue);\n            this._switch2DisplayMode();\n          }\n        });\n      } else {\n        this._switch2DisplayMode();\n      }\n    }\n    this.messageService.clearMessages();\n  }\n\n  _switch2DisplayMode(): void {\n    this.readonly = true;\n\n    const profileNameCtrl = this.mainForm.get('PROFILE_NAME') as FormControl;\n    profileNameCtrl.clearAsyncValidators();\n\n    this.mainForm.markAsPristine();\n    // Replace the URL from change to display\n    window.history.replaceState({}, '', `/profiles/${profileNameCtrl.value};action=display`);\n  }\n\n  _switch2EditMode(): void {\n    this.readonly = false;\n\n    const profileNameCtrl = this.mainForm.get('PROFILE_NAME') as FormControl;\n    if (this.isNewMode) {\n      profileNameCtrl.setAsyncValidators(\n        existingProfileValidator(this.identityService, this.messageService));\n    }\n\n    // Replace the URL from to display\n    if (this.action === 'display') {this.action = 'change'; }\n    window.history.replaceState({}, '', `/profiles/${profileNameCtrl.value};action=` + this.action);\n  }\n\n  _createNewEntity(): Observable<Entity> {\n    const profileDetail = new Entity();\n    profileDetail.ENTITY_ID = 'authProfile';\n    profileDetail['authProfile'] = [\n      { PROFILE_NAME: '', DESC: '', CREATED_BY: '', CREATE_TIME: '', CHANGED_BY: '', CHANGE_TIME: '' }\n    ];\n    profileDetail['relationships'] = [];\n    return of(profileDetail);\n  }\n\n  _generateMainForm(data: Entity): void {\n    this.mainForm = this.fb.group({\n      PROFILE_NAME: [data['authProfile'][0]['PROFILE_NAME'], [Validators.required]],\n      DESC: [data['authProfile'][0]['DESC']],\n      admin: this.fb.group({\n        CREATED_BY: [data['authProfile'][0]['CREATED_BY']],\n        CREATE_TIME: [data['authProfile'][0]['CREATE_TIME']],\n        CHANGED_BY: [data['authProfile'][0]['CHANGED_BY']],\n        CHANGE_TIME: [data['authProfile'][0]['CHANGE_TIME']]\n      })\n    });\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.mainForm.addControl('authObjects',\n      this.fb.array(parsedRelationship.authObjects.map( authObject => this.fb.group( authObject ))));\n    this.originalValue = this.mainForm.getRawValue();\n  }\n\n  _parseRelationships( relationships: Relationship[] ): any {\n    const parsedRelationship = {\n      authObjects : []\n    };\n    if (!relationships) { return parsedRelationship; }\n    relationships.forEach( relationship => {\n      switch (relationship.RELATIONSHIP_ID) {\n        case 'rs_auth_profile_object':\n          __parseAuthObjects(relationship);\n          break;\n        default:\n        // Do nothing.\n      }\n    });\n    return parsedRelationship;\n\n    function __parseAuthObjects(relationship: Relationship): void {\n      relationship.values.forEach(value => {\n        const authorization = value['AUTH_VALUE'] ? <Authorization>JSON.parse(value['AUTH_VALUE']) : null;\n        const status = authorization ?\n          Object.values(authorization.AuthFieldValue).findIndex(authValue => !authValue) !== -1 ?\n            'yellow' : 'green' : 'red';\n        parsedRelationship.authObjects.push({\n          CHECKED: '',\n          COLLAPSED: false,\n          NODE_ID: value['RELATIONSHIP_INSTANCE_GUID'],\n          STATUS: status,\n          RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n          auth_object_INSTANCE_GUID: value['PARTNER_INSTANCES'][0]['INSTANCE_GUID'],\n          AUTH_VALUE: value['AUTH_VALUE'],\n          OBJ_NAME: value['PARTNER_INSTANCES'][0]['authObject'][0]['OBJ_NAME'],\n          DESC: value['PARTNER_INSTANCES'][0]['authObject'][0]['DESC'],\n          ROW_TYPE: 'OBJECT',\n          FIELD_NAME: '',\n          DATA_ELEMENT: '',\n        });\n\n        const authObjectFields = value['PARTNER_INSTANCES'][0]['relationships'][0];\n        authObjectFields.values.forEach(value2 => {\n          const authFieldName = value2['PARTNER_INSTANCES'][0]['authField'][0]['FIELD_NAME'];\n          parsedRelationship.authObjects.push({\n            CHECKED: '',\n            COLLAPSED: false,\n            NODE_ID: value['RELATIONSHIP_INSTANCE_GUID'],\n            STATUS: authorization && authorization.AuthFieldValue && authorization.AuthFieldValue[authFieldName] ?\n              authorization.AuthFieldValue[authFieldName].length > 0 ? 'green' : 'red' : 'red',\n            RELATIONSHIP_INSTANCE_GUID: value['RELATIONSHIP_INSTANCE_GUID'],\n            auth_object_INSTANCE_GUID: '',\n            AUTH_VALUE: authorization && authorization.AuthFieldValue[authFieldName]\n              && JSON.stringify(authorization.AuthFieldValue[authFieldName], null, ' '),\n            OBJ_NAME: value['PARTNER_INSTANCES'][0]['authObject'][0]['OBJ_NAME'],\n            DESC: '',\n            ROW_TYPE: 'FIELD',\n            FIELD_NAME: authFieldName,\n            DATA_ELEMENT: value2['PARTNER_INSTANCES'][0]['authField'][0]['DATA_ELEMENT'],\n          });\n        });\n      });\n    }\n  }\n\n  _resetValue(data: Entity): void {\n    this.originalValue = {\n      PROFILE_NAME: data['authProfile'][0]['PROFILE_NAME'],\n      DESC: data['authProfile'][0]['DESC'],\n      admin: {\n        CREATED_BY: data['authProfile'][0]['CREATED_BY'],\n        CREATE_TIME: data['authProfile'][0]['CREATE_TIME'],\n        CHANGED_BY: data['authProfile'][0]['CHANGED_BY'],\n        CHANGE_TIME: data['authProfile'][0]['CHANGE_TIME']\n      }\n    };\n    const parsedRelationship = this._parseRelationships( data['relationships'] );\n    this.originalValue['authObjects'] = parsedRelationship.authObjects;\n    this.originalValue['roles'] = parsedRelationship.roles;\n    this.mainForm.reset(this.originalValue);\n  }\n\n  save() {\n    this.messageService.clearMessages();\n    if (this._composeChanges()) {\n      this.identityService.save(<Entity>this.changedValue).subscribe( data => {\n        this.changedValue = {};\n        if ('INSTANCE_GUID' in data) {\n          const profileName = data['authProfile'][0]['PROFILE_NAME'];\n          this.instanceGUID = data['INSTANCE_GUID'];\n          this.isNewMode = false;\n          this.identityService.getAuthProfileDetail(profileName).subscribe(instance => {\n            if ('ENTITY_ID' in instance) {\n              this._switch2DisplayMode();\n              this._resetValue(<Entity>instance);\n            } else {\n              const errorMessages = <Message[]>instance;\n              errorMessages.forEach( msg => this.messageService.add(msg));\n            }\n          });\n          this.messageService.reportMessage('AUTH_PROFILE', 'SAVED', 'S', profileName);\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n        }\n      });\n    }\n  }\n\n  _composeChanges() {\n    if (this.mainForm.invalid) {\n      this.messageService.reportMessage('AUTH_PROFILE', 'INVALID', 'E');\n      return false;\n    }\n\n    if (this.mainForm.dirty === false) {\n      this.messageService.reportMessage('GENERAL', 'NO_CHANGE', 'W');\n      return false;\n    }\n\n    this.changedValue['ENTITY_ID'] = 'authProfile';\n    this.changedValue['INSTANCE_GUID'] = this.instanceGUID;\n\n    if (this.isNewMode) {\n      this.changedValue['authProfile'] = {\n        action: 'add', PROFILE_NAME: this.mainForm.get('PROFILE_NAME').value,\n        CREATED_BY: this.identityService.Session.USER_ID, CREATE_TIME: this.identityService.CurrentTime,\n        CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n    } else {\n      this.changedValue['authProfile'] = {\n        action: 'update', CHANGED_BY: this.identityService.Session.USER_ID, CHANGE_TIME: this.identityService.CurrentTime};\n    }\n\n    if (this.mainForm.get('DESC').dirty) {\n      this.changedValue['authProfile']['DESC'] = this.mainForm.get('DESC').value;\n    }\n\n    const authObjectFormArray = this.mainForm.get('authObjects') as FormArray;\n    const relationship = this.identityService.composeAuthChanges(authObjectFormArray,\n      this.originalValue['appAuthObjects'], 'rs_auth_profile_object');\n    if (relationship) { this.changedValue['relationships'] = [relationship]; }\n\n    return true;\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    if (this.isNewMode || (this.mainForm && this.mainForm.dirty)) {\n      return this.dialogService.confirm('Discard changes?');\n    } else {\n      return true;\n    }\n  }\n}\n","<nav class=\"navbar dk-fixed-top navbar-light bg-light\">\n  <div>\n    <span class=\"font-weight-bold mb-0 mx-1\">{{isNewMode? 'New Profile' : readonly? 'Display Profile' : 'Change Profile'}}</span>\n  </div>\n\n  <div class=\"flex-row-reverse\">\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Edit/Display\" id=\"editDisplay\" (click)=\"switchEditDisplay()\">\n      <span *ngIf=\"readonly\" class=\"fas fa-edit\"> Edit</span>\n      <span *ngIf=\"!readonly\" class=\"fas fa-glasses\"> Display</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Save\" id=\"save\" (click)=\"save()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-save\"> Save</span>\n    </button>\n  </div>\n</nav>\n\n<div class=\"mt-2 mb-2\">\n  <dk-message></dk-message>\n</div>\n\n<div *ngIf=\"mainForm\" class=\"ml-2\">\n  <div class=\"mt-2 ml-1 row\">\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('PROFILE_NAME')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('DESC')\"\n                            [formGroup]=\"mainForm\"\n                            [readonly]=\"readonly\"\n                            [isSmallSize] = \"true\">\n    </dk-app-attribute-form2>\n  </div>\n\n  <ul class=\"nav nav-tabs mt-1\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(1)\">Authorization</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===3\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(3)\">Admin</a>\n    </li>\n  </ul>\n\n  <div class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n    <app-authorization *ngSwitchCase=\"1\" [mainForm]=\"mainForm\" [ctrlName]=\"'authObjects'\"  [readonly]=\"readonly\"></app-authorization>\n    <app-admin-info *ngSwitchCase=\"3\" [mainForm]=\"mainForm\" [relationMetas]=\"relationMetas\" [adminRelation]=\"'authProfile'\"></app-admin-info>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {AuthProfileList} from '../../identity';\nimport {IdentityService} from '../../identity.service';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-profile-list',\n  templateUrl: './profile-list.component.html',\n  styleUrls: ['./profile-list.component.css']\n})\nexport class ProfileListComponent implements OnInit {\n  profileName: string;\n  profileDesc: string;\n  authProfiles: AuthProfileList[];\n  showDeletionConfirmation = false;\n  toBeDeletedInstance: string;\n\n  get displayDeletionConfirmation() {return this.showDeletionConfirmation ? 'block' : 'none'; }\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  search() {\n    this.messageService.clearMessages();\n    this.authProfiles = [];\n    this.profileName = this.profileName ? this.profileName.trim() : '';\n    this.profileDesc = this.profileDesc ? this.profileDesc.trim() : '';\n    this.identityService.searchAuthProfiles(this.profileName, this.profileDesc).subscribe(\n      data => {\n        if (!data[0]) {\n          this.messageService.reportMessage('GENERAL', 'EMPTY_LIST', messageType.Warning);\n        } else if (data[0]['msgCat']) {\n          const messages = <Message[]>data;\n          messages.forEach( msg => this.messageService.add(msg));\n        } else {\n          this.authProfiles = <AuthProfileList[]>data;\n        }\n      }\n    );\n  }\n\n  enterSearch($event): void {\n    if ($event.keyCode === 13 ) {\n      this.search();\n    }\n  }\n\n  new(): void {\n    this.router.navigate(['profiles', '/', {action: 'new'}]);\n  }\n\n  display(profileName: string): void {\n    this.router.navigate(['profiles', profileName, {action: 'display'}]);\n  }\n\n  change(profileName: string): void {\n    this.router.navigate(['profiles', profileName, {action: 'change'}]);\n  }\n\n  delete(profileName: string): void {\n    this.toBeDeletedInstance = profileName;\n    this.showDeletionConfirmation = true;\n  }\n\n  cancelDeletion(): void {\n    this.showDeletionConfirmation = false;\n  }\n\n  confirmDeletion(): void {\n    const toBeDeletedInstanceGUID = this.authProfiles.find(\n      ele => ele.PROFILE_NAME === this.toBeDeletedInstance).INSTANCE_GUID;\n    this.identityService.delete(toBeDeletedInstanceGUID).subscribe( errorMsg => {\n      this.showDeletionConfirmation = false;\n      if (errorMsg) {\n        const messages = <Message[]>errorMsg;\n        messages.forEach( msg => this.messageService.add(msg));\n      } else {\n        this.search();\n      }\n    });\n  }\n}\n","<div class=\"card mb-3 pt-3\">\n  <div class=\"mt-2 pl-4 row\">\n    <div class=\"col-6 form-group row\">\n      <label for=\"profile_name\" class=\"col-sm-3 col-form-label\">Profile Name:</label>\n      <input id=\"profile_name\" name=\"profile_name\" [(ngModel)]=\"profileName\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\" autofocus>\n    </div>\n    <div class=\"col-6 form-group row\">\n      <label for=\"profile_desc\" class=\"col-sm-3 col-form-label\">Description:</label>\n      <input id=\"profile_desc\" name=\"profile_desc\" [(ngModel)]=\"profileDesc\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\">\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <button type=\"button\" id=\"search\" class=\"btn btn-primary btn-sm float-right mr-4\" (click)=\"search()\">Search</button>\n  </div>\n</div>\n\n<div class=\"mt-2 mb-4 mx-4\">\n  <dk-message></dk-message>\n  <div class=\"btn-toolbar justify-content-end my-2\" role=\"toolbar\">\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"new()\">\n      <span class=\"fas fa-plus\"></span> New</button>\n  </div>\n  <table class=\"table table-bordered table-sm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Description</th>\n      <th scope=\"col\">Changed By</th>\n      <th scope=\"col\">Changed At</th>\n      <th scope=\"col\">Action</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let authProfile of authProfiles\">\n      <td><a [routerLink]=\"['/profiles', authProfile.PROFILE_NAME, {action: 'display'}]\">{{authProfile.PROFILE_NAME}}</a></td>\n      <td>{{authProfile.DESC}}</td>\n      <td>{{authProfile.CHANGED_BY}}</td>\n      <td>{{authProfile.CHANGE_TIME}}</td>\n      <td class=\"dk-actions\">\n        <button title=\"Display\" id=\"display\" class=\"btn btn-sm\" type=\"button\" (click)=\"display(authProfile.PROFILE_NAME)\">\n          <span class=\"fas fa-search\"></span>\n        </button>\n        <button title=\"Change\" id=\"change\" class=\"btn btn-sm\" type=\"button\" (click)=\"change(authProfile.PROFILE_NAME)\">\n          <span class=\"fas fa-pen\"></span>\n        </button>\n        <button title=\"Delete\" id=\"delete\" class=\"btn btn-sm\" type=\"button\" (click)=\"delete(authProfile.PROFILE_NAME)\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class=\"modal fade\" [class.show]=\"showDeletionConfirmation\"\n       [ngStyle]=\"{'display': displayDeletionConfirmation}\" id=\"deletionConfirmation\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-sm modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"confirmDeletion\">Confirm Deletion</h5>\n          <button type=\"button\" class=\"close\" (click)=\"cancelDeletion()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure to delete the profile '{{toBeDeletedInstance}}'?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" id=\"cancel\" class=\"btn btn-sm btn-secondary\" (click)=\"cancelDeletion()\">Cancel</button>\n          <button type=\"button\" id=\"confirm\" class=\"btn btn-sm btn-primary\" (click)=\"confirmDeletion()\">Confirm</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormArray, FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {AttributeBase, AttributeControlService, RelationMeta} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-address',\n  templateUrl: './user-address.component.html',\n  styleUrls: ['./user-address.component.css']\n})\nexport class UserAddressComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  userAddressFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.userAddressFormArray = this.userForm.get('addresses') as FormArray;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_address').ATTRIBUTES);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  addAddress() {\n    const addressFormGroup = this.fb.group({\n      ADDRESS_ID: [''],\n      TYPE: ['', [Validators.required]],\n      ADDRESS_VALUE: ['', [Validators.required]],\n      POSTCODE: [''],\n      CITY: [''],\n      COUNTRY: [''],\n      PRIMARY: []\n    });\n    if (this.userAddressFormArray.length === 0) {\n      addressFormGroup.get('PRIMARY').setValue(1);\n      addressFormGroup.get('PRIMARY').markAsDirty();\n    }\n    this.userAddressFormArray.push(addressFormGroup);\n  }\n\n  deleteAddress(index: number) {\n    if (this.userAddressFormArray.length > 1 &&\n        this.userAddressFormArray.at(index).value['PRIMARY']) {\n      const newPrimaryIndex = index === 0 ? 1 : 0;\n      this.userAddressFormArray.at(newPrimaryIndex).get('PRIMARY').setValue(1);\n      this.userAddressFormArray.at(newPrimaryIndex).get('PRIMARY').markAsDirty();\n    }\n    this.userAddressFormArray.removeAt(index);\n    this.userAddressFormArray.markAsDirty();\n  }\n}\n","<div class=\"card mt-4\">\n  <div class=\"card-body\">\n    <div *ngFor=\"let userAddressForm of userAddressFormArray.controls; let i = index\" class=\"card mb-4\">\n      <button type=\"button\" id=\"remove\" class=\"close d-flex justify-content-end mr-2\" aria-label=\"Close\"\n              (click)=\"deleteAddress(i)\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <div class=\"card-body row\" [formGroup]=\"userAddressForm\">\n        <dk-app-attribute-form2 class=\"col-3\"\n                                [attributeControl]=\"getAttrCtrlFromID('TYPE')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n        <dk-app-attribute-form2 class=\"col-6\"\n                                [attributeControl]=\"getAttrCtrlFromID('ADDRESS_VALUE')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n        <div class=\"col-1 row form-group mr-2\">\n          <label for=\"primaryAddress\" class=\"col-form-label col-form-label-sm\">Primary</label>\n          <input type=\"radio\" class=\"form-control form-control-sm\" id=\"primaryAddress\" [value]=\"1\"\n                 name=\"PRIMARY\" formControlName=\"PRIMARY\">\n        </div>\n        <dk-app-attribute-form2 class=\"col-md-3\"\n                                [attributeControl]=\"getAttrCtrlFromID('POSTCODE')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n        <dk-app-attribute-form2 class=\"col-md-3\"\n                                [attributeControl]=\"getAttrCtrlFromID('CITY')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n        <dk-app-attribute-form2 class=\"col-md-3\"\n                                [attributeControl]=\"getAttrCtrlFromID('COUNTRY')\"\n                                [formGroup]=\"userAddressForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n      </div>\n    </div>\n    <button type=\"button\" id=\"add\" class=\"btn btn-sm btn-primary float-right\" [disabled]=\"readonly\" (click)=\"addAddress()\">Add</button>\n  </div>\n</div>\n","import {Component, Input, OnInit } from '@angular/core';\nimport {FormGroup} from \"@angular/forms\";\nimport {AttributeBase, AttributeControlService, RelationMeta} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-basic',\n  templateUrl: './user-basic.component.html',\n  styleUrls: ['./user-basic.component.css']\n})\nexport class UserBasicComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  userBasicNamesForm: FormGroup;\n  userBasicEmployeeForm: FormGroup;\n\n  constructor(private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.userBasicNamesForm = this.userForm.get('userBasic.names') as FormGroup;\n    this.userBasicEmployeeForm = this.userForm.get('userBasic.employee') as FormGroup;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_employee').ATTRIBUTES);\n    this.attrCtrls = this.attrCtrls.concat(this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_user').ATTRIBUTES));\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n}\n","<div class=\"card mt-4\">\n  <div class=\"card-header\">Name</div>\n  <div class=\"card-body\">\n    <form class=\"mt-2 row\">\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('USER_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('DISPLAY_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <div class=\"col-md-4\"></div>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('GIVEN_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('MIDDLE_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('FAMILY_NAME')\"\n                              [formGroup]=\"userBasicNamesForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n    </form>\n  </div>\n</div>\n\n<div class=\"card mt-4\">\n  <div class=\"card-header\">Employee</div>\n  <div class=\"card-body\">\n    <form class=\"mt-2 row\">\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('COMPANY_ID')\"\n                              [formGroup]=\"userBasicEmployeeForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('DEPARTMENT_ID')\"\n                              [formGroup]=\"userBasicEmployeeForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('TITLE')\"\n                              [formGroup]=\"userBasicEmployeeForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n      <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                              [attributeControl]=\"getAttrCtrlFromID('GENDER')\"\n                              [formGroup]=\"userBasicEmployeeForm\"\n                              [readonly]=\"readonly\"\n                              [isSmallSize]=\"true\">\n      </dk-app-attribute-form2>\n    </form>\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {Message, MessageService} from 'ui-message-angular';\nimport {msgStore} from '../../msgStore';\nimport {switchMap} from 'rxjs/operators';\nimport {IdentityService} from '../../identity.service';\nimport {forkJoin, Observable, of} from 'rxjs';\nimport {\n  AttributeBase,\n  AttributeControlService,\n  Entity,\n  EntityService,\n  RelationMeta,\n  UiMapperService\n} from 'jor-angular';\nimport {existingUserIDValidator, existingUserNameValidator} from '../../async-validators';\nimport {DialogService} from '../../dialog.service';\n\n@Component({\n  selector: 'app-user-detail',\n  templateUrl: './user-detail.component.html',\n  styleUrls: ['./user-detail.component.css']\n})\nexport class UserDetailComponent implements OnInit {\n  userForm: FormGroup;\n  relationMetas: RelationMeta[];\n  attrCtrls: AttributeBase[];\n  readonly = true;\n  isNewMode = false;\n  action: string;\n  instanceGUID: string;\n  originalUserValue = {};\n  changedUser = {};\n  tabStrip = 1;\n\n  get pwdStatus(): string {\n    switch (this.userForm.get('PWD_STATUS').value) {\n      case '':\n        return 'Initial';\n      case 1:\n        return 'Active';\n      case 3:\n        return 'Need Change';\n      default:\n        return 'Initial';\n    }\n  }\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private dialogService: DialogService,\n              private identityService: IdentityService,\n              private attributeControlService: AttributeControlService,\n              private entityService: EntityService,\n              private uiMapperService: UiMapperService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.action = params.get('action');\n        if (this.action === 'new') {\n          this.isNewMode = true;\n          return forkJoin(\n            [this.entityService.getRelationMetaOfEntity('person'), this._createNewUser()]);\n        } else {\n          this.isNewMode = false;\n          return forkJoin(\n            [this.entityService.getRelationMetaOfEntity('person'),\n            this.identityService.getUserDetail(params.get('userID'))]);\n        }\n      })\n    ).subscribe( data => {\n      this.relationMetas = data[0] as RelationMeta[];\n      this.attrCtrls = this.attributeControlService.toAttributeControl(\n        this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_user').ATTRIBUTES);\n      if ('ENTITY_ID' in data[1]) {\n        this.instanceGUID = data[1]['INSTANCE_GUID'];\n        this._generateUserForm(<Entity>data[1]);\n        if (this.isNewMode || this.action === 'change') {\n          this._switch2EditMode();\n        } else {\n          this._switch2DisplayMode();\n        }\n      } else {\n        const errorMessages = <Message[]>data[1];\n        errorMessages.forEach( msg => this.messageService.add(msg));\n      }\n    });\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  switchTabStrip(tabStripID: number): void {\n    this.tabStrip = tabStripID;\n  }\n\n  switchEditDisplay(): void {\n    if (this.readonly ) {\n      this._switch2EditMode();\n    } else {\n      if (this.userForm.dirty) {\n        this.dialogService.confirm('Discard changes?').subscribe(confirm => {\n          if (confirm) {\n            this.userForm.reset(this.originalUserValue);\n            this._switch2DisplayMode();\n          }\n        });\n      } else {\n        this._switch2DisplayMode();\n      }\n    }\n    this.messageService.clearMessages();\n  }\n\n  _switch2DisplayMode(): void {\n    this.readonly = true;\n    this._setCheckBoxState();\n\n    const userIDCtrl = this.userForm.get('USER_ID') as FormControl;\n    userIDCtrl.clearAsyncValidators();\n    const userNameCtrl = this.userForm.get('userBasic.names.USER_NAME') as FormControl;\n    userNameCtrl.clearAsyncValidators();\n\n    const emailArray = this.userForm.get('emails') as FormArray;\n    let lastIndex = emailArray.length - 1;\n    while (lastIndex >= 0) {\n      const emailFormGroup = emailArray.at(lastIndex);\n      if (emailFormGroup.invalid || !emailFormGroup.value.EMAIL) {\n        emailArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    const addressArray = this.userForm.get('addresses') as FormArray;\n    lastIndex = addressArray.length - 1;\n    while (lastIndex >= 0) {\n      const addressFormGroup = addressArray.at(lastIndex);\n      if (addressFormGroup.invalid || !addressFormGroup.value.ADDRESS_VALUE) {\n        addressArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    const roleArray = this.userForm.get('userRole') as FormArray;\n    lastIndex = roleArray.length - 1;\n    while (lastIndex >= 0) {\n      const roleFormGroup = roleArray.at(lastIndex);\n      if (roleFormGroup.invalid || !roleFormGroup.value.NAME) {\n        roleArray.removeAt(lastIndex);\n      }\n      lastIndex--;\n    }\n\n    this.userForm.markAsPristine();\n    // Replace the URL from change to display\n    window.history.replaceState({}, '', `/users/${userIDCtrl.value};action=display`);\n  }\n\n  _switch2EditMode(): void {\n    this.readonly = false;\n    this._setCheckBoxState();\n\n    const userIDCtrl = this.userForm.get('USER_ID') as FormControl;\n    if (this.isNewMode) {\n      userIDCtrl.setAsyncValidators(\n        existingUserIDValidator(this.identityService, this.messageService));\n    }\n\n    const userNameCtrl = this.userForm.get('userBasic.names.USER_NAME') as FormControl;\n    userNameCtrl.setAsyncValidators(\n      existingUserNameValidator(this.identityService, this.messageService, this.userForm.get('USER_ID').value));\n\n    const roleArray = this.userForm.get('userRole') as FormArray;\n    roleArray.push( this.fb.group({\n      NAME: [''],\n      DESCRIPTION: [''],\n      system_role_INSTANCE_GUID: [''],\n      RELATIONSHIP_INSTANCE_GUID: [''],\n    }));\n\n    // Replace the URL from to display\n    if (this.action === 'display') {this.action = 'change'; }\n    window.history.replaceState({}, '', `/users/${userIDCtrl.value};action=` + this.action);\n  }\n\n  _createNewUser(): Observable<Entity> {\n    const userDetail = new Entity();\n    userDetail['ENTITY_ID'] = 'person';\n    userDetail['r_user'] = [\n      { USER_ID: '', LOCK: 0, PWD_STATUS: '', USER_NAME: '', DISPLAY_NAME: '',\n        GIVEN_NAME: '', MIDDLE_NAME: '', FAMILY_NAME: ''}\n    ];\n    userDetail['r_employee'] = [\n      {TITLE: '', DEPARTMENT_ID: '', COMPANY_ID: '', GENDER: ''}\n    ];\n    userDetail['r_email'] = [];\n    userDetail['r_personalization'] = [\n      {USER_ID: '', LANGUAGE: '', TIMEZONE: '', DECIMAL_FORMAT: '', DATE_FORMAT: ''}\n    ];\n    userDetail['relationships'] = [];\n    return of(userDetail);\n  }\n\n  _generateUserForm(data: Entity): void {\n    this.userForm = this.fb.group({\n      USER_ID: [data['r_user'][0]['USER_ID'], [Validators.required]],\n      LOCK: [data['r_user'][0]['LOCK']],\n      PWD_STATUS: [data['r_user'][0]['PWD_STATUS']],\n      userBasic: this.fb.group({\n        names: this.fb.group({\n          USER_NAME: [data['r_user'][0]['USER_NAME'], [Validators.required]],\n          DISPLAY_NAME: [data['r_user'][0]['DISPLAY_NAME'], [Validators.required]],\n          GIVEN_NAME: [data['r_user'][0]['GIVEN_NAME']],\n          MIDDLE_NAME: [data['r_user'][0]['MIDDLE_NAME']],\n          FAMILY_NAME: [data['r_user'][0]['FAMILY_NAME']]\n        }),\n        employee: this.fb.group({\n          TITLE: [data['r_employee'][0]['TITLE']],\n          DEPARTMENT_ID: [data['r_employee'][0]['DEPARTMENT_ID']],\n          COMPANY_ID: [data['r_employee'][0]['COMPANY_ID'], [Validators.required]],\n          GENDER: [data['r_employee'][0]['GENDER']]\n        })\n      }),\n      emails:  this.fb.array([]),\n      addresses: this.fb.array([]),\n      userPersonalization: this.fb.group({\n        USER_ID: [data['r_personalization'] ? data['r_personalization'][0]['USER_ID'] : ''],\n        LANGUAGE: [data['r_personalization'] ? data['r_personalization'][0]['LANGUAGE'] : ''],\n        TIMEZONE: [data['r_personalization'] ? data['r_personalization'][0]['TIMEZONE'] : ''],\n        DECIMAL_FORMAT: [data['r_personalization'] ? data['r_personalization'][0]['DECIMAL_FORMAT'] : ''],\n        DATE_FORMAT: [data['r_personalization'] ? data['r_personalization'][0]['DATE_FORMAT'] : '']\n      }),\n      userRole: this.fb.array([])\n    });\n\n    const emailArray = this.userForm.get('emails') as FormArray;\n    data['r_email'].forEach( email => {\n      emailArray.push(\n        this.fb.group({\n          EMAIL: [email['EMAIL'], [Validators.required]],\n          TYPE: [email['TYPE'], [Validators.required]],\n          PRIMARY: [email['PRIMARY']]\n        })\n      );\n    });\n\n    const addressArray = this.userForm.get('addresses') as FormArray;\n    if (data['r_address']) {\n      data['r_address'].forEach( address => {\n        addressArray.push(\n          this.fb.group({\n            ADDRESS_ID: [address['ADDRESS_ID']],\n            TYPE: [address['TYPE'], [Validators.required]],\n            ADDRESS_VALUE: [address['ADDRESS_VALUE'], [Validators.required]],\n            POSTCODE: [address['POSTCODE']],\n            CITY: [address['CITY']],\n            COUNTRY: [address['COUNTRY']],\n            PRIMARY: [address['PRIMARY']]\n          })\n        );\n      });\n    }\n\n    const roleArray = this.userForm.get('userRole') as FormArray;\n    const userRoleRelationship = data['relationships'][0];\n    if (userRoleRelationship) {\n      userRoleRelationship.values.forEach( value => {\n        const roleInstance = value.PARTNER_INSTANCES[0];\n        roleArray.push(\n          this.fb.group({\n            NAME: [roleInstance['r_role'][0]['NAME']],\n            DESCRIPTION: [roleInstance['r_role'][0]['DESCRIPTION']],\n            system_role_INSTANCE_GUID: [roleInstance['INSTANCE_GUID']],\n            RELATIONSHIP_INSTANCE_GUID: [value['RELATIONSHIP_INSTANCE_GUID']]\n          })\n        );\n      });\n    }\n\n    this.originalUserValue = this.userForm.getRawValue();\n  }\n\n  _resetUserValue(data: Entity): void {\n    this.originalUserValue = {\n      USER_ID: data['r_user'][0]['USER_ID'],\n      LOCK: data['r_user'][0]['LOCK'],\n      PWD_STATUS: data['r_user'][0]['PWD_STATUS'],\n      userBasic: {\n        names: {\n          USER_NAME: data['r_user'][0]['USER_NAME'],\n          DISPLAY_NAME: data['r_user'][0]['DISPLAY_NAME'],\n          GIVEN_NAME: data['r_user'][0]['GIVEN_NAME'],\n          MIDDLE_NAME: data['r_user'][0]['MIDDLE_NAME'],\n          FAMILY_NAME: data['r_user'][0]['FAMILY_NAME']\n        },\n        employee: {\n          TITLE: data['r_employee'][0]['TITLE'],\n          DEPARTMENT_ID: data['r_employee'][0]['DEPARTMENT_ID'],\n          COMPANY_ID: data['r_employee'][0]['COMPANY_ID'],\n          GENDER: data['r_employee'][0]['GENDER']\n        }\n      },\n      emails: [],\n      addresses: [],\n      userPersonalization: {\n        USER_ID: data['r_personalization'] ? data['r_personalization'][0]['USER_ID'] : '',\n        LANGUAGE: data['r_personalization'] ? data['r_personalization'][0]['LANGUAGE'] : '',\n        TIMEZONE: data['r_personalization'] ? data['r_personalization'][0]['TIMEZONE'] : '',\n        DECIMAL_FORMAT: data['r_personalization'] ? data['r_personalization'][0]['DECIMAL_FORMAT'] : '',\n        DATE_FORMAT: data['r_personalization'] ? data['r_personalization'][0]['DATE_FORMAT'] : ''\n      },\n      userRole: []\n    };\n\n    data['r_email'].forEach( email => {\n      this.originalUserValue['emails'].push(\n        {\n          EMAIL: email['EMAIL'],\n          TYPE: email['TYPE'],\n          PRIMARY: email['PRIMARY']\n        }\n      );\n    });\n\n    if (data['r_address']) {\n      data['r_address'].forEach( address => {\n        this.originalUserValue['addresses'].push(\n          {\n            ADDRESS_ID: address['ADDRESS_ID'],\n            TYPE: address['TYPE'],\n            ADDRESS_VALUE: address['ADDRESS_VALUE'],\n            POSTCODE: address['POSTCODE'],\n            CITY: address['CITY'],\n            COUNTRY: address['COUNTRY'],\n            PRIMARY: address['PRIMARY']\n          }\n        );\n      });\n    }\n\n    const userRoleRelationship = data['relationships'][0];\n    if (userRoleRelationship) {\n      userRoleRelationship.values.forEach( value => {\n        const roleInstance = value.PARTNER_INSTANCES[0];\n        this.originalUserValue['userRole'].push(\n          {\n            NAME: [roleInstance['r_role'][0]['NAME']],\n            DESCRIPTION: [roleInstance['r_role'][0]['DESCRIPTION']],\n            system_role_INSTANCE_GUID: [roleInstance['INSTANCE_GUID']],\n            RELATIONSHIP_INSTANCE_GUID: [value['RELATIONSHIP_INSTANCE_GUID']]\n          }\n        );\n      });\n    }\n\n    this.userForm.reset(this.originalUserValue);\n  }\n\n  _setCheckBoxState() {\n    const userEmailFormArray = this.userForm.get('emails') as FormArray;\n    const userAddressFormArray = this.userForm.get('addresses') as FormArray;\n    const userEmployeeForm = this.userForm.get('userBasic').get('employee') as FormGroup;\n    const userPersonalizationForm = this.userForm.get('userPersonalization') as FormGroup;\n    if (this.readonly) {\n      userEmailFormArray.controls.forEach( userEmailForm => {\n        userEmailForm.get('PRIMARY').disable();\n        userEmailForm.get('TYPE').disable();\n      });\n      userAddressFormArray.controls.forEach( userAddressForm => {\n        userAddressForm.get('PRIMARY').disable();\n        userAddressForm.get('TYPE').disable();\n      });\n      userEmployeeForm.get('GENDER').disable();\n      userPersonalizationForm.get('LANGUAGE').disable();\n      userPersonalizationForm.get('TIMEZONE').disable();\n      userPersonalizationForm.get('DECIMAL_FORMAT').disable();\n      userPersonalizationForm.get('DATE_FORMAT').disable();\n    } else {\n      userEmailFormArray.controls.forEach( userEmailForm => {\n        userEmailForm.get('PRIMARY').enable();\n        userEmailForm.get('TYPE').enable();\n      });\n      userAddressFormArray.controls.forEach( userAddressForm => {\n        userAddressForm.get('PRIMARY').enable();\n        userAddressForm.get('TYPE').enable();\n      });\n      userEmployeeForm.get('GENDER').enable();\n      userPersonalizationForm.get('LANGUAGE').enable();\n      userPersonalizationForm.get('TIMEZONE').enable();\n      userPersonalizationForm.get('DECIMAL_FORMAT').enable();\n      userPersonalizationForm.get('DATE_FORMAT').enable();\n    }\n  }\n\n  save() {\n    this.messageService.clearMessages();\n    if (this._composeChangesToUser()) {\n      this.identityService.save(<Entity>this.changedUser).subscribe( data => {\n        this.changedUser = {};\n        if ('INSTANCE_GUID' in data) {\n          const userID = data['r_user'][0]['USER_ID'];\n          this.instanceGUID = data['INSTANCE_GUID'];\n          this.isNewMode = false;\n          this.identityService.getUserDetail(userID).subscribe(userData => {\n            if ('ENTITY_ID' in userData) {\n              this._switch2DisplayMode();\n              this._resetUserValue(<Entity>userData);\n            } else {\n              const errorMessages = <Message[]>userData;\n              errorMessages.forEach( msg => this.messageService.add(msg));\n            }\n          });\n          this.messageService.reportMessage('USER', 'USER_SAVED', 'S', userID);\n        } else {\n          const errorMessages = <Message[]>data;\n          errorMessages.forEach( msg => this.messageService.add(msg));\n        }\n      });\n    }\n  }\n\n  _composeChangesToUser() {\n    if (this.userForm.invalid) {\n      this.messageService.reportMessage('USER', 'INVALID', 'E');\n      return false;\n    }\n\n    if (this.userForm.dirty === false) {\n      this.messageService.reportMessage('GENERAL', 'NO_CHANGE', 'W');\n      return false;\n    }\n\n    this.changedUser['ENTITY_ID'] = 'person';\n    this.changedUser['INSTANCE_GUID'] = this.instanceGUID;\n    if (this.isNewMode) {\n      this.changedUser['person'] = {action: 'add', TYPE: 'employee', SYSTEM_ACCESS: 'PORTAL'};\n    }\n\n    const userBasicFormGroup = this.userForm.get('userBasic');\n    const userID = this.userForm.get('USER_ID').value;\n    if (userBasicFormGroup.dirty) {\n      const userBasicNamesFormGroup = userBasicFormGroup.get('names') as FormGroup;\n      this.changedUser['r_user'] = this.uiMapperService.composeChangedRelation(\n        userBasicNamesFormGroup, {USER_ID: userID}, this.isNewMode);\n\n      const userBasicEmployeeFormGroup = userBasicFormGroup.get('employee') as FormGroup;\n      this.changedUser['r_employee'] = this.uiMapperService.composeChangedRelation(\n        userBasicEmployeeFormGroup, {USER_ID: userID}, this.isNewMode);\n    }\n\n    const userEmailFormArray = this.userForm.get('emails') as FormArray;\n    this.changedUser['r_email'] = this.uiMapperService.composeChangedRelationArray(\n      userEmailFormArray, this.originalUserValue['emails'], {EMAIL: null});\n\n    const userAddressFormArray = this.userForm.get('addresses') as FormArray;\n    this.changedUser['r_address'] = this.uiMapperService.composeChangedRelationArray(\n      userAddressFormArray, this.originalUserValue['addresses'], {ADDRESS_ID: null});\n\n    const userPersonalizationFormGroup = this.userForm.get('userPersonalization') as FormGroup;\n    this.changedUser['r_personalization'] = this.uiMapperService.composeChangedRelation(\n      userPersonalizationFormGroup, {USER_ID: userID}, !userPersonalizationFormGroup.get('USER_ID').value);\n\n    const userRoleFormArray = this.userForm.get('userRole') as FormArray;\n    const relationship = this.uiMapperService.composeChangedRelationship(\n      'rs_user_role',\n      [{ENTITY_ID: 'permission', ROLE_ID: 'system_role'}],\n      userRoleFormArray, this.originalUserValue['userRole'], ['NAME', 'DESCRIPTION']);\n    if (relationship) {this.changedUser['relationships'] = [relationship]; }\n\n    return true;\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    if (this.isNewMode || (this.userForm && this.userForm.dirty)) {\n      return this.dialogService.confirm('Discard changes?');\n    } else {\n      return true;\n    }\n  }\n}\n\n","<nav class=\"navbar dk-fixed-top navbar-light bg-light\">\n  <div>\n    <span class=\"font-weight-bold mb-0 mx-1\">{{isNewMode? 'New User' : readonly? 'Display User' : 'Change User'}}</span>\n  </div>\n\n  <div class=\"flex-row-reverse\">\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Edit/Display\" id=\"editDisplay\" (click)=\"switchEditDisplay()\">\n      <span *ngIf=\"readonly\" class=\"fas fa-edit\"> Edit</span>\n      <span *ngIf=\"!readonly\" class=\"fas fa-glasses\"> Display</span>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary mr-2\" type=\"button\" title=\"Save\" id=\"save\" (click)=\"save()\" [disabled]=\"readonly\">\n      <span class=\"fas fa-save\"> Save</span>\n    </button>\n  </div>\n</nav>\n\n<div class=\"mt-2 mb-2\">\n  <dk-message></dk-message>\n</div>\n\n<div *ngIf=\"userForm\" class=\"ml-2\">\n  <div class=\"mt-2 ml-1 row\">\n    <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                            [attributeControl]=\"getAttrCtrlFromID('USER_ID')\"\n                            [formGroup]=\"userForm\"\n                            [readonly]=\"!isNewMode\"\n                            [isSmallSize]=\"true\">\n    </dk-app-attribute-form2>\n    <div class=\"col-md-6 col-lg-4 row form-group mr-2\" [formGroup]=\"userForm\">\n      <label for=\"lockStatus\" class=\"col-form-label col-form-label-sm\">Lock Status:</label>\n      <div id=\"lockStatus\" class=\"form-control dk-icon\">\n        <span *ngIf=\"userForm.get('LOCK').value\" class=\"fas fa-lock\" > Locked</span>\n        <span *ngIf=\"!userForm.get('LOCK').value\" class=\"fas fa-lock-open\"> Unlocked</span>\n      </div>\n    </div>\n    <div class=\"col-md-6 col-lg-4 row form-group mr-2\" [formGroup]=\"userForm\">\n      <label for=\"passwordStatus\" class=\"col-form-label col-form-label-sm\">Password Status:</label>\n      <div id=\"passwordStatus\" class=\"form-control dk-icon\" [ngSwitch]=\"userForm.get('PWD_STATUS').value\">\n        <div *ngSwitchCase=\"\">\n          <span class=\"badge badge-primary\">Initial</span>\n        </div>\n        <div *ngSwitchCase=\"1\">\n          <span class=\"badge badge-success\">Active</span>\n        </div>\n        <div *ngSwitchCase=\"2\">\n          <span class=\"badge badge-warning\">Renew</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <ul class=\"nav nav-tabs mt-1\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===1\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(1)\">Basic</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===2\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(2)\">Email</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===3\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(3)\">Address</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===4\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(4)\">Personalization</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" [class.active]=\"tabStrip===5\" href=\"javascript:void(0);\" (click)=\"switchTabStrip(5)\">Role</a>\n    </li>\n  </ul>\n\n  <div class=\"mt-2\" [ngSwitch]=\"tabStrip\">\n    <app-user-basic *ngSwitchCase=\"1\" [userForm]=\"userForm\" [relationMetas]=\"relationMetas\" [readonly]=\"readonly\"></app-user-basic>\n    <app-user-email *ngSwitchCase=\"2\" [userForm]=\"userForm\" [relationMetas]=\"relationMetas\" [readonly]=\"readonly\"></app-user-email>\n    <app-user-address *ngSwitchCase=\"3\" [userForm]=\"userForm\" [relationMetas]=\"relationMetas\"  [readonly]=\"readonly\"></app-user-address>\n    <app-user-personalization *ngSwitchCase=\"4\" [userForm]=\"userForm\" [relationMetas]=\"relationMetas\" [readonly]=\"readonly\"></app-user-personalization>\n    <app-user-role *ngSwitchCase=\"5\" [userForm]=\"userForm\" [readonly]=\"readonly\"></app-user-role>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormArray, FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {MessageService} from \"ui-message-angular\";\nimport {AttributeBase, AttributeControlService, RelationMeta} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-email',\n  templateUrl: './user-email.component.html',\n  styleUrls: ['./user-email.component.css']\n})\nexport class UserEmailComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  userEmailFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private messageService: MessageService,\n              private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.userEmailFormArray = this.userForm.get('emails') as FormArray;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_email').ATTRIBUTES);\n    if (!this.readonly && this.userEmailFormArray.length === 0) {\n      this.addEmail();\n    }\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n\n  addEmail() {\n    const emailFormGroup = this.fb.group({\n      EMAIL: ['', [Validators.required]],\n      TYPE: ['', [Validators.required]],\n      PRIMARY: ['']\n    });\n    if (this.userEmailFormArray.length === 0) {\n      emailFormGroup.get('PRIMARY').setValue(1);\n      emailFormGroup.get('PRIMARY').markAsDirty();\n    }\n    this.userEmailFormArray.push(emailFormGroup);\n  }\n\n  deleteEmail(index: number) {\n    if (this.userEmailFormArray.length === 1) {\n      this.messageService.reportMessage('USER', 'AT_LEAST_ONE_EMAIL', 'E');\n    } else {\n      if (this.userEmailFormArray.at(index).value['PRIMARY']) {\n        const newPrimaryIndex = index === 0 ? 1 : 0;\n        this.userEmailFormArray.at(newPrimaryIndex).get('PRIMARY').setValue(1);\n        this.userEmailFormArray.at(newPrimaryIndex).get('PRIMARY').markAsDirty();\n      }\n      this.userEmailFormArray.removeAt(index);\n      this.userEmailFormArray.markAsDirty();\n    }\n  }\n}\n","<div class=\"card mt-4\">\n  <div class=\"card-body\">\n    <div *ngFor=\"let userEmailForm of userEmailFormArray.controls; let i = index\" class=\"card mb-4\">\n      <button type=\"button\" id=\"remove\" class=\"close d-flex justify-content-end mr-2\" aria-label=\"Close\" (click)=\"deleteEmail(i)\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <div class=\"card-body row\" [formGroup]=\"userEmailForm\">\n        <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                                [attributeControl]=\"getAttrCtrlFromID('TYPE')\"\n                                [formGroup]=\"userEmailForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n        <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                                [attributeControl]=\"getAttrCtrlFromID('EMAIL')\"\n                                [formGroup]=\"userEmailForm\"\n                                [readonly]=\"readonly\"\n                                [isSmallSize]=\"true\">\n        </dk-app-attribute-form2>\n        <div class=\"col-1 row form-group mr-2\">\n          <label for=\"primaryEmail\" class=\"col-form-label col-form-label\">Primary</label>\n          <input type=\"radio\" class=\"form-control form-control-sm\" id=\"primaryEmail\" [value]=\"1\" name=\"PRIMARY\" formControlName=\"PRIMARY\">\n        </div>\n      </div>\n    </div>\n    <button type=\"button\" id=\"add\" class=\"btn btn-sm btn-primary float-right\" [disabled]=\"readonly\" (click)=\"addEmail()\">Add</button>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormGroup} from \"@angular/forms\";\nimport {AttributeBase, AttributeControlService, RelationMeta} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-personalization',\n  templateUrl: './user-personalization.component.html',\n  styleUrls: ['./user-personalization.component.css']\n})\nexport class UserPersonalizationComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  @Input() relationMetas: RelationMeta[];\n  private attrCtrls: AttributeBase[];\n  userPersonalizationForm: FormGroup;\n\n  constructor(private attributeControlService: AttributeControlService) { }\n\n  ngOnInit() {\n    this.userPersonalizationForm = this.userForm.get('userPersonalization') as FormGroup;\n    this.attrCtrls = this.attributeControlService.toAttributeControl(\n      this.relationMetas.find( relationMeta => relationMeta.RELATION_ID === 'r_personalization').ATTRIBUTES);\n  }\n\n  getAttrCtrlFromID(fieldName: string): AttributeBase {\n    return this.attrCtrls.find( attrCtrl => attrCtrl.name === fieldName);\n  }\n}\n","<form class=\"mt-4 ml-2 row\">\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                          [attributeControl]=\"getAttrCtrlFromID('LANGUAGE')\"\n                          [formGroup]=\"userPersonalizationForm\"\n                          [readonly]=\"readonly\"\n                          [isSmallSize]=\"true\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                          [attributeControl]=\"getAttrCtrlFromID('TIMEZONE')\"\n                          [formGroup]=\"userPersonalizationForm\"\n                          [readonly]=\"readonly\"\n                          [isSmallSize]=\"true\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                          [attributeControl]=\"getAttrCtrlFromID('DECIMAL_FORMAT')\"\n                          [formGroup]=\"userPersonalizationForm\"\n                          [readonly]=\"readonly\"\n                          [isSmallSize]=\"true\">\n  </dk-app-attribute-form2>\n  <dk-app-attribute-form2 class=\"col-md-6 col-lg-4\"\n                          [attributeControl]=\"getAttrCtrlFromID('DATE_FORMAT')\"\n                          [formGroup]=\"userPersonalizationForm\"\n                          [readonly]=\"readonly\"\n                          [isSmallSize]=\"true\">\n  </dk-app-attribute-form2>\n</form>\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from \"@angular/forms\";\nimport {IdentityService} from \"../../../identity.service\";\nimport {SearchHelpComponent} from \"jor-angular\";\n\n@Component({\n  selector: 'app-user-role',\n  templateUrl: './user-role.component.html',\n  styleUrls: ['./user-role.component.css']\n})\nexport class UserRoleComponent implements OnInit {\n  @Input() readonly: boolean;\n  @Input() userForm: FormGroup;\n  userRoleFormArray: FormArray;\n\n  constructor(private fb: FormBuilder,\n              private identityService: IdentityService) { }\n\n  @ViewChild(SearchHelpComponent, { static: true })\n  private searchHelpComponent: SearchHelpComponent;\n\n  ngOnInit() {\n    this.userRoleFormArray = this.userForm.get('userRole') as FormArray;\n    // Recheck each role since every time the template is initialized, Angular clears the error status.\n    if (!this.readonly) {\n      this.userRoleFormArray.controls.forEach( (ctrl, index) => {\n        this.onChangeRoleID(index);\n      });\n    }\n  }\n\n  deleteRole(index: number): void {\n    if (index !== this.userRoleFormArray.length - 1) {\n      this.userRoleFormArray.removeAt(index);\n      this.userRoleFormArray.markAsDirty();\n    }\n  }\n\n  onChangeRoleID(index: number): void {\n    const currentRole = this.userRoleFormArray.at(index);\n    if (this.oldRole(currentRole)) {\n      currentRole.get('NAME').setErrors({message: 'Duplicate Role'});\n      return;\n    }\n\n    if (index === this.userRoleFormArray.length - 1 && currentRole.value.NAME.trim() !== '') {\n      // Only work if the last line is not new and empty\n      this.userRoleFormArray.push(\n        this.fb.group({\n          NAME: [''],\n          DESCRIPTION: [''],\n          system_role_INSTANCE_GUID: [''],\n          RELATIONSHIP_INSTANCE_GUID: ['']\n        })\n      );\n    }\n\n    if (currentRole.value.NAME) {\n      this.identityService.getRoleDesc(currentRole.value.NAME).subscribe(data => {\n        if (data['msgCat']) {\n          currentRole.get('NAME').setErrors({message: data['msgShortText']});\n        } else {\n          currentRole.get('DESCRIPTION').setValue(data['DESCRIPTION']);\n          currentRole.get('system_role_INSTANCE_GUID').setValue(data['INSTANCE_GUID']);\n        }\n      });\n    }\n  }\n\n  oldRole(userRoleForm: AbstractControl): boolean {\n    const existIndex = this.userRoleFormArray.controls.findIndex(\n      role => role.value.NAME === userRoleForm.value.NAME && role.pristine && role.value.NAME !== '');\n    return existIndex !== -1 ;\n  }\n\n  onSearchHelp(rowID: number, exportObject: AbstractControl): void {\n    const afterExportFn = function (context: any, ruleIdx: number) {\n      return () => context.onChangeRoleID(ruleIdx);\n    }(this, rowID).bind(this);\n\n    this.searchHelpComponent.openSearchHelpModalByEntity('permission', 'r_role',\n      exportObject, this.readonly, null, null, afterExportFn);\n  }\n\n}\n","<table class=\"table table-sm table-bordered dk-table ml-3 mt-4\" [formGroup]=\"userForm\">\n  <thead class=\"thead-light dk-form-label\">\n    <tr>\n      <th class=\"dk-name\">Role</th>\n      <th class=\"dk-description\">Description</th>\n      <th class=\"dk-actions\">Action</th>\n    </tr>\n  </thead>\n\n  <tbody formArrayName=\"userRole\" class=\"mb-4\">\n    <tr *ngFor=\"let userRoleForm of userRoleFormArray.controls; let i = index\">\n      <td [formGroup]=\"userRoleForm\">\n        <div class=\"input-group\">\n          <input class=\"form-control form-control-sm\" type=\"text\" formControlName=\"NAME\" name=\"roleName\"\n               [readonly]=\"readonly || oldRole(userRoleForm) && userRoleForm.valid\" (change)=\"onChangeRoleID(i)\">\n          <div class=\"invalid-tooltip\">\n            {{userRoleForm.get('NAME').errors?.message}}\n          </div>\n          <div class=\"input-group-append\">\n            <button class=\"btn btn-sm btn-outline-secondary btn-light\" type=\"button\" id=\"searchPermission\"\n            (click)=\"onSearchHelp(i, userRoleForm)\">\n              <span class=\"fas fa-search\"></span>\n            </button>\n          </div>\n        </div>\n      </td>\n      <td [formGroup]=\"userRoleForm\" >\n        <input type=\"text\" formControlName=\"DESCRIPTION\" readonly class=\"form-control form-control-sm\">\n      </td>\n      <td>\n        <button class=\"btn btn-sm\" type=\"button\" id=\"delete\" [disabled]=\"readonly\" (click)=\"deleteRole(i)\" title=\"Delete\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<dk-app-search-help></dk-app-search-help>\n","import { Component, OnInit } from '@angular/core';\nimport {Message, MessageService, messageType} from 'ui-message-angular';\nimport {Router} from '@angular/router';\nimport {IdentityService} from '../../identity.service';\nimport {UserList} from '../../identity';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css']\n})\nexport class UserListComponent implements OnInit {\n  userID: string;\n  userName: string;\n  users: UserList[];\n  showDeletionConfirmation = false;\n  toBeDeletedUser: string;\n\n  get displayDeletionConfirmation() {return this.showDeletionConfirmation ? 'block' : 'none'; }\n\n  constructor(private identityService: IdentityService,\n              private messageService: MessageService,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  search() {\n    this.messageService.clearMessages();\n    this.users = [];\n    this.userID = this.userID ? this.userID.trim() : '';\n    this.userName = this.userName ? this.userName.trim() : '';\n    this.identityService.searchUsers(this.userID, this.userName).subscribe(\n      data => {\n        if (!data[0]) {\n          this.messageService.reportMessage('GENERAL', 'EMPTY_LIST', messageType.Warning);\n        } else if (data[0]['msgCat']) {\n          const messages = <Message[]>data;\n          messages.forEach( msg => this.messageService.add(msg));\n        } else {\n          this.users = <UserList[]>data;\n        }\n      }\n    );\n  }\n\n  enterSearch($event): void {\n    if ($event.keyCode === 13 ) {\n       this.search();\n    }\n  }\n\n  newUser(): void {\n    this.router.navigate(['users', '/', {action: 'new'}]);\n  }\n\n  displayUser(userID: string): void {\n    this.router.navigate(['users', userID, {action: 'display'}]);\n  }\n\n  changeUser(userID: string): void {\n    this.router.navigate(['users', userID, {action: 'change'}]);\n  }\n\n  deleteUser(userID: string): void {\n    this.toBeDeletedUser = userID;\n    this.showDeletionConfirmation = true;\n  }\n\n  cancelDeletion(): void {\n    this.showDeletionConfirmation = false;\n  }\n\n  confirmDeletion(): void {\n    const toBeDeletedUserGUID = this.users.find( ele => ele.USER_ID === this.toBeDeletedUser).INSTANCE_GUID;\n    this.identityService.delete(toBeDeletedUserGUID).subscribe( errorMsg => {\n      this.showDeletionConfirmation = false;\n      if (errorMsg) {\n        const messages = <Message[]>errorMsg;\n        messages.forEach( msg => this.messageService.add(msg));\n      } else {\n        this.search();\n      }\n    });\n  }\n\n}\n","<div class=\"card mb-3 pt-3\">\n  <div class=\"mt-2 pl-4 row\">\n    <div class=\"col-6 form-group row\">\n      <label for=\"user_id\" class=\"col-sm-3 col-form-label col-form-label-sm\">User ID:</label>\n      <input id=\"user_id\" name=\"user_id\" [(ngModel)]=\"userID\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\" autofocus>\n    </div>\n    <div class=\"col-6 form-group row\">\n      <label for=\"user_name\" class=\"col-sm-3 col-form-label col-form-label-sm\">User Name:</label>\n      <input id=\"user_name\" name=\"user_name\" [(ngModel)]=\"userName\" type=\"text\"\n             class=\"col-sm-6 form-control form-control-sm\" (keyup)=\"enterSearch($event)\">\n    </div>\n  </div>\n\n  <div class=\"mb-4\">\n    <button type=\"button\" id=\"search\" class=\"btn btn-sm btn-primary float-right mr-4\" (click)=\"search()\">Search</button>\n  </div>\n</div>\n\n<div class=\"mt-2 mb-4 mx-4\">\n  <dk-message></dk-message>\n  <div class=\"btn-toolbar justify-content-end my-2\" role=\"toolbar\">\n    <button type=\"button\" id=\"new\" class=\"btn btn-light btn-sm\" (click)=\"newUser()\"><span class=\"fas fa-plus\"></span> New</button>\n  </div>\n  <table class=\"table table-bordered table-sm\">\n    <thead class=\"thead-light\">\n    <tr>\n      <th>User ID</th>\n      <th>User Name</th>\n      <th>Display Name</th>\n      <th class=\"dk-lock\">Locked?</th>\n      <th class=\"dk-password-state\" >Password State</th>\n      <th class=\"dk-actions\">Action</th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <tr *ngFor=\"let user of users\">\n      <td><a [routerLink]=\"['/users', user.USER_ID, {action: 'display'}]\">{{user.USER_ID}}</a></td>\n      <td>{{user.USER_NAME}}</td>\n      <td>{{user.DISPLAY_NAME}}</td>\n      <td >\n        <span *ngIf=\"user.LOCK\" class=\"fas fa-lock\" title=\"Locked\"></span>\n        <span *ngIf=\"!user.LOCK\" class=\"fas fa-lock-open\" title=\"Unlocked\"></span>\n      </td>\n      <td [ngSwitch]=\"user.PWD_STATE\">\n        <div *ngSwitchCase=\"\">\n          <span class=\"badge badge-primary\">Initial</span>\n        </div>\n        <div *ngSwitchCase=\"1\">\n          <span class=\"badge badge-success\">Active</span>\n        </div>\n        <div *ngSwitchCase=\"2\">\n          <span class=\"badge badge-warning\">Renew</span>\n        </div>\n      </td>\n      <td>\n        <button title=\"Display\" id=\"display\" class=\"btn btn-sm\" type=\"button\" (click)=\"displayUser(user.USER_ID)\">\n          <span class=\"fas fa-search\"></span>\n        </button>\n        <button title=\"Change\" id=\"change\" class=\"btn btn-sm\" type=\"button\" (click)=\"changeUser(user.USER_ID)\">\n          <span class=\"fas fa-pen\"></span>\n        </button>\n        <button title=\"Delete\" id=\"delete\" class=\"btn btn-sm\" type=\"button\" (click)=\"deleteUser(user.USER_ID)\">\n          <span class=\"far fa-trash-alt\"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class=\"modal\" [class.show]=\"showDeletionConfirmation\"\n       [ngStyle]=\"{'display': displayDeletionConfirmation}\" id=\"deletionConfirmation\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-sm modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"confirmDeletion\">Confirm Deletion</h5>\n          <button type=\"button\" class=\"close\" (click)=\"cancelDeletion()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure to delete the user '{{toBeDeletedUser}}'?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" id=\"cancel\" class=\"btn btn-sm btn-secondary\" (click)=\"cancelDeletion()\">Cancel</button>\n          <button type=\"button\" id=\"confirm\" class=\"btn btn-sm btn-primary\" (click)=\"confirmDeletion()\">Confirm</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","import { Injectable } from '@angular/core';\nimport {ActivatedRouteSnapshot, CanDeactivate, RouterStateSnapshot} from '@angular/router';\nimport { Observable } from 'rxjs';\n\nexport interface CanComponentDeactivate {\n  canDeactivate: () => Observable<boolean> | Promise<boolean> | boolean;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorkProtectionGuard implements CanDeactivate<CanComponentDeactivate>  {\n\n  canDeactivate(component: CanComponentDeactivate,\n                currentRoute: ActivatedRouteSnapshot,\n                currentState: RouterStateSnapshot,\n                nextState?: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    return component.canDeactivate ? component.canDeactivate() : true;\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  redirectPath: '',\n  redirectUrl: '/portal/external-app/PERMISSION',\n  originalHost: 'http://localhost:3000'\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":"webpack:///"}